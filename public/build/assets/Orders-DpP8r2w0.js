import{r as h,c as D,Q as ce,i as ue,R as me,b as d,e,k,g as f,m as _,y as F,u as p,aD as pe,t as o,aF as ge,F as M,A as L,W as P,O as xe,X as U,a1 as K,f as ye,H as q,x as ve,o as i,B as Q,P as X,aJ as fe,aB as be,s as _e,_ as he,a6 as we,a2 as ke,ah as Ce,al as De,a8 as Se,K as Oe}from"./vendor-DMk-Ze7a.js";import{a as $e,c as Ae,d as Ee}from"./app-0h3ST0Fj.js";function Fe(){const{get:S,put:V,loading:T,error:j}=$e(),b=h([]),g=h({total_orders:0,revenue:0,pending:0,conversion_rate:0}),w=h([]),I=async()=>{try{const a=await S("/merchant/dashboard/stats");return a&&a.data&&(g.value={total_orders:parseInt(a.data.tickets_sold||0),revenue:parseFloat(a.data.total_sales||0),pending:parseInt(a.data.pending_orders||0),conversion_rate:parseFloat(a.data.conversion_rate||0)}),a}catch(a){throw console.error("Erreur lors du chargement des stats:",a),g.value={total_orders:0,revenue:0,pending:0,conversion_rate:0},a}},B=async(a={})=>{try{const l=new URLSearchParams;a.search&&l.append("search",a.search),a.status&&l.append("status",a.status),a.product&&l.append("product_id",a.product),a.startDate&&l.append("date_from",a.startDate),a.endDate&&l.append("date_to",a.endDate),a.limit&&l.append("per_page",a.limit);const r=l.toString(),m=`/merchant/orders${r?"?"+r:""}`,v=await S(m);return v&&v.data&&v.data.data&&Array.isArray(v.data.data)?b.value=v.data.data.map(c=>({id:c.id,order_number:c.order_number,customer_name:c.customer_name,customer_email:c.customer_email,product_name:c.product_name,product_image:c.product_image,tickets_count:c.tickets_count,ticket_numbers:c.ticket_numbers||[],ticket_price:c.ticket_price,total_amount:c.total_amount,currency:"FCFA",payment_method:c.payment_method,status:c.status,type:c.type,has_winning_ticket:c.has_winning_ticket||!1,created_at:c.created_at,updated_at:c.updated_at,lottery:c.lottery})):b.value=[],v}catch(l){throw console.error("Erreur lors du chargement des commandes:",l),b.value=[],l}},N=async()=>{try{const a=await S("/merchant/dashboard/top-products?limit=100");return a&&a.data&&Array.isArray(a.data)?w.value=a.data.map(l=>({id:l.id,name:l.title||l.name||"Produit sans nom"})):w.value=[],a}catch(a){throw console.error("Erreur lors du chargement des produits:",a),w.value=[],a}},O=async(a,l)=>{try{const r=await V(`/transactions/${a}/status`,{status:l});if(r.success){const m=b.value.findIndex(v=>v.id===a);m!==-1&&(b.value[m].status=l)}return r}catch(r){throw console.error("Erreur lors de la mise à jour du statut:",r),r}},x=async a=>O(a.id,"confirmed"),$=async a=>O(a.id,"cancelled"),u=async(a="csv")=>{try{return await S(`/merchant/dashboard/export-orders?format=${a}`)}catch(l){throw console.error("Erreur lors de l'export:",l),l}},y=D(()=>{const a=new Date,l=new Date(a.getTime()-10080*60*1e3);b.value.filter(m=>new Date(m.created_at)>=l);const r=m=>0;return[{label:"Total commandes",value:(g.value.total_orders||0).toString(),change:r(g.value.total_orders),icon:"ShoppingBagIcon",color:"bg-[#0099cc]"},{label:"Revenus",value:Math.floor(g.value.revenue||0).toLocaleString(),change:r(g.value.revenue),icon:"CurrencyDollarIcon",color:"bg-blue-500"},{label:"En attente",value:(g.value.pending||0).toString(),change:r(g.value.pending),icon:"ClockIcon",color:"bg-yellow-500"},{label:"Taux conversion",value:`${g.value.conversion_rate||0}%`,change:r(g.value.conversion_rate),icon:"CheckIcon",color:"bg-purple-500"}]});return{orders:b,stats:g,products:w,orderStats:y,loading:T,error:j,loadStats:I,loadOrders:B,loadProducts:N,updateOrderStatus:O,confirmOrder:x,cancelOrder:$,exportOrders:u}}const Pe={class:"space-y-6"},Te={class:"flex items-center justify-between"},Ie={class:"flex space-x-3"},Me=["disabled"],Le={class:"grid grid-cols-1 md:grid-cols-4 gap-6"},Ve={class:"flex items-center justify-between"},je={class:"text-sm font-medium text-gray-600"},Be={class:"text-2xl font-bold text-gray-900 mt-1"},Ne={class:"mt-4 pt-4 border-t border-gray-100"},Re={class:"flex items-center text-xs"},Ue={class:"bg-white rounded-xl shadow-lg border border-gray-100 p-6"},qe={class:"grid grid-cols-1 md:grid-cols-5 gap-4"},ze={class:"relative"},We=["value"],Ge={class:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden"},He={key:0,class:"flex justify-center py-12"},Je={key:1,class:"text-center py-12"},Ke={key:2,class:"overflow-x-auto"},Qe={class:"min-w-full"},Xe={class:"bg-white divide-y divide-gray-200"},Ye={class:"px-6 py-4 whitespace-nowrap"},Ze={class:"text-sm font-medium text-gray-900"},et={class:"text-sm text-gray-500"},tt={class:"px-6 py-4 whitespace-nowrap"},st={class:"flex items-center"},at={class:"w-10 h-10 bg-gray-300 rounded-full flex items-center justify-center"},nt={class:"ml-3"},rt={class:"text-sm font-medium text-gray-900"},ot={class:"text-sm text-gray-500"},lt={class:"px-6 py-4 whitespace-nowrap"},it={class:"flex items-center"},dt=["src","alt"],ct={class:"ml-3"},ut={class:"text-sm font-medium text-gray-900"},mt={class:"text-sm text-gray-500"},pt={class:"px-6 py-4 whitespace-nowrap"},gt={class:"flex items-center space-x-2"},xt={class:"text-sm text-gray-900"},yt={class:"text-sm text-gray-500"},vt={key:0,class:"ml-2"},ft={key:0,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800"},bt={key:1,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-600"},_t={class:"px-6 py-4 whitespace-nowrap"},ht={class:"text-sm font-semibold text-gray-900"},wt={class:"text-sm text-gray-500"},kt={class:"px-6 py-4 whitespace-nowrap"},Ct={class:"px-6 py-4 whitespace-nowrap"},Dt={class:"text-sm text-gray-900"},St={class:"text-sm text-gray-500"},Ot={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},$t={class:"flex items-center space-x-2"},At=["onClick"],Et=["onClick","title"],Ft=["onClick"],Pt=["onClick"],Tt={class:"bg-white px-6 py-3 border-t border-gray-200 flex items-center justify-between"},It={class:"text-sm text-gray-700"},Mt={class:"font-medium"},Lt={class:"font-medium"},Vt={class:"font-medium"},jt={class:"flex space-x-2"},Bt=["disabled"],Nt=["disabled"],Rt={key:0,class:"fixed inset-0 bg-black/20 overflow-y-auto h-full w-full z-50"},Ut={class:"relative top-20 mx-auto p-5 border w-11/12 md:w-2/3 lg:w-1/2 shadow-lg rounded-xl bg-white"},qt={class:"flex items-center justify-between mb-6"},zt={key:0,class:"space-y-6"},Wt={class:"grid grid-cols-2 gap-4"},Gt={class:"text-sm text-gray-900"},Ht={class:"text-sm text-gray-900"},Jt={class:"text-sm text-gray-900 font-semibold"},Kt={class:"bg-gray-50 p-4 rounded-lg"},Qt={class:"grid grid-cols-2 gap-4"},Xt={class:"text-sm text-gray-900"},Yt={class:"text-sm text-gray-900"},Zt={class:"bg-gray-50 p-4 rounded-lg"},es={class:"text-sm text-gray-700 mb-2"},ts={class:"flex flex-wrap gap-2"},ss={class:"mt-6 flex justify-end space-x-3"},rs={__name:"Orders",setup(S){const{orders:V,products:T,orderStats:j,loading:b,loadStats:g,loadOrders:w,loadProducts:I,confirmOrder:B,cancelOrder:N,exportOrders:O}=Fe(),x=Ae(),$=h(!1),u=h(null),y=h(1),a=h(10),l=h(!1),r=ce({search:"",status:"",product:"",startDate:"",endDate:""}),m=D(()=>{let n=V.value;if(r.search){const t=r.search.toLowerCase();n=n.filter(s=>s.order_number.toLowerCase().includes(t)||s.customer_name.toLowerCase().includes(t)||s.product_name.toLowerCase().includes(t))}return r.status&&(n=n.filter(t=>t.status===r.status)),r.product&&(n=n.filter(t=>t.product_name.includes(T.value.find(s=>s.id==r.product)?.name||""))),r.startDate&&(n=n.filter(t=>new Date(t.created_at)>=new Date(r.startDate))),r.endDate&&(n=n.filter(t=>new Date(t.created_at)<=new Date(r.endDate))),n}),v=D(()=>Math.ceil(m.value.length/a.value)),c=D(()=>{const n=(y.value-1)*a.value,t=n+a.value;return m.value.slice(n,t)}),Y=D(()=>(y.value-1)*a.value+1),Z=D(()=>{const n=y.value*a.value;return Math.min(n,m.value.length)}),C=async()=>{y.value=1,await A()},A=async()=>{try{await w(r)}catch{x.error("Erreur lors du chargement des commandes")}},ee=()=>{y.value>1&&y.value--},te=()=>{y.value<v.value&&y.value++},z=n=>({pending:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800",awaiting_payment:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",paid:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",shipping:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",fulfilled:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",cancelled:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-red-100 text-red-800",confirmed:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",completed:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800"})[n]||"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-gray-100 text-gray-800",W=n=>({pending:"En attente",awaiting_payment:"En attente de paiement",paid:"Payé",shipping:"En cours de livraison",fulfilled:"Livré",cancelled:"Annulé",confirmed:"Confirmé",completed:"Terminé"})[n]||n,G=n=>new Date(n).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"}),se=n=>new Date(n).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"}),ae=n=>{u.value=n,$.value=!0},E=()=>{$.value=!1,u.value=null},H=async n=>{if(confirm(`Confirmer la commande ${n.order_number} ?`))try{await B(n),x.success("Commande confirmée avec succès !"),E(),await A()}catch{x.error("Erreur lors de la confirmation")}},ne=async n=>{if(confirm(`Annuler la commande ${n.order_number} ? Cette action est irréversible.`))try{await N(n),x.success("Commande annulée"),E(),await A()}catch{x.error("Erreur lors de l'annulation")}},re=async n=>{if(confirm(`Marquer la commande ${n.order_number} comme en cours de livraison ?`))try{await Ee(n.order_number,"shipping","Commande expédiée par le marchand"),x.success("Commande marquée en cours de livraison"),E(),await A()}catch{x.error("Erreur lors du changement de statut")}},oe=async()=>{l.value=!0;try{await Promise.all([g(),A(),I()]),x.success("Commandes actualisées")}catch{x.error("Erreur lors de l'actualisation")}finally{l.value=!1}},le=async()=>{try{await O("csv"),x.success("Export des commandes démarré")}catch{x.error("Erreur lors de l'export des commandes")}},ie=n=>n.type==="lottery"?n.has_winning_ticket?"Marquer en cours de livraison (ticket gagnant)":"Ticket non gagnant - pas de livraison":"Marquer en cours de livraison";ue(async()=>{try{await Promise.all([g(),w(),I()])}catch(n){console.error("Erreur lors du chargement initial:",n),x.error("Erreur lors du chargement des données")}});let J=null;me(()=>r.search,n=>{clearTimeout(J),J=setTimeout(()=>{C()},500)});const de=n=>({ShoppingBagIcon:q,CurrencyDollarIcon:Oe,ClockIcon:Se,CheckIcon:De})[n]||q;return(n,t)=>(i(),d("div",Pe,[e("div",Te,[t[7]||(t[7]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900"},"Mes Commandes"),e("p",{class:"mt-2 text-gray-600"},"Suivez et gérez toutes vos ventes de tickets de tombola")],-1)),e("div",Ie,[e("button",{onClick:oe,disabled:l.value,class:"inline-flex items-center px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors disabled:opacity-50"},[f(p(pe),{class:F(["w-4 h-4 mr-2",{"animate-spin":l.value}])},null,8,["class"]),_(" "+o(l.value?"Actualisation...":"Actualiser"),1)],8,Me),e("button",{onClick:le,class:"inline-flex items-center px-4 py-2 bg-[#0099cc] hover:bg-[#0088bb] text-white rounded-lg transition-colors"},[f(p(ge),{class:"w-4 h-4 mr-2"}),t[6]||(t[6]=_(" Exporter ",-1))])])]),e("div",Le,[(i(!0),d(M,null,L(p(j),s=>(i(),d("div",{key:s.label,class:"bg-white p-6 rounded-xl shadow-lg border border-gray-100"},[e("div",Ve,[e("div",null,[e("p",je,o(s.label),1),e("p",Be,o(s.value),1)]),e("div",{class:F(["p-3 rounded-xl",s.color])},[(i(),Q(X(de(s.icon)),{class:"w-6 h-6 text-white"}))],2)]),e("div",Ne,[e("div",Re,[e("span",{class:F(["inline-flex items-center px-2 py-1 rounded-full font-medium",s.change>=0?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"])},[(i(),Q(X(s.change>=0?p(fe):p(be)),{class:"w-3 h-3 mr-1"})),_(" "+o(Math.abs(s.change))+"% ",1)],2),t[8]||(t[8]=e("span",{class:"ml-2 text-gray-500"},"vs semaine dernière",-1))])])]))),128))]),e("div",Ue,[e("div",qe,[e("div",null,[t[9]||(t[9]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Rechercher",-1)),e("div",ze,[f(p(xe),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),P(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>r.search=s),type:"text",placeholder:"ID, client, produit...",class:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#0099cc] focus:border-transparent text-black",onInput:C},null,544),[[U,r.search]])])]),e("div",null,[t[11]||(t[11]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Statut",-1)),P(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>r.status=s),onChange:C,class:"w-full py-2 px-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#0099cc] focus:border-transparent text-black"},t[10]||(t[10]=[ye('<option value="">Tous les statuts</option><option value="pending">En attente</option><option value="awaiting_payment">En attente de paiement</option><option value="paid">Payé</option><option value="shipping">En cours de livraison</option><option value="fulfilled">Livré</option><option value="cancelled">Annulé</option>',7)]),544),[[K,r.status]])]),e("div",null,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Produit",-1)),P(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>r.product=s),onChange:C,class:"w-full py-2 px-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#0099cc] focus:border-transparent text-black"},[t[12]||(t[12]=e("option",{value:""},"Tous les produits",-1)),(i(!0),d(M,null,L(p(T),s=>(i(),d("option",{key:s.id,value:s.id},o(s.name),9,We))),128))],544),[[K,r.product]])]),e("div",null,[t[14]||(t[14]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Date début",-1)),P(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>r.startDate=s),type:"date",onChange:C,class:"w-full py-2 px-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#0099cc] focus:border-transparent text-black"},null,544),[[U,r.startDate]])]),e("div",null,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Date fin",-1)),P(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>r.endDate=s),type:"date",onChange:C,class:"w-full py-2 px-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#0099cc] focus:border-transparent text-black"},null,544),[[U,r.endDate]])])])]),e("div",Ge,[t[24]||(t[24]=e("div",{class:"px-6 py-4 border-b border-gray-200 bg-gray-50"},[e("h3",{class:"text-lg font-semibold text-gray-900"},"Commandes récentes")],-1)),p(b)?(i(),d("div",He,t[16]||(t[16]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#0099cc]"},null,-1)]))):m.value.length===0?(i(),d("div",Je,[f(p(q),{class:"w-16 h-16 text-gray-400 mx-auto mb-4"}),t[17]||(t[17]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"Aucune commande",-1)),t[18]||(t[18]=e("p",{class:"text-gray-600"},"Aucune commande ne correspond à vos critères.",-1))])):(i(),d("div",Ke,[e("table",Qe,[t[19]||(t[19]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Commande "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Client "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Produit "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Tickets "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Montant "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Statut "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Date "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",Xe,[(i(!0),d(M,null,L(c.value,s=>(i(),d("tr",{key:s.id,class:"hover:bg-gray-50 transition-colors"},[e("td",Ye,[e("div",null,[e("div",Ze,"#"+o(s.order_number),1),e("div",et,o(s.payment_method),1)])]),e("td",tt,[e("div",st,[e("div",at,[f(p(_e),{class:"w-5 h-5 text-gray-600"})]),e("div",nt,[e("div",rt,o(s.customer_name),1),e("div",ot,o(s.customer_email),1)])])]),e("td",lt,[e("div",it,[e("img",{class:"h-12 w-12 rounded-lg object-cover",src:s.product_image,alt:s.product_name},null,8,dt),e("div",ct,[e("div",ut,o(s.product_name),1),e("div",mt,o(s.ticket_price.toLocaleString())+" FCFA/ticket",1)])])]),e("td",pt,[e("div",gt,[e("div",null,[e("div",xt,o(s.tickets_count)+" tickets",1),e("div",yt,"N° "+o(s.ticket_numbers.join(", ")),1)]),s.type==="lottery"?(i(),d("div",vt,[s.has_winning_ticket?(i(),d("span",ft," 🏆 Gagnant ")):(i(),d("span",bt," Non gagnant "))])):k("",!0)])]),e("td",_t,[e("div",ht,o(s.total_amount.toLocaleString())+" FCFA",1),e("div",wt,o(s.currency),1)]),e("td",kt,[e("span",{class:F(z(s.status))},o(W(s.status)),3)]),e("td",Ct,[e("div",Dt,o(G(s.created_at)),1),e("div",St,o(se(s.created_at)),1)]),e("td",Ot,[e("div",$t,[e("button",{onClick:R=>ae(s),class:"text-[#0099cc] hover:text-[#0088bb] transition-colors",title:"Voir détails"},[f(p(he),{class:"w-4 h-4"})],8,At),s.status==="paid"&&(s.type!=="lottery"||s.has_winning_ticket)?(i(),d("button",{key:0,onClick:R=>re(s),class:"text-blue-600 hover:text-blue-800 transition-colors",title:ie(s)},[f(p(we),{class:"w-4 h-4"})],8,Et)):k("",!0),s.status==="pending"?(i(),d("button",{key:1,onClick:R=>H(s),class:"text-blue-600 hover:text-blue-800 transition-colors",title:"Confirmer"},[f(p(ke),{class:"w-4 h-4"})],8,Ft)):k("",!0),["pending","confirmed"].includes(s.status)?(i(),d("button",{key:2,onClick:R=>ne(s),class:"text-red-600 hover:text-red-800 transition-colors",title:"Annuler"},[f(p(Ce),{class:"w-4 h-4"})],8,Pt)):k("",!0)])])]))),128))])])])),e("div",Tt,[e("div",It,[t[20]||(t[20]=_(" Affichage de ",-1)),e("span",Mt,o(Y.value),1),t[21]||(t[21]=_(" à ",-1)),e("span",Lt,o(Z.value),1),t[22]||(t[22]=_(" sur ",-1)),e("span",Vt,o(m.value.length),1),t[23]||(t[23]=_(" résultats ",-1))]),e("div",jt,[e("button",{onClick:ee,disabled:y.value===1,class:"px-3 py-1 bg-gray-100 text-gray-600 rounded-md hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed"}," Précédent ",8,Bt),e("button",{onClick:te,disabled:y.value===v.value,class:"px-3 py-1 bg-gray-100 text-gray-600 rounded-md hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed"}," Suivant ",8,Nt)])])]),$.value?(i(),d("div",Rt,[e("div",Ut,[e("div",qt,[t[25]||(t[25]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Détails de la commande",-1)),e("button",{onClick:E,class:"text-gray-400 hover:text-gray-600"},[f(p(ve),{class:"w-6 h-6"})])]),u.value?(i(),d("div",zt,[e("div",Wt,[e("div",null,[t[26]||(t[26]=e("label",{class:"block text-sm font-medium text-gray-700"},"N° de commande",-1)),e("p",Gt,o(u.value.order_number),1)]),e("div",null,[t[27]||(t[27]=e("label",{class:"block text-sm font-medium text-gray-700"},"Date",-1)),e("p",Ht,o(G(u.value.created_at)),1)]),e("div",null,[t[28]||(t[28]=e("label",{class:"block text-sm font-medium text-gray-700"},"Statut",-1)),e("span",{class:F(z(u.value.status))},o(W(u.value.status)),3)]),e("div",null,[t[29]||(t[29]=e("label",{class:"block text-sm font-medium text-gray-700"},"Montant",-1)),e("p",Jt,o(u.value.total_amount.toLocaleString())+" FCFA",1)])]),e("div",null,[t[32]||(t[32]=e("h4",{class:"text-md font-semibold text-gray-900 mb-3"},"Informations client",-1)),e("div",Kt,[e("div",Qt,[e("div",null,[t[30]||(t[30]=e("label",{class:"block text-sm font-medium text-gray-700"},"Nom",-1)),e("p",Xt,o(u.value.customer_name),1)]),e("div",null,[t[31]||(t[31]=e("label",{class:"block text-sm font-medium text-gray-700"},"Email",-1)),e("p",Yt,o(u.value.customer_email),1)])])])]),e("div",null,[t[33]||(t[33]=e("h4",{class:"text-md font-semibold text-gray-900 mb-3"},"Tickets achetés",-1)),e("div",Zt,[e("p",es,[e("strong",null,o(u.value.tickets_count)+" tickets",1),_(" pour "+o(u.value.product_name),1)]),e("div",ts,[(i(!0),d(M,null,L(u.value.ticket_numbers,s=>(i(),d("span",{key:s,class:"inline-block bg-[#0099cc] text-white px-2 py-1 rounded text-xs font-mono"}," #"+o(s),1))),128))])])])])):k("",!0),e("div",ss,[e("button",{onClick:E,class:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300"}," Fermer "),u.value?.status==="pending"?(i(),d("button",{key:0,onClick:t[5]||(t[5]=s=>H(u.value)),class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700"}," Confirmer la commande ")):k("",!0)])])])):k("",!0)]))}};export{rs as default};
