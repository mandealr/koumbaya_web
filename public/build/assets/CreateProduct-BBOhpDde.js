import{r as F,x as $,c as M,g as ut,b as n,e as t,i as x,w as pt,k as mt,F as P,n as j,j as u,A as g,B as b,t as d,E as z,u as p,z as V,D as gt,l as _,m as ft,o as i,q as C,p as xt,v as bt}from"./vendor-zwIjsTu0.js";import{a as yt,w as S,x as T,y as R,z as _t,A as vt,p as kt}from"./app-BIVeIZpf.js";import{r as U}from"./RocketLaunchIcon-BKT2BNkg.js";const wt={class:"max-w-4xl mx-auto space-y-6"},ht={class:"flex items-center justify-between"},Dt={class:"bg-white rounded-xl shadow-lg border border-gray-100 p-6"},Ft={class:"flex items-center justify-between mb-8"},Ct={class:"flex items-center"},Et={key:1},Mt={class:"ml-3"},Pt={class:"text-xs text-gray-500"},jt={key:0,class:"bg-white rounded-xl shadow-lg border border-gray-100 p-6"},Vt={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},It={class:"lg:col-span-2"},At={key:0,class:"mt-1 text-sm text-red-600"},Lt={key:1,class:"mt-1 text-sm text-orange-600"},qt={class:"lg:col-span-2"},$t={key:0,class:"mt-1 text-sm text-red-600"},zt={key:1,class:"mt-1 text-sm text-orange-600"},St=["disabled"],Tt={key:0,disabled:""},Rt=["value"],Ut={key:0,class:"mt-1 text-sm text-red-600"},Nt={key:0,class:"mt-1 text-sm text-red-600"},Bt={key:1,class:"mt-1 text-sm text-orange-600"},Gt={key:1,class:"bg-white rounded-xl shadow-lg border border-gray-100 p-6"},Ot={class:"space-y-6"},Jt={class:"text-center"},Wt={key:0,class:"grid grid-cols-2 md:grid-cols-4 gap-4"},Kt=["src","alt"],Ht=["onClick"],Qt={key:0,class:"absolute bottom-2 left-2 bg-[#0099cc] text-white text-xs px-2 py-1 rounded-md"},Xt={class:"bg-blue-50 border border-blue-200 rounded-xl p-4"},Yt={class:"flex items-start space-x-3"},Zt={key:2,class:"bg-white rounded-xl shadow-lg border border-gray-100 p-6"},te={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},ee={key:0,class:"mt-1 text-sm text-red-600"},se={key:1,class:"mt-1 text-sm text-orange-600"},oe={key:2,class:"text-sm text-gray-500 mt-1"},re={key:0,class:"mt-1 text-sm text-red-600"},ie={key:1,class:"mt-1 text-sm text-orange-600"},ne={key:2,class:"text-sm text-gray-500 mt-1"},ae=["min"],le={key:0,class:"mt-1 text-sm text-red-600"},de={key:1,class:"mt-1 text-sm text-orange-600"},ce=["max"],ue={key:0,class:"mt-1 text-sm text-red-600"},pe={key:1,class:"mt-1 text-sm text-orange-600"},me={key:2,class:"text-sm text-gray-500 mt-1"},ge={class:"lg:col-span-2"},fe={class:"bg-gradient-to-br from-[#0099cc]/10 to-cyan-100 rounded-xl p-6"},xe={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},be={class:"text-center"},ye={class:"text-2xl font-bold text-[#0099cc]"},_e={class:"text-center"},ve={class:"text-2xl font-bold text-blue-600"},ke={class:"text-center"},we={class:"text-2xl font-bold text-purple-600"},he={key:3,class:"bg-white rounded-xl shadow-lg border border-gray-100 p-6"},De={class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},Fe={class:"space-y-3"},Ce={class:"flex justify-between"},Ee={class:"font-medium"},Me={class:"flex justify-between"},Pe={class:"font-medium"},je={class:"flex justify-between"},Ve={class:"font-medium"},Ie={class:"flex justify-between"},Ae={class:"font-medium"},Le={class:"flex justify-between"},qe={class:"font-medium"},$e={class:"space-y-3"},ze={class:"flex justify-between"},Se={class:"font-medium"},Te={class:"flex justify-between"},Re={class:"font-medium"},Ue={class:"flex justify-between"},Ne={class:"font-medium"},Be={class:"flex justify-between"},Ge={class:"font-medium"},Oe={class:"flex justify-between border-t pt-3"},Je={class:"font-bold text-[#0099cc]"},We={class:"mt-8 p-4 bg-gray-50 rounded-xl"},Ke={class:"flex items-start space-x-3"},He={class:"flex justify-between items-center bg-white rounded-xl shadow-lg border border-gray-100 p-6"},Qe={key:1},Xe={class:"text-sm text-gray-500"},Ye=["disabled"],Ze=["disabled"],ts={key:0,class:"flex items-center"},es={key:1,class:"flex items-center"},as={__name:"CreateProduct",setup(ss){const N=ft(),{get:B,post:I,loading:v}=yt(),c=F(1),k=F(!1),h=F(null),y=[{id:1,title:"Informations",description:"Détails du produit",icon:T},{id:2,title:"Photos",description:"Images du produit",icon:S},{id:3,title:"Tombola",description:"Configuration",icon:_t},{id:4,title:"Publication",description:"Vérification",icon:U}],A=F([]),s=$({name:"",description:"",category_id:"",condition:"",price:"",location:"",images:[],ticket_price:"",total_tickets:"",min_tickets:"",end_date:"",terms_accepted:!1,duration_days:7}),a=$({name:"",description:"",category_id:"",condition:"",value:"",location:"",images:"",ticket_price:"",total_tickets:"",min_tickets:"",end_date:""}),G=M(()=>{const o=new Date;return o.setDate(o.getDate()+1),o.toISOString().slice(0,16)}),D=M(()=>{const o=(s.ticket_price||0)*(s.total_tickets||0),e=o*.05,l=o-e,r=s.price?Math.round((l-s.price)/s.price*100):0;return{totalRevenue:o,platformFee:e,netRevenue:l,profitMargin:r}}),E=M(()=>{switch(c.value){case 1:return O();case 2:return!0;case 3:return J();case 4:return s.terms_accepted;default:return!1}}),O=()=>{const o=s.name&&s.description&&s.category_id&&s.condition&&s.price&&s.location&&parseFloat(s.price)>=1e3;return o&&(a.name="",a.description="",a.category_id="",a.condition="",a.price="",a.location=""),o},J=()=>{const o=s.ticket_price&&s.total_tickets&&s.min_tickets&&s.end_date&&parseFloat(s.ticket_price)>=100&&parseInt(s.total_tickets)>=10&&parseInt(s.min_tickets)>=10&&parseInt(s.min_tickets)<=parseInt(s.total_tickets)&&new Date(s.end_date)>new Date;return o&&(a.ticket_price="",a.total_tickets="",a.min_tickets="",a.end_date=""),o},W=()=>{E.value&&c.value<y.length&&c.value++},K=()=>{c.value>1&&c.value--},H=()=>{h.value?.click()},Q=o=>{const e=Array.from(o.target.files||[]);L(e)},X=o=>{const e=Array.from(o.dataTransfer.files||[]);L(e)},L=o=>{const e=o.filter(l=>l.type.startsWith("image/")?l.size>5242880?(f(`Le fichier ${l.name} est trop volumineux (max 5MB)`),!1):!0:(f(`Le fichier ${l.name} n'est pas une image valide`),!1));if(s.images.length+e.length>10){f("Maximum 10 images autorisées");return}e.forEach(l=>{const r=new FileReader;r.onload=m=>{s.images.push({file:l,preview:m.target?.result,name:l.name,size:l.size,type:l.type})},r.onerror=()=>{f(`Erreur lors de la lecture du fichier ${l.name}`)},r.readAsDataURL(l)}),h.value&&(h.value.value="")},Y=o=>{s.images.splice(o,1)},q=()=>{},w=o=>new Intl.NumberFormat("fr-FR").format(o||0),Z=o=>o?new Date(o).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"",tt=o=>({new:"Neuf",used:"Occasion",refurbished:"Reconditionné"})[o]||o,et=async()=>{k.value=!0,st();try{const o=Math.ceil(s.price/s.ticket_price),e={name:s.name,description:s.description,category_id:parseInt(s.category_id),price:parseFloat(s.price),ticket_price:parseFloat(s.ticket_price),min_participants:parseInt(s.min_tickets),images:s.images.map(r=>r.preview)},l=await I("/products",e);if(l.product){const r={duration_days:rt()};try{await I(`/products/${l.product.id}/create-lottery`,r),it("Produit et tombola créés avec succès !")}catch(m){console.error("Error creating lottery:",m),nt("Produit créé mais erreur lors de la création de la tombola")}setTimeout(()=>{N.push("/merchant/products")},1500)}}catch(o){console.error("Error creating product:",o),ot(o)}finally{k.value=!1}},st=()=>{Object.keys(a).forEach(o=>{a[o]=""})},ot=o=>{if(o.response?.data?.errors){const e=o.response.data.errors;Object.keys(e).forEach(l=>{a[l]!==void 0&&(a[l]=e[l][0])}),f("Veuillez corriger les erreurs dans le formulaire")}else o.response?.data?.message?f(o.response.data.message):f("Une erreur est survenue. Veuillez réessayer.")},rt=()=>{if(!s.end_date)return 7;const o=new Date(s.end_date),l=Math.abs(o-new Date),r=Math.ceil(l/(1e3*60*60*24));return Math.min(Math.max(r,1),30)},it=o=>{window.$toast&&window.$toast.success(o,"✅ Succès")},f=o=>{window.$toast&&window.$toast.error(o,"❌ Erreur")},nt=o=>{window.$toast&&window.$toast.warning(o,"⚠️ Attention")},at=()=>{if(s.end_date){const o=new Date(s.end_date),e=new Date,l=new Date;l.setDate(l.getDate()+30),o<=e?a.end_date="La date de fin doit être dans le futur":o>l?a.end_date="La date de fin ne peut pas dépasser 30 jours":a.end_date=""}},lt=()=>{s.ticket_price&&(parseFloat(s.ticket_price)<100?a.ticket_price="Le prix minimum est de 100 FCFA":a.ticket_price="")},dt=()=>{if(s.total_tickets){const o=parseInt(s.total_tickets);o<10?a.total_tickets="Minimum 10 tickets requis":o>1e4?a.total_tickets="Maximum 10,000 tickets autorisés":a.total_tickets=""}},ct=async()=>{try{const o=await B("/categories");o.data&&(A.value=o.data)}catch(o){console.error("Error loading categories:",o),f("Erreur lors du chargement des catégories")}};return ut(()=>{ct(),console.log("CreateProduct page loaded")}),(o,e)=>{const l=mt("router-link");return i(),n("div",wt,[t("div",ht,[e[13]||(e[13]=t("div",null,[t("h1",{class:"text-3xl font-bold text-gray-900"},"Publier un Nouveau Produit"),t("p",{class:"mt-2 text-gray-600"},"Créez votre tombola et mettez votre produit en vente")],-1)),x(l,{to:"/merchant/products",class:"inline-flex items-center px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors"},{default:pt(()=>[x(p(R),{class:"w-4 h-4 mr-2"}),e[12]||(e[12]=_(" Retour aux produits ",-1))]),_:1,__:[12]})]),t("div",Dt,[t("div",Ft,[(i(),n(P,null,j(y,(r,m)=>t("div",{key:r.id,class:C(["flex items-center",{"flex-1":m<y.length-1}])},[t("div",Ct,[t("div",{class:C(["flex items-center justify-center w-10 h-10 rounded-full border-2 font-medium text-sm transition-all",c.value>=r.id?"border-[#0099cc] bg-[#0099cc] text-white":"border-gray-300 bg-white text-gray-400"])},[c.value>=r.id?(i(),xt(bt(r.icon),{key:0,class:"w-5 h-5"})):(i(),n("span",Et,d(r.id),1))],2),t("div",Mt,[t("p",{class:C(["text-sm font-medium",c.value>=r.id?"text-[#0099cc]":"text-gray-400"])},d(r.title),3),t("p",Pt,d(r.description),1)])]),m<y.length-1?(i(),n("div",{key:0,class:C(["flex-1 h-0.5 mx-4 transition-all",c.value>r.id?"bg-[#0099cc]":"bg-gray-200"])},null,2)):u("",!0)],2)),64))])]),t("form",{onSubmit:V(et,["prevent"]),class:"space-y-6"},[c.value===1?(i(),n("div",jt,[e[22]||(e[22]=t("h2",{class:"text-xl font-semibold text-gray-900 mb-6"},"Informations de base",-1)),t("div",Vt,[t("div",It,[e[14]||(e[14]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Nom du produit * ",-1)),g(t("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>s.name=r),type:"text",required:"",class:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#0099cc] focus:border-transparent transition-all",style:{color:"#5f5f5f"},placeholder:"Ex: iPhone 15 Pro Max 256GB"},null,512),[[b,s.name]]),a.name?(i(),n("p",At,d(a.name),1)):s.name&&s.name.length<3?(i(),n("p",Lt,"Le nom doit contenir au moins 3 caractères")):u("",!0)]),t("div",qt,[e[15]||(e[15]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Description * ",-1)),g(t("textarea",{"onUpdate:modelValue":e[1]||(e[1]=r=>s.description=r),rows:"4",required:"",class:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#0099cc] focus:border-transparent transition-all",style:{color:"#5f5f5f"},placeholder:"Décrivez votre produit en détail..."},null,512),[[b,s.description]]),a.description?(i(),n("p",$t,d(a.description),1)):s.description&&s.description.length<10?(i(),n("p",zt,"La description doit contenir au moins 10 caractères")):u("",!0)]),t("div",null,[e[17]||(e[17]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Catégorie * ",-1)),g(t("select",{"onUpdate:modelValue":e[2]||(e[2]=r=>s.category_id=r),required:"",disabled:p(v),class:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#0099cc] focus:border-transparent transition-all disabled:opacity-50",style:{color:"#5f5f5f"}},[e[16]||(e[16]=t("option",{value:""},"Sélectionner une catégorie",-1)),p(v)?(i(),n("option",Tt,"Chargement des catégories...")):u("",!0),(i(!0),n(P,null,j(A.value,r=>(i(),n("option",{key:r.id,value:r.id},d(r.name),9,Rt))),128))],8,St),[[z,s.category_id]]),a.category_id?(i(),n("p",Ut,d(a.category_id),1)):u("",!0)]),t("div",null,[e[19]||(e[19]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Condition * ",-1)),g(t("select",{"onUpdate:modelValue":e[3]||(e[3]=r=>s.condition=r),required:"",class:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#0099cc] focus:border-transparent transition-all",style:{color:"#5f5f5f"}},e[18]||(e[18]=[t("option",{value:""},"État du produit",-1),t("option",{value:"new"},"Neuf",-1),t("option",{value:"used"},"Occasion",-1),t("option",{value:"refurbished"},"Reconditionné",-1)]),512),[[z,s.condition]])]),t("div",null,[e[20]||(e[20]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Valeur du produit (FCFA) * ",-1)),g(t("input",{"onUpdate:modelValue":e[4]||(e[4]=r=>s.price=r),type:"number",required:"",min:"0",class:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#0099cc] focus:border-transparent transition-all",style:{color:"#5f5f5f"},placeholder:"Ex: 800000"},null,512),[[b,s.price]]),a.price?(i(),n("p",Nt,d(a.price),1)):s.price&&parseFloat(s.price)<1e3?(i(),n("p",Bt,"La valeur minimum est de 1000 FCFA")):u("",!0)]),t("div",null,[e[21]||(e[21]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Localisation * ",-1)),g(t("input",{"onUpdate:modelValue":e[5]||(e[5]=r=>s.location=r),type:"text",required:"",class:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#0099cc] focus:border-transparent transition-all",style:{color:"#5f5f5f"},placeholder:"Ex: Libreville, Gabon"},null,512),[[b,s.location]])])])])):u("",!0),c.value===2?(i(),n("div",Gt,[e[27]||(e[27]=t("h2",{class:"text-xl font-semibold text-gray-900 mb-6"},"Photos du produit",-1)),t("div",Ot,[t("div",Jt,[t("div",{onClick:H,onDragover:e[6]||(e[6]=V(()=>{},["prevent"])),onDrop:V(X,["prevent"]),class:"border-2 border-dashed border-gray-300 rounded-xl p-8 hover:border-[#0099cc] transition-colors cursor-pointer"},[x(p(S),{class:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e[23]||(e[23]=t("p",{class:"text-lg font-medium text-gray-700 mb-2"},"Ajoutez des photos",-1)),e[24]||(e[24]=t("p",{class:"text-sm text-gray-500 mb-4"},"Glissez-déposez ou cliquez pour sélectionner",-1)),e[25]||(e[25]=t("div",{class:"flex justify-center"},[t("span",{class:"bg-[#0099cc] text-white px-6 py-2 rounded-lg font-medium hover:bg-[#0088bb] transition-colors"}," Choisir des fichiers ")],-1))],32),t("input",{ref_key:"fileInput",ref:h,type:"file",multiple:"",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:Q,class:"hidden"},null,544)]),s.images.length>0?(i(),n("div",Wt,[(i(!0),n(P,null,j(s.images,(r,m)=>(i(),n("div",{key:m,class:"relative group"},[t("img",{src:r.preview,alt:`Produit ${m+1}`,class:"w-full h-32 object-cover rounded-xl border border-gray-200"},null,8,Kt),t("button",{onClick:os=>Y(m),type:"button",class:"absolute top-2 right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity"},[x(p(kt),{class:"w-4 h-4"})],8,Ht),m===0?(i(),n("div",Qt," Photo principale ")):u("",!0)]))),128))])):u("",!0),t("div",Xt,[t("div",Yt,[x(p(T),{class:"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5"}),e[26]||(e[26]=t("div",{class:"text-sm text-blue-700"},[t("p",{class:"font-medium mb-1"},"Conseils pour de bonnes photos :"),t("ul",{class:"space-y-1 text-sm"},[t("li",null,"• Utilisez un bon éclairage naturel"),t("li",null,"• Prenez plusieurs angles du produit"),t("li",null,"• La première image sera la photo principale"),t("li",null,"• Maximum 10 images par produit"),t("li",null,"• Formats acceptés : JPG, PNG, WebP"),t("li",null,"• Taille maximum : 5MB par image")])],-1))])])])])):u("",!0),c.value===3?(i(),n("div",Zt,[e[36]||(e[36]=t("h2",{class:"text-xl font-semibold text-gray-900 mb-6"},"Configuration de la tombola",-1)),t("div",te,[t("div",null,[e[28]||(e[28]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Prix par ticket (FCFA) * ",-1)),g(t("input",{"onUpdate:modelValue":e[7]||(e[7]=r=>s.ticket_price=r),type:"number",required:"",min:"100",class:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#0099cc] focus:border-transparent transition-all",style:{color:"#5f5f5f"},placeholder:"Ex: 2500",onInput:q,onBlur:lt},null,544),[[b,s.ticket_price]]),a.ticket_price?(i(),n("p",ee,d(a.ticket_price),1)):s.ticket_price&&parseFloat(s.ticket_price)<100?(i(),n("p",se,"Le prix minimum est de 100 FCFA")):(i(),n("p",oe,"Minimum 100 FCFA"))]),t("div",null,[e[29]||(e[29]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Nombre de tickets * ",-1)),g(t("input",{"onUpdate:modelValue":e[8]||(e[8]=r=>s.total_tickets=r),type:"number",required:"",min:"10",max:"10000",class:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#0099cc] focus:border-transparent transition-all",style:{color:"#5f5f5f"},placeholder:"Ex: 400",onInput:q,onBlur:dt},null,544),[[b,s.total_tickets]]),a.total_tickets?(i(),n("p",re,d(a.total_tickets),1)):s.total_tickets&&(parseInt(s.total_tickets)<10||parseInt(s.total_tickets)>1e4)?(i(),n("p",ie,"Entre 10 et 10,000 tickets")):(i(),n("p",ne,"Entre 10 et 10,000 tickets"))]),t("div",null,[e[30]||(e[30]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Date de fin de vente * ",-1)),g(t("input",{"onUpdate:modelValue":e[9]||(e[9]=r=>s.end_date=r),type:"datetime-local",required:"",min:G.value,onChange:at,class:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#0099cc] focus:border-transparent transition-all",style:{color:"#5f5f5f"}},null,40,ae),[[b,s.end_date]]),a.end_date?(i(),n("p",le,d(a.end_date),1)):s.end_date&&new Date(s.end_date)<=new Date?(i(),n("p",de,"La date de fin doit être dans le futur")):u("",!0)]),t("div",null,[e[31]||(e[31]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Tickets minimum pour valider * ",-1)),g(t("input",{"onUpdate:modelValue":e[10]||(e[10]=r=>s.min_tickets=r),type:"number",required:"",max:s.total_tickets,class:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#0099cc] focus:border-transparent transition-all",style:{color:"#5f5f5f"},placeholder:"Ex: 200"},null,8,ce),[[b,s.min_tickets]]),a.min_tickets?(i(),n("p",ue,d(a.min_tickets),1)):s.min_tickets&&s.total_tickets&&parseInt(s.min_tickets)>parseInt(s.total_tickets)?(i(),n("p",pe,"Ne peut pas dépasser le nombre total de tickets")):(i(),n("p",me,"Si pas atteint, remboursement automatique"))]),t("div",ge,[t("div",fe,[e[35]||(e[35]=t("h3",{class:"font-semibold text-gray-900 mb-4"},"Aperçu de la tombola",-1)),t("div",xe,[t("div",be,[t("p",ye,d(w(D.value.totalRevenue)),1),e[32]||(e[32]=t("p",{class:"text-sm text-gray-600"},"Revenus potentiels",-1))]),t("div",_e,[t("p",ve,d(D.value.profitMargin)+"%",1),e[33]||(e[33]=t("p",{class:"text-sm text-gray-600"},"Marge bénéficiaire",-1))]),t("div",ke,[t("p",we,d(w(D.value.platformFee)),1),e[34]||(e[34]=t("p",{class:"text-sm text-gray-600"},"Frais plateforme (5%)",-1))])])])])])])):u("",!0),c.value===4?(i(),n("div",he,[e[50]||(e[50]=t("h2",{class:"text-xl font-semibold text-gray-900 mb-6"},"Vérification et publication",-1)),t("div",De,[t("div",null,[e[42]||(e[42]=t("h3",{class:"font-semibold text-gray-900 mb-4"},"Résumé du produit",-1)),t("div",Fe,[t("div",Ce,[e[37]||(e[37]=t("span",{class:"text-gray-600"},"Nom :",-1)),t("span",Ee,d(s.name),1)]),t("div",Me,[e[38]||(e[38]=t("span",{class:"text-gray-600"},"Valeur :",-1)),t("span",Pe,d(w(s.price))+" FCFA",1)]),t("div",je,[e[39]||(e[39]=t("span",{class:"text-gray-600"},"Condition :",-1)),t("span",Ve,d(tt(s.condition)),1)]),t("div",Ie,[e[40]||(e[40]=t("span",{class:"text-gray-600"},"Localisation :",-1)),t("span",Ae,d(s.location),1)]),t("div",Le,[e[41]||(e[41]=t("span",{class:"text-gray-600"},"Photos :",-1)),t("span",qe,d(s.images.length)+" image(s)",1)])])]),t("div",null,[e[48]||(e[48]=t("h3",{class:"font-semibold text-gray-900 mb-4"},"Configuration tombola",-1)),t("div",$e,[t("div",ze,[e[43]||(e[43]=t("span",{class:"text-gray-600"},"Prix/ticket :",-1)),t("span",Se,d(w(s.ticket_price))+" FCFA",1)]),t("div",Te,[e[44]||(e[44]=t("span",{class:"text-gray-600"},"Total tickets :",-1)),t("span",Re,d(s.total_tickets),1)]),t("div",Ue,[e[45]||(e[45]=t("span",{class:"text-gray-600"},"Minimum requis :",-1)),t("span",Ne,d(s.min_tickets),1)]),t("div",Be,[e[46]||(e[46]=t("span",{class:"text-gray-600"},"Date de fin :",-1)),t("span",Ge,d(Z(s.end_date)),1)]),t("div",Oe,[e[47]||(e[47]=t("span",{class:"text-gray-600"},"Revenus max :",-1)),t("span",Je,d(w(D.value.totalRevenue))+" FCFA",1)])])])]),t("div",We,[t("label",Ke,[g(t("input",{"onUpdate:modelValue":e[11]||(e[11]=r=>s.terms_accepted=r),type:"checkbox",required:"",class:"mt-1 h-4 w-4 text-[#0099cc] focus:ring-[#0099cc] border-gray-300 rounded"},null,512),[[gt,s.terms_accepted]]),e[49]||(e[49]=t("span",{class:"text-sm text-gray-700"},[_(" J'accepte les "),t("a",{href:"#",class:"text-[#0099cc] hover:underline"},"conditions de vente"),_(" et confirme que toutes les informations sont exactes. Je comprends que Koumbaya prélèvera des frais de 5% sur les revenus de la tombola. ")],-1))])])])):u("",!0),t("div",He,[c.value>1?(i(),n("button",{key:0,onClick:K,type:"button",class:"inline-flex items-center px-6 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors"},[x(p(R),{class:"w-4 h-4 mr-2"}),e[51]||(e[51]=_(" Précédent ",-1))])):(i(),n("div",Qe)),t("div",Xe," Étape "+d(c.value)+" sur "+d(y.length),1),c.value<y.length?(i(),n("button",{key:2,onClick:W,type:"button",class:"inline-flex items-center px-6 py-3 bg-[#0099cc] hover:bg-[#0088bb] text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:!E.value||p(v)},[e[52]||(e[52]=_(" Suivant ",-1)),x(p(vt),{class:"w-4 h-4 ml-2"})],8,Ye)):u("",!0),c.value===y.length?(i(),n("button",{key:3,type:"submit",disabled:k.value||!E.value||p(v),class:"inline-flex items-center px-6 py-3 bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-lg transition-colors"},[k.value||p(v)?(i(),n("span",ts,[e[53]||(e[53]=t("div",{class:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-2"},null,-1)),_(" "+d(k.value?"Publication...":"Chargement..."),1)])):(i(),n("span",es,[x(p(U),{class:"w-4 h-4 mr-2"}),e[54]||(e[54]=_(" Publier le produit ",-1))]))],8,Ze)):u("",!0)])],32)])}}};export{as as default};
