const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MerchantLayout-CtPYevHB.js","assets/vendor-zwIjsTu0.js","assets/Dashboard-CF-Y1C_W.js","assets/Products-Ci7sunPg.js","assets/RocketLaunchIcon-BKT2BNkg.js","assets/CreateProduct-aUBK4ytg.js","assets/Orders-Cw8_AB2Q.js","assets/LotteriesSimple-fTJP8C1S.js","assets/LotteryView-BW8gDgPU.js","assets/Analytics-sZWIdwVK.js","assets/Settings-ZLAHfTsO.js","assets/Profile-BcrT9Cnx.js"])))=>i.map(i=>d[i]);
import{a as It,r as R,d as Ot,c as te,b as s,e,o as t,f as se,u as l,g as ne,h as Qe,i as b,j as B,w as ee,k as me,t as o,l as K,m as $e,F as X,n as Y,p as oe,q as J,s as qe,v as we,x as le,y as Oe,z as ge,A as Z,B as Q,C as Ge,D as Me,E as re,G as he,H as Tt,I as Ht,J as Gt,K as Kt,T as Zt,L as Wt,M as Jt,N as Xt}from"./vendor-zwIjsTu0.js";window.axios=It;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";const Yt="modulepreload",Qt=function(h){return"/build/"+h},Ct={},ke=function(v,A,y){let g=Promise.resolve();if(A&&A.length>0){let d=function(w){return Promise.all(w.map(C=>Promise.resolve(C).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};document.getElementsByTagName("link");const P=document.querySelector("meta[property=csp-nonce]"),i=P?.nonce||P?.getAttribute("nonce");g=d(A.map(w=>{if(w=Qt(w),w in Ct)return;Ct[w]=!0;const C=w.endsWith(".css"),T=C?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${w}"]${T}`))return;const f=document.createElement("link");if(f.rel=C?"stylesheet":Yt,C||(f.as="script"),f.crossOrigin="",f.href=w,i&&f.setAttribute("nonce",i),document.head.appendChild(f),C)return new Promise(($,D)=>{f.addEventListener("load",$),f.addEventListener("error",()=>D(new Error(`Unable to preload CSS for ${w}`)))})}))}function u(P){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=P,window.dispatchEvent(i),!i.defaultPrevented)throw P}return g.then(P=>{for(const i of P||[])i.status==="rejected"&&u(i.reason);return v().catch(u)})},_e=It.create({baseURL:"https://koumbaya.com/api",headers:{"Content-Type":"application/json",Accept:"application/json"}});_e.interceptors.request.use(h=>{const v=localStorage.getItem("auth_token");return v&&(h.headers.Authorization=`Bearer ${v}`),h},h=>Promise.reject(h));_e.interceptors.response.use(h=>h,h=>{const v=localStorage.getItem("auth_token");return h.response?.status===401&&!h.config?.url?.includes("/auth/login")&&v&&(localStorage.removeItem("auth_token"),window.router?window.router.push("/login"):window.location.href="/login"),Promise.reject(h)});function de(){const h=R(!1),v=R(null),A=async i=>{h.value=!0,v.value=null;try{return(await i()).data}catch(d){throw v.value=d.response?.data?.message||d.message||"Une erreur est survenue",d}finally{h.value=!1}};return{loading:h,error:v,get:(i,d={})=>A(()=>_e.get(i,d)),post:(i,d={},w={})=>{if(d instanceof FormData){const C={...w};return delete C.headers?.["Content-Type"],A(()=>_e.post(i,d,C))}return A(()=>_e.post(i,d,w))},put:(i,d={},w={})=>A(()=>_e.put(i,d,w)),delete:(i,d={})=>A(()=>_e.delete(i,d)),api:_e}}const ve=Ot("auth",()=>{const h=R(null),v=R(localStorage.getItem("auth_token")),A=R(!1),y=R(""),g=te(()=>!!v.value&&!!h.value),u=te(()=>{if(h.value?.userType?.name==="MANAGER"||h.value?.user_type_id===1)return!0;if(h.value?.roles&&Array.isArray(h.value.roles)){const W=["Super Admin","Admin","Agent","Agent Back Office"];return h.value.roles.some(H=>W.includes(H.name))}return h.value?.email?["superadmin@koumbaya.ga","admin@koumbaya.ga","agent@koumbaya.ga","backoffice@koumbaya.ga"].includes(h.value.email):!1}),P=te(()=>{if(h.value?.roles&&Array.isArray(h.value.roles)){const W=["Super Admin","Admin"];return h.value.roles.some(H=>W.includes(H.name))}return h.value?.email?.includes("superadmin")?!0:h.value?.email?["superadmin@koumbaya.ga","admin@koumbaya.ga"].includes(h.value.email):!1}),i=te(()=>{if(h.value?.roles&&Array.isArray(h.value.roles)){const W=["Agent","Agent Back Office"];return h.value.roles.some(H=>W.includes(H.name))}return h.value?.email?["agent@koumbaya.ga","backoffice@koumbaya.ga"].includes(h.value.email):!1}),d=te(()=>h.value?.roles&&Array.isArray(h.value.roles)?h.value.roles.some(W=>W.name==="Business"):h.value?.can_sell&&h.value?.account_type==="business"?!0:h.value?.email?["business@koumbaya.ga","business2@koumbaya.ga"].includes(h.value.email):!1),w=te(()=>u.value?!1:h.value?.roles&&Array.isArray(h.value.roles)?h.value.roles.some(W=>W.name==="Particulier"):h.value?.account_type==="personal"?!0:!u.value&&!d.value),C=te(()=>h.value?.account_type==="business"||h.value?.roles?.some(W=>W.name==="Business")),T=te(()=>h.value?.account_type==="personal"||h.value?.roles?.some(W=>W.name==="Particulier")),f=te(()=>h.value?.can_sell===!0||C.value||h.value?.roles?.some(W=>W.name==="Business"));async function $(W){A.value=!0,y.value="";try{const H=await _e.post("/auth/login",W),{access_token:I,user:m}=H.data;return v.value=I,h.value=m,localStorage.setItem("auth_token",I),{success:!0}}catch(H){let I="Erreur de connexion";if(H.response?.status===401)I="Identifiants incorrects";else if(H.response?.status===429)I="Trop de tentatives. Veuillez patienter.";else if(H.response?.status===422){const m=H.response?.data?.errors;m?I=Object.values(m).flat().join(", "):I=H.response?.data?.message||"Données invalides"}else H.response?I=H.response?.data?.error||H.response?.data?.message||"Erreur de connexion":I="Problème de connexion réseau";return y.value=I,{success:!1,error:I}}finally{A.value=!1}}async function D(W){A.value=!0,y.value="";try{const H=await _e.post("/auth/register",W),{access_token:I,user:m}=H.data;return v.value=I,h.value=m,localStorage.setItem("auth_token",I),{success:!0}}catch(H){return y.value=H.response?.data?.error||H.response?.data?.message||"Erreur lors de l'inscription",{success:!1,error:y.value}}finally{A.value=!1}}async function E(){try{await _e.post("/auth/logout")}catch(W){console.error("Erreur lors de la déconnexion:",W)}finally{h.value=null,v.value=null,localStorage.removeItem("auth_token")}}async function a(){if(v.value)try{const W=await _e.get("/auth/me");h.value=W.data.user}catch{h.value=null,v.value=null,localStorage.removeItem("auth_token")}}async function r(){if(g.value)try{const W=await _e.get("/auth/me");h.value=W.data.user}catch(W){console.error("Erreur lors du rafraîchissement:",W)}}function F(){y.value=""}function n(W){y.value=W}function c(W){h.value=W}function x(W){v.value=W,W?localStorage.setItem("auth_token",W):localStorage.removeItem("auth_token")}function O(){return h.value?(console.log("🔄 Logique de redirection:",{email:h.value?.email,user:h.value,roles:h.value?.roles,isManager:u.value,isAdmin:P.value,isAgent:i.value,isMerchant:d.value,isCustomer:w.value,account_type:h.value?.account_type,roles:h.value?.roles?.map(W=>W.name)}),u.value?(console.log("✅ Redirection vers admin.dashboard (Manager)"),"admin.dashboard"):h.value?.roles&&Array.isArray(h.value.roles)&&h.value.roles.some(H=>H.name==="Business")?(console.log("✅ Redirection vers merchant.dashboard (Business)"),"merchant.dashboard"):(console.log("✅ Redirection vers customer.dashboard (Customer par défaut)"),"customer.dashboard")):"home"}return{user:h,token:v,loading:A,error:y,isAuthenticated:g,isManager:u,isAdmin:P,isAgent:i,isMerchant:d,isCustomer:w,isBusiness:C,isPersonal:T,canSell:f,login:$,register:D,logout:E,checkAuth:a,refreshUser:r,clearError:F,setError:n,setUser:c,setToken:x,getDefaultRedirect:O}}),Lt="/build/logo.png";function es(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5m6 4.125 2.25 2.25m0 0 2.25 2.25M12 13.875l2.25-2.25M12 13.875l-2.25 2.25M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"})])}function it(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 13.5 12 21m0 0-7.5-7.5M12 21V3"})])}function ts(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"})])}function Et(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"})])}function Ve(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"})])}function He(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"})])}function St(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18"})])}function ss(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3"})])}function bt(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"})])}function ht(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})])}function nt(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"})])}function Vt(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"})])}function jt(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"})])}function lt(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"})])}function At(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.625 9.75a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375m-13.5 3.01c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.184-4.183a1.14 1.14 0 0 1 .778-.332 48.294 48.294 0 0 0 5.83-.498c1.585-.233 2.708-1.626 2.708-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"})])}function Ft(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.746 3.746 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z"})])}function Ce(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function ie(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m4.5 12.75 6 6 9-13.5"})])}function dt(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})])}function os(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})])}function Ke(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function Pt(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})])}function rs(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12a7.5 7.5 0 0 0 15 0m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077 1.41-.513m14.095-5.13 1.41-.513M5.106 17.785l1.15-.964m11.49-9.642 1.149-.964M7.501 19.795l.75-1.3m7.5-12.99.75-1.3m-6.063 16.658.26-1.477m2.605-14.772.26-1.477m0 17.726-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205 12 12m6.894 5.785-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"})])}function as(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 17.25v1.007a3 3 0 0 1-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0 1 15 18.257V17.25m6-12V15a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 15V5.25m18 0A2.25 2.25 0 0 0 18.75 3H5.25A2.25 2.25 0 0 0 3 5.25m18 0V12a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 12V5.25"})])}function is(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z"})])}function Rt(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"})])}function De(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function ns(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"})])}function ls(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})])}function ds(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})])}function Ze(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"})])}function be(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"})])}function ze(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})])}function We(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"})])}function je(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})])}function Ue(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 11.25v8.25a1.5 1.5 0 0 1-1.5 1.5H5.25a1.5 1.5 0 0 1-1.5-1.5v-8.25M12 4.875A2.625 2.625 0 1 0 9.375 7.5H12m0-2.625V7.5m0-2.625A2.625 2.625 0 1 1 14.625 7.5H12m0 0V21m-8.625-9.75h18c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125h-18c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"})])}function cs(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"})])}function us(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"})])}function Mt(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})])}function Ee(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"})])}function ms(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m10.5 21 5.25-11.25L21 21m-9-3h7.5M3 5.621a48.474 48.474 0 0 1 6-.371m0 0c1.12 0 2.233.038 3.334.114M9 5.25V3m3.334 2.364C11.176 10.658 7.69 15.08 3 17.502m9.334-12.138c.896.061 1.785.147 2.666.257m-4.589 8.495a18.023 18.023 0 0 1-3.827-5.802"})])}function Nt(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"})])}function Je(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})])}function vt(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"})])}function ps(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 12h14"})])}function Xe(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"})])}function Fe(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"})])}function Re(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})])}function qt(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"})])}function gs(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933-2.185 2.25 2.25 0 0 0-3.933 2.185Z"})])}function ct(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"})])}function Se(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007ZM8.625 10.5a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm7.5 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"})])}function xt(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"})])}function Ye(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"})])}function Te(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.5 6v.75m0 3v.75m0 3v.75m0 3V18m-9-5.25h5.25M7.5 15h3M3.375 5.25c-.621 0-1.125.504-1.125 1.125v3.026a2.999 2.999 0 0 1 0 5.198v3.026c0 .621.504 1.125 1.125 1.125h17.25c.621 0 1.125-.504 1.125-1.125v-3.026a2.999 2.999 0 0 1 0-5.198V6.375c0-.621-.504-1.125-1.125-1.125H3.375Z"})])}function at(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})])}function Ne(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.5 18.75h-9m9 0a3 3 0 0 1 3 3h-15a3 3 0 0 1 3-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 0 1-.982-3.172M9.497 14.25a7.454 7.454 0 0 0 .981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 0 0 7.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25c2.291 0 4.545.16 6.75.47v1.516M7.73 9.728a6.726 6.726 0 0 0 2.748 1.35m8.272-6.842V4.5c0 2.108-.966 3.99-2.48 5.228m2.48-5.492a46.32 46.32 0 0 1 2.916.52 6.003 6.003 0 0 1-5.395 4.972m0 0a6.726 6.726 0 0 1-2.749 1.35m0 0a6.772 6.772 0 0 1-3.044 0"})])}function yt(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 18.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 0 1-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 0 0-3.213-9.193 2.056 2.056 0 0 0-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 0 0-10.026 0 1.106 1.106 0 0 0-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"})])}function zt(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"})])}function Pe(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})])}function et(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"})])}function _t(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function Ie(h,v){return t(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18 18 6M6 6l12 12"})])}const tt="/build/assets/logo-ZbB75Npb.png",Le=(h,v)=>{const A=h.__vccOpts||h;for(const[y,g]of v)A[y]=g;return A},vs={class:"bg-white border-t border-gray-200 mt-12"},xs={class:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8"},fs={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8"},bs={class:"col-span-1 md:col-span-2 lg:col-span-1"},hs={class:"flex items-center"},ys=["src"],_s={__name:"KoumbayaFooter",setup(h){return(v,A)=>(t(),s("footer",vs,[e("div",xs,[e("div",fs,[e("div",bs,[e("div",hs,[e("img",{src:l(tt),alt:"Koumbaya",class:"h-15 w-auto"},null,8,ys)]),A[0]||(A[0]=se('<p class="mt-4 text-gray-600 text-sm leading-relaxed" data-v-97bf4cec> La marketplace innovante qui vous permet d&#39;acquérir des produits premium à prix imbattables grâce aux tombolas équitables. </p><div class="mt-6 flex space-x-4" data-v-97bf4cec><a href="#" class="text-gray-400 hover:text-[#0099cc] transition-colors" data-v-97bf4cec><span class="sr-only" data-v-97bf4cec>Facebook</span><svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24" data-v-97bf4cec><path fill-rule="evenodd" d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z" clip-rule="evenodd" data-v-97bf4cec></path></svg></a><a href="#" class="text-gray-400 hover:text-[#0099cc] transition-colors" data-v-97bf4cec><span class="sr-only" data-v-97bf4cec>Instagram</span><svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24" data-v-97bf4cec><path fill-rule="evenodd" d="M12.017 0C5.396 0 .029 5.367.029 11.987c0 6.618 5.367 11.986 11.988 11.986s11.987-5.368 11.987-11.986C24.004 5.367 18.635.001 12.017.001zM8.449 16.988c-1.297 0-2.448-.49-3.323-1.297C4.198 14.895 3.68 13.729 3.68 12.417s.518-2.478 1.446-3.274c.875-.807 2.026-1.297 3.323-1.297s2.448.49 3.323 1.297c.928.796 1.446 1.962 1.446 3.274s-.518 2.478-1.446 3.274c-.875.807-2.026 1.297-3.323 1.297zm7.718 0c-1.297 0-2.448-.49-3.323-1.297-.928-.796-1.446-1.962-1.446-3.274s.518-2.478 1.446-3.274c.875-.807 2.026-1.297 3.323-1.297s2.448.49 3.323 1.297c.928.796 1.446 1.962 1.446 3.274s-.518 2.478-1.446 3.274c-.875.807-2.026 1.297-3.323 1.297z" clip-rule="evenodd" data-v-97bf4cec></path></svg></a><a href="#" class="text-gray-400 hover:text-[#0099cc] transition-colors" data-v-97bf4cec><span class="sr-only" data-v-97bf4cec>Twitter</span><svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24" data-v-97bf4cec><path d="M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84" data-v-97bf4cec></path></svg></a><a href="#" class="text-gray-400 hover:text-[#0099cc] transition-colors" data-v-97bf4cec><span class="sr-only" data-v-97bf4cec>LinkedIn</span><svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24" data-v-97bf4cec><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z" data-v-97bf4cec></path></svg></a></div>',2))]),A[1]||(A[1]=se('<div data-v-97bf4cec><h3 class="text-sm font-semibold text-gray-900 tracking-wider uppercase mb-4" data-v-97bf4cec> Informations sur l&#39;entreprise </h3><ul class="space-y-3" data-v-97bf4cec><li data-v-97bf4cec><a href="#" class="text-sm text-gray-600 hover:text-[#0099cc] transition-colors" data-v-97bf4cec>À propos de Koumbaya</a></li><li data-v-97bf4cec><a href="#" class="text-sm text-gray-600 hover:text-[#0099cc] transition-colors" data-v-97bf4cec>Affiliés &amp; Influenceurs</a></li><li data-v-97bf4cec><a href="#" class="text-sm text-gray-600 hover:text-[#0099cc] transition-colors" data-v-97bf4cec>Gagnez des Gombos</a></li><li data-v-97bf4cec><a href="#" class="text-sm text-gray-600 hover:text-[#0099cc] transition-colors" data-v-97bf4cec>Nous contacter</a></li><li data-v-97bf4cec><a href="#" class="text-sm text-gray-600 hover:text-[#0099cc] transition-colors" data-v-97bf4cec>Carrières</a></li><li data-v-97bf4cec><a href="#" class="text-sm text-gray-600 hover:text-[#0099cc] transition-colors" data-v-97bf4cec>Media &amp; Presse</a></li></ul></div><div data-v-97bf4cec><h3 class="text-sm font-semibold text-gray-900 tracking-wider uppercase mb-4" data-v-97bf4cec> Service client </h3><ul class="space-y-3" data-v-97bf4cec><li data-v-97bf4cec><a href="#" class="text-sm text-gray-600 hover:text-[#0099cc] transition-colors" data-v-97bf4cec>Participation aux tombolas</a></li><li data-v-97bf4cec><a href="#" class="text-sm text-gray-600 hover:text-[#0099cc] transition-colors" data-v-97bf4cec>Politique de propriété intellectuelle</a></li><li data-v-97bf4cec><a href="#" class="text-sm text-gray-600 hover:text-[#0099cc] transition-colors" data-v-97bf4cec>Informations sur la réception des commandes</a></li><li data-v-97bf4cec><a href="#" class="text-sm text-gray-600 hover:text-[#0099cc] transition-colors" data-v-97bf4cec>Signaler une activité suspecte</a></li><li data-v-97bf4cec><a href="#" class="text-sm text-gray-600 hover:text-[#0099cc] transition-colors" data-v-97bf4cec>Centre d&#39;assistance</a></li><li data-v-97bf4cec><a href="#" class="text-sm text-gray-600 hover:text-[#0099cc] transition-colors" data-v-97bf4cec>Centre de sécurité</a></li></ul></div><div data-v-97bf4cec><h3 class="text-sm font-semibold text-gray-900 tracking-wider uppercase mb-4" data-v-97bf4cec> Centre d&#39;Assistance </h3><ul class="space-y-3" data-v-97bf4cec><li data-v-97bf4cec><a href="#" class="text-sm text-gray-600 hover:text-[#0099cc] transition-colors" data-v-97bf4cec>Centre de Sécurité</a></li><li data-v-97bf4cec><a href="#" class="text-sm text-gray-600 hover:text-[#0099cc] transition-colors" data-v-97bf4cec>Avoir la paix sur Koumbaya</a></li><li data-v-97bf4cec><a href="#" class="text-sm text-gray-600 hover:text-[#0099cc] transition-colors" data-v-97bf4cec>Plan du site</a></li><li data-v-97bf4cec><a href="#" class="text-sm text-gray-600 hover:text-[#0099cc] transition-colors font-medium" data-v-97bf4cec>Vendre sur Koumbaya</a></li></ul></div>',3))]),A[2]||(A[2]=se('<div class="mt-12 pt-8 border-t border-gray-200" data-v-97bf4cec><div class="flex flex-col md:flex-row justify-between items-center" data-v-97bf4cec><div class="flex flex-wrap items-center space-x-6 mb-4 md:mb-0" data-v-97bf4cec><a href="#" class="text-sm text-gray-500 hover:text-[#0099cc] transition-colors" data-v-97bf4cec>Conditions d&#39;utilisation</a><a href="#" class="text-sm text-gray-500 hover:text-[#0099cc] transition-colors" data-v-97bf4cec>Politique de confidentialité</a><a href="#" class="text-sm text-gray-500 hover:text-[#0099cc] transition-colors" data-v-97bf4cec>Mentions légales</a><a href="#" class="text-sm text-gray-500 hover:text-[#0099cc] transition-colors" data-v-97bf4cec>Cookies</a></div><div class="text-sm text-gray-500" data-v-97bf4cec> © 2025 Koumbaya. Tous droits réservés. </div></div></div>',1))])]))}},Ut=Le(_s,[["__scopeId","data-v-97bf4cec"]]),ws={class:"min-h-screen bg-gray-50"},$s={class:"bg-white shadow-sm"},ks={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Cs={class:"flex justify-between items-center h-16"},js={key:1,class:"flex items-center space-x-1 sm:space-x-2"},As={class:"hidden md:flex space-x-8"},Ps={class:"flex items-center space-x-2 sm:space-x-4"},Ms={key:0,class:"flex items-center space-x-2 sm:space-x-4"},Ds={class:"relative"},Is={class:"w-8 h-8 bg-[#0099cc] rounded-full flex items-center justify-center"},Ts={class:"text-sm font-medium text-white"},Ls={class:"px-4 py-2 text-sm text-gray-700 border-b border-gray-100"},Es={class:"font-medium"},Ss={class:"text-xs text-gray-500"},Vs={key:1,class:"flex items-center space-x-2 sm:space-x-4"},Fs={key:0,class:"md:hidden border-t border-gray-200 bg-white"},Rs={class:"px-4 py-3 space-y-1"},Ns={class:"border-t border-gray-200 pt-4 mt-4"},qs={key:0,class:"space-y-2"},zs={class:"px-3 py-2 text-sm text-gray-600"},Us={key:1,class:"space-y-2"},Bs={__name:"GuestLayout",setup(h){const v=$e(),A=ve(),y=R(!1),g=R(!1),u=R(!1),P=te(()=>{const T=A.user;return T?(T.first_name?.[0]||"")+(T.last_name?.[0]||""):"U"}),i=te(()=>{const T=A.getDefaultRedirect();return{"admin.dashboard":"/admin","merchant.dashboard":"/merchant","customer.dashboard":"/customer"}[T]||"/customer"}),d=async()=>{g.value=!1,await A.logout(),v.push({name:"login"})},w=()=>{u.value=!0},C=T=>{T.target.closest(".relative")||(g.value=!1)};return ne(()=>{document.addEventListener("click",C)}),Qe(()=>{document.removeEventListener("click",C)}),(T,f)=>{const $=me("router-link"),D=me("router-view");return t(),s("div",ws,[e("header",$s,[e("div",ks,[e("div",Cs,[b($,{to:"/",class:"flex items-center min-w-0 flex-shrink-0"},{default:ee(()=>[u.value?(t(),s("div",js,f[11]||(f[11]=[e("div",{class:"w-6 h-6 sm:w-8 sm:h-8 bg-[#0099cc] rounded flex items-center justify-center flex-shrink-0"},[e("span",{class:"text-white font-bold text-sm sm:text-lg"},"K")],-1),e("span",{class:"text-lg sm:text-xl font-bold text-[#0099cc] whitespace-nowrap"},"Koumbaya",-1)]))):(t(),s("img",{key:0,src:Lt,alt:"Koumbaya",class:"h-8 sm:h-10 w-auto object-contain max-w-none",onError:w},null,32))]),_:1}),e("nav",As,[b($,{to:"/",class:"text-gray-600 hover:text-[#0099cc] px-3 py-2 rounded-md text-sm font-medium transition-colors"},{default:ee(()=>f[12]||(f[12]=[K(" Accueil ",-1)])),_:1,__:[12]}),b($,{to:"/products",class:"text-gray-600 hover:text-[#0099cc] px-3 py-2 rounded-md text-sm font-medium transition-colors"},{default:ee(()=>f[13]||(f[13]=[K(" Produits ",-1)])),_:1,__:[13]}),b($,{to:"/how-it-works",class:"text-gray-600 hover:text-[#0099cc] px-3 py-2 rounded-md text-sm font-medium transition-colors"},{default:ee(()=>f[14]||(f[14]=[K(" Comment ça marche ",-1)])),_:1,__:[14]}),b($,{to:"/contact",class:"text-gray-600 hover:text-[#0099cc] px-3 py-2 rounded-md text-sm font-medium transition-colors"},{default:ee(()=>f[15]||(f[15]=[K(" Contact ",-1)])),_:1,__:[15]})]),e("div",Ps,[l(A).isAuthenticated?(t(),s("div",Ms,[b($,{to:i.value,class:"bg-[#0099cc] hover:bg-[#0088bb] text-white px-2 sm:px-4 py-1.5 sm:py-2 rounded-md text-xs sm:text-sm font-medium transition-colors flex items-center whitespace-nowrap"},{default:ee(()=>[b(l(Pe),{class:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2 flex-shrink-0"}),f[16]||(f[16]=e("span",{class:"hidden sm:inline"},"Mon Espace",-1)),f[17]||(f[17]=e("span",{class:"sm:hidden"},"Espace",-1))]),_:1,__:[16,17]},8,["to"]),e("div",Ds,[e("button",{onClick:f[0]||(f[0]=E=>g.value=!g.value),class:"flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-50"},[e("div",Is,[e("span",Ts,o(P.value),1)]),b(l(dt),{class:"w-4 h-4 text-gray-500"})]),g.value?(t(),s("div",{key:0,class:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50 border border-gray-200",onClick:f[2]||(f[2]=E=>g.value=!1)},[e("div",Ls,[e("p",Es,o(l(A).user?.first_name)+" "+o(l(A).user?.last_name),1),e("p",Ss,o(l(A).user?.email),1)]),b($,{to:i.value,class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:f[1]||(f[1]=E=>g.value=!1)},{default:ee(()=>[b(l(Pe),{class:"w-4 h-4 inline mr-2"}),f[18]||(f[18]=K(" Mon Espace ",-1))]),_:1,__:[18]},8,["to"]),e("button",{onClick:d,class:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"},[b(l(Ve),{class:"w-4 h-4 inline mr-2"}),f[19]||(f[19]=K(" Se déconnecter ",-1))])])):B("",!0)])])):(t(),s("div",Vs,[b($,{to:"/login",class:"text-gray-600 hover:text-[#0099cc] px-2 sm:px-3 py-1.5 sm:py-2 rounded-md text-xs sm:text-sm font-medium transition-colors whitespace-nowrap"},{default:ee(()=>f[20]||(f[20]=[e("span",{class:"hidden sm:inline"},"Se connecter",-1),e("span",{class:"sm:hidden"},"Connexion",-1)])),_:1,__:[20]}),b($,{to:"/register",class:"bg-[#0099cc] hover:bg-[#0088bb] text-white px-2 sm:px-4 py-1.5 sm:py-2 rounded-md text-xs sm:text-sm font-medium transition-colors whitespace-nowrap"},{default:ee(()=>f[21]||(f[21]=[K(" S'inscrire ",-1)])),_:1,__:[21]})])),e("button",{onClick:f[3]||(f[3]=E=>y.value=!y.value),class:"md:hidden p-1 sm:p-2 rounded-md text-gray-400 hover:text-gray-600 flex-shrink-0"},[b(l(ht),{class:"w-5 h-5 sm:w-6 sm:h-6"})])])])]),y.value?(t(),s("div",Fs,[e("div",Rs,[b($,{to:"/",class:"block px-3 py-2 rounded-md text-base font-medium text-gray-600 hover:text-[#0099cc] hover:bg-[#0099cc]/5",onClick:f[4]||(f[4]=E=>y.value=!1)},{default:ee(()=>f[22]||(f[22]=[K(" Accueil ",-1)])),_:1,__:[22]}),b($,{to:"/products",class:"block px-3 py-2 rounded-md text-base font-medium text-gray-600 hover:text-[#0099cc] hover:bg-[#0099cc]/5",onClick:f[5]||(f[5]=E=>y.value=!1)},{default:ee(()=>f[23]||(f[23]=[K(" Produits ",-1)])),_:1,__:[23]}),b($,{to:"/how-it-works",class:"block px-3 py-2 rounded-md text-base font-medium text-gray-600 hover:text-[#0099cc] hover:bg-[#0099cc]/5",onClick:f[6]||(f[6]=E=>y.value=!1)},{default:ee(()=>f[24]||(f[24]=[K(" Comment ça marche ",-1)])),_:1,__:[24]}),b($,{to:"/contact",class:"block px-3 py-2 rounded-md text-base font-medium text-gray-600 hover:text-[#0099cc] hover:bg-[#0099cc]/5",onClick:f[7]||(f[7]=E=>y.value=!1)},{default:ee(()=>f[25]||(f[25]=[K(" Contact ",-1)])),_:1,__:[25]}),e("div",Ns,[l(A).isAuthenticated?(t(),s("div",qs,[b($,{to:i.value,class:"block px-3 py-2 rounded-md text-base font-medium bg-[#0099cc] text-white hover:bg-[#0088bb] flex items-center",onClick:f[8]||(f[8]=E=>y.value=!1)},{default:ee(()=>[b(l(Pe),{class:"w-5 h-5 mr-2"}),f[26]||(f[26]=K(" Mon Espace ",-1))]),_:1,__:[26]},8,["to"]),e("div",zs,o(l(A).user?.first_name)+" "+o(l(A).user?.last_name),1),e("button",{onClick:d,class:"block w-full text-left px-3 py-2 rounded-md text-base font-medium text-gray-600 hover:text-[#0099cc] hover:bg-[#0099cc]/5"},[b(l(Ve),{class:"w-5 h-5 inline mr-2"}),f[27]||(f[27]=K(" Se déconnecter ",-1))])])):(t(),s("div",Us,[b($,{to:"/login",class:"block px-3 py-2 rounded-md text-base font-medium text-gray-600 hover:text-[#0099cc] hover:bg-[#0099cc]/5",onClick:f[9]||(f[9]=E=>y.value=!1)},{default:ee(()=>f[28]||(f[28]=[K(" Se connecter ",-1)])),_:1,__:[28]}),b($,{to:"/register",class:"block px-3 py-2 rounded-md text-base font-medium bg-[#0099cc] text-white hover:bg-[#0088bb]",onClick:f[10]||(f[10]=E=>y.value=!1)},{default:ee(()=>f[29]||(f[29]=[K(" S'inscrire ",-1)])),_:1,__:[29]})]))])])])):B("",!0)]),e("main",null,[b(D)]),b(Ut)])}}},Os={key:0,class:"bg-gradient-to-r from-yellow-50 to-orange-50 border border-yellow-200 rounded-xl p-4 mb-6 shadow-sm"},Hs={class:"flex items-start"},Gs={class:"flex-shrink-0"},Ks={class:"ml-3 flex-1"},Zs={class:"flex flex-col sm:flex-row gap-2"},Ws=["disabled"],Js={key:0},Xs={key:1,class:"flex items-center"},Ys={class:"flex-shrink-0 ml-2"},Qs={__name:"VerificationBanner",setup(h){const v=ve(),{post:A}=de(),y=R(!1),g=R(!1),u=te(()=>v.user),P=te(()=>!g.value),i=async()=>{y.value=!0;try{const C=await A("/auth/resend-verification",{email:u.value.email});window.$toast&&window.$toast.success(`Un nouvel email de vérification a été envoyé à ${u.value.email}. Vérifiez votre boîte email.`,"✅ Email envoyé",8e3),setTimeout(()=>{g.value=!0,localStorage.setItem("verification_banner_hidden_until",Date.now()+1800*1e3)},2e3)}catch(C){console.error("Erreur lors de l'envoi de l'email de vérification:",C);let T="Une erreur est survenue lors de l'envoi de l'email.";C.response?.status===429?T="Trop de tentatives. Veuillez patienter avant de renvoyer un email.":C.response?.data?.message&&(T=C.response.data.message),window.$toast&&window.$toast.error(T,"❌ Erreur")}finally{y.value=!1}},d=()=>{g.value=!0,localStorage.setItem("verification_banner_hidden_until",Date.now()+3600*1e3)},w=localStorage.getItem("verification_banner_hidden_until");return w&&Date.now()<parseInt(w)&&(g.value=!0),(C,T)=>u.value&&!u.value.verified_at&&P.value?(t(),s("div",Os,[e("div",Hs,[e("div",Gs,[b(l(ze),{class:"h-6 w-6 text-yellow-600"})]),e("div",Ks,[T[1]||(T[1]=e("h3",{class:"text-sm font-semibold text-yellow-800 mb-1"}," Compte non vérifié ",-1)),T[2]||(T[2]=e("p",{class:"text-sm text-yellow-700 mb-3"}," Votre compte n'est pas encore vérifié. Certaines fonctionnalités peuvent être limitées. ",-1)),e("div",Zs,[e("button",{onClick:i,disabled:y.value,class:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-lg text-yellow-800 bg-yellow-100 hover:bg-yellow-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500 transition-colors disabled:opacity-50"},[y.value?(t(),s("span",Xs,T[0]||(T[0]=[e("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-yellow-800",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),K(" Envoi en cours... ",-1)]))):(t(),s("span",Js,"Renvoyer l'email de vérification"))],8,Ws),e("button",{onClick:d,class:"inline-flex items-center px-3 py-2 text-sm leading-4 font-medium rounded-lg text-yellow-600 hover:text-yellow-800 transition-colors"}," Masquer ")])]),e("div",Ys,[e("button",{onClick:d,class:"inline-flex rounded-lg p-1.5 text-yellow-400 hover:text-yellow-600 hover:bg-yellow-100 transition-colors"},[b(l(Ie),{class:"h-4 w-4"})])])])])):B("",!0)}},eo={class:"min-h-screen bg-gray-50"},to={class:"bg-white shadow-sm border-b border-gray-200"},so={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},oo={class:"flex justify-between items-center h-16"},ro={class:"flex items-center min-w-0 flex-shrink-0"},ao={key:1,class:"flex items-center space-x-1 sm:space-x-2"},io={class:"hidden md:flex space-x-8"},no={class:"flex items-center space-x-2 sm:space-x-4"},lo={class:"p-1 sm:p-2 text-gray-400 hover:text-gray-600 relative"},co={class:"relative"},uo={class:"w-7 h-7 sm:w-8 sm:h-8 bg-[#0099cc] rounded-full flex items-center justify-center flex-shrink-0"},mo={class:"text-xs sm:text-sm font-medium text-white"},po={class:"hidden md:block text-left min-w-0"},go={class:"text-sm font-medium text-gray-700 truncate"},vo={class:"text-xs text-gray-500 truncate"},xo={key:0,class:"md:hidden border-t border-gray-200 bg-white"},fo={class:"px-4 py-3 space-y-1"},bo={class:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8"},ho={__name:"CustomerLayout",setup(h){const v=ve(),A=$e(),y=R(!1),g=R(!1),u=R(!1),P=[{name:"customer.dashboard",to:{name:"customer.dashboard"},label:"Accueil"},{name:"customer.products",to:{name:"customer.products"},label:"Produits"},{name:"customer.tickets",to:{name:"customer.tickets"},label:"Mes Tickets"}],i=te(()=>{const f=v.user;return f?(f.first_name?.[0]||"")+(f.last_name?.[0]||""):"U"}),d=te(()=>v.isAuthenticated&&v.user&&!v.user.verified_at),w=async()=>{await v.logout(),A.push({name:"login"})},C=()=>{u.value=!0},T=f=>{f.target.closest(".relative")||(y.value=!1)};return ne(()=>{document.addEventListener("click",T)}),Qe(()=>{document.removeEventListener("click",T)}),(f,$)=>{const D=me("router-link"),E=me("router-view");return t(),s("div",eo,[e("header",to,[e("div",so,[e("div",oo,[e("div",ro,[b(D,{to:"/customer",class:"flex items-center"},{default:ee(()=>[u.value?(t(),s("div",ao,$[6]||($[6]=[e("div",{class:"w-6 h-6 sm:w-8 sm:h-8 bg-[#0099cc] rounded flex items-center justify-center flex-shrink-0"},[e("span",{class:"text-white font-bold text-sm sm:text-lg"},"K")],-1),e("span",{class:"text-lg sm:text-xl font-bold text-[#0099cc] whitespace-nowrap"},"Koumbaya",-1)]))):(t(),s("img",{key:0,class:"h-8 sm:h-10 w-auto object-contain max-w-none",src:Lt,alt:"Koumbaya Marketplace",onError:C},null,32))]),_:1})]),e("nav",io,[(t(),s(X,null,Y(P,a=>b(D,{key:a.name,to:a.to,class:J(["px-3 py-2 rounded-md text-sm font-medium transition-colors",f.$route.name===a.name?"text-white bg-[#0099cc]":"text-gray-600 hover:text-[#0099cc] hover:bg-[#0099cc]/5"])},{default:ee(()=>[K(o(a.label),1)]),_:2},1032,["to","class"])),64))]),e("div",no,[e("button",lo,[b(l(nt),{class:"w-5 h-5 sm:w-6 sm:h-6"}),$[7]||($[7]=e("span",{class:"absolute top-0 right-0 block h-2 w-2 bg-red-400 rounded-full"},null,-1))]),e("div",co,[e("button",{onClick:$[0]||($[0]=a=>y.value=!y.value),class:"flex items-center space-x-1 sm:space-x-3 p-1 sm:p-2 rounded-lg hover:bg-gray-50"},[e("div",uo,[e("span",mo,o(i.value),1)]),e("div",po,[e("p",go,o(l(v).user?.first_name),1),e("p",vo,o(l(v).user?.email),1)]),b(l(dt),{class:"w-3 h-3 sm:w-4 sm:h-4 text-gray-500 flex-shrink-0"})]),y.value?(t(),s("div",{key:0,class:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50 border border-gray-200",onClick:$[3]||($[3]=a=>y.value=!1)},[b(D,{to:"/customer/profile",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:$[1]||($[1]=a=>y.value=!1)},{default:ee(()=>[b(l(Pe),{class:"w-4 h-4 inline mr-2"}),$[8]||($[8]=K(" Mon Profil ",-1))]),_:1,__:[8]}),b(D,{to:"/customer/tickets",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:$[2]||($[2]=a=>y.value=!1)},{default:ee(()=>[b(l(Te),{class:"w-4 h-4 inline mr-2"}),$[9]||($[9]=K(" Mes Tickets ",-1))]),_:1,__:[9]}),$[11]||($[11]=e("div",{class:"border-t border-gray-100 my-1"},null,-1)),e("button",{onClick:w,class:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"},[b(l(Ve),{class:"w-4 h-4 inline mr-2"}),$[10]||($[10]=K(" Se déconnecter ",-1))])])):B("",!0)]),e("button",{onClick:$[4]||($[4]=a=>g.value=!g.value),class:"md:hidden p-1 sm:p-2 rounded-md text-gray-400 hover:text-gray-600 flex-shrink-0"},[b(l(ht),{class:"w-5 h-5 sm:w-6 sm:h-6"})])])])]),g.value?(t(),s("div",xo,[e("div",fo,[(t(),s(X,null,Y(P,a=>b(D,{key:a.name,to:a.to,class:J(["block px-3 py-2 rounded-md text-base font-medium",f.$route.name===a.name?"text-[#0099cc] bg-blue-50":"text-gray-600 hover:text-[#0099cc] hover:bg-blue-50"]),onClick:$[5]||($[5]=r=>g.value=!1)},{default:ee(()=>[K(o(a.label),1)]),_:2},1032,["to","class"])),64))])])):B("",!0)]),e("main",bo,[d.value?(t(),oe(Qs,{key:0})):B("",!0),b(E)]),b(Ut)])}}},yo="/build/icon.png",_o={class:"min-h-screen admin-layout"},wo={class:"mt-6 flex-1"},$o={class:"px-3 space-y-1"},ko={class:"font-medium"},Co={key:0,class:"ml-auto bg-orange-500 text-white text-xs px-2 py-1 rounded-full"},jo={class:"absolute bottom-4 left-0 right-0 px-3"},Ao={class:"bg-gray-700 rounded-lg p-4"},Po={class:"flex items-center space-x-3"},Mo={class:"w-10 h-10 bg-gray-600 rounded-full flex items-center justify-center"},Do={class:"flex-1 min-w-0"},Io={class:"text-sm font-medium text-white truncate"},To={class:"lg:pl-72"},Lo={class:"admin-header sticky top-0 z-30"},Eo={class:"flex items-center justify-between px-6 py-4"},So={class:"flex items-center space-x-4"},Vo={class:"hidden lg:flex items-center space-x-2 text-sm"},Fo={class:"text-gray-600"},Ro={class:"flex items-center space-x-4"},No={class:"relative p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors"},qo={class:"hidden md:flex items-center"},zo={class:"relative"},Uo={class:"relative"},Bo={class:"w-8 h-8 bg-[#0099cc] rounded-lg flex items-center justify-center"},Oo={class:"text-sm font-semibold text-white"},Ho={class:"hidden md:block text-left"},Go={class:"text-sm font-semibold text-gray-800"},Ko={class:"px-4 py-3 border-b border-gray-100"},Zo={class:"text-sm font-medium text-gray-800"},Wo={class:"text-xs text-gray-500"},Jo={href:"#",class:"flex items-center px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 transition-colors"},Xo={href:"#",class:"flex items-center px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 transition-colors"},Yo={class:"border-t border-gray-100 mt-2 pt-2"},Qo={class:"p-6"},er={__name:"AdminLayout",setup(h){const v=ve(),A=$e(),y=qe(),g=R(!0),u=R(!1),P=[{name:"admin.dashboard",to:{name:"admin.dashboard"},label:"Tableau de bord",icon:Mt},{name:"admin.users",to:{name:"admin.users"},label:"Utilisateurs",icon:et,badge:"12"},{name:"admin.products",to:{name:"admin.products"},label:"Produits",icon:Se},{name:"admin.lotteries",to:{name:"admin.lotteries"},label:"Tombolas",icon:Ue,badge:"3"},{name:"admin.refunds",to:{name:"admin.refunds"},label:"Remboursements",icon:De},{name:"admin.payments",to:{name:"admin.payments"},label:"Paiements",icon:De},{name:"admin.settings",to:{name:"admin.settings"},label:"Paramètres",icon:Pt}],i=te(()=>P.find(f=>f.name===y.name)?.label||"Page"),d=te(()=>{const T=v.user;return T?(T.first_name?.[0]||"")+(T.last_name?.[0]||""):"AD"}),w=async()=>{await v.logout(),A.push({name:"login"})},C=T=>{T.target.closest(".relative")||(u.value=!1)};return ne(()=>{document.addEventListener("click",C)}),Qe(()=>{document.removeEventListener("click",C)}),(T,f)=>{const $=me("router-link"),D=me("router-view");return t(),s("div",_o,[e("aside",{class:J(["fixed inset-y-0 left-0 z-50 w-72 admin-sidebar transform transition-transform duration-300 ease-in-out lg:translate-x-0",{"-translate-x-full lg:translate-x-0":!g.value,"translate-x-0":g.value}])},[f[5]||(f[5]=se('<div class="flex items-center justify-between h-16 px-6 border-b border-gray-700"><div class="flex items-center space-x-3"><div class="w-8 h-8 bg-white rounded-lg flex items-center justify-center p-1"><img src="'+yo+'" alt="Koumbaya" class="w-full h-full object-contain"></div><div class="text-white"><h1 class="text-lg font-bold">Koumbaya</h1><p class="text-xs text-gray-300">Administration</p></div></div></div>',1)),e("nav",wo,[e("div",$o,[(t(),s(X,null,Y(P,E=>b($,{key:E.name,to:E.to,class:J(["admin-sidebar-item",T.$route.name===E.name?"active":""])},{default:ee(()=>[(t(),oe(we(E.icon),{class:"w-5 h-5 mr-3"})),e("span",ko,o(E.label),1),E.badge?(t(),s("span",Co,o(E.badge),1)):B("",!0)]),_:2},1032,["to","class"])),64))]),e("div",jo,[e("div",Ao,[e("div",Po,[e("div",Mo,[b(l(Pe),{class:"w-5 h-5 text-gray-300"})]),e("div",Do,[e("p",Io,o(l(v).user?.first_name)+" "+o(l(v).user?.last_name),1),f[4]||(f[4]=e("p",{class:"text-xs text-gray-300 truncate"},"Super Administrateur",-1))]),e("button",{onClick:w,class:"text-gray-300 hover:text-white transition-colors",title:"Se déconnecter"},[b(l(Ve),{class:"w-5 h-5"})])])])])])],2),g.value?(t(),s("div",{key:0,class:"fixed inset-0 z-40 bg-gray-900 bg-opacity-30 lg:hidden",onClick:f[0]||(f[0]=E=>g.value=!1)})):B("",!0),e("div",To,[e("header",Lo,[e("div",Eo,[e("div",So,[e("button",{onClick:f[1]||(f[1]=E=>g.value=!g.value),class:"lg:hidden p-2 rounded-md text-gray-500 hover:text-gray-700 hover:bg-gray-100 transition-colors"},[b(l(ht),{class:"w-6 h-6"})]),e("nav",Vo,[b(l(Mt),{class:"w-4 h-4 text-gray-400"}),b(l(os),{class:"w-4 h-4 text-gray-400"}),e("span",Fo,o(i.value),1)])]),e("div",Ro,[e("button",No,[b(l(nt),{class:"w-6 h-6"}),f[6]||(f[6]=e("span",{class:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"},null,-1))]),e("div",qo,[e("div",zo,[b(l(Je),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),f[7]||(f[7]=e("input",{type:"text",placeholder:"Rechercher...",class:"pl-10 pr-4 py-2 w-64 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0099cc] focus:border-transparent"},null,-1))])]),e("div",Uo,[e("button",{onClick:f[2]||(f[2]=E=>u.value=!u.value),class:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-100 transition-colors"},[e("div",Bo,[e("span",Oo,o(d.value),1)]),e("div",Ho,[e("p",Go,o(l(v).user?.first_name)+" "+o(l(v).user?.last_name),1),f[8]||(f[8]=e("p",{class:"text-xs text-gray-500"},"Super Admin",-1))]),b(l(dt),{class:"w-4 h-4 text-gray-400"})]),u.value?(t(),s("div",{key:0,class:"absolute right-0 mt-2 w-56 bg-white rounded-xl shadow-lg border border-gray-200 py-2 z-50",onClick:f[3]||(f[3]=E=>u.value=!1)},[e("div",Ko,[e("p",Zo,o(l(v).user?.first_name)+" "+o(l(v).user?.last_name),1),e("p",Wo,o(l(v).user?.email),1)]),e("a",Jo,[b(l(Pe),{class:"w-4 h-4 mr-3 text-gray-400"}),f[9]||(f[9]=K(" Mon Profil ",-1))]),e("a",Xo,[b(l(Pt),{class:"w-4 h-4 mr-3 text-gray-400"}),f[10]||(f[10]=K(" Paramètres ",-1))]),e("div",Yo,[e("button",{onClick:w,class:"flex items-center w-full px-4 py-3 text-sm text-red-600 hover:bg-red-50 transition-colors"},[b(l(Ve),{class:"w-4 h-4 mr-3"}),f[11]||(f[11]=K(" Se déconnecter ",-1))])])])):B("",!0)])])])]),e("main",Qo,[b(D)])])])}}};function tr(h){return h&&h.__esModule&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h}var mt={exports:{}},Dt;function sr(){return Dt||(Dt=1,function(h){(function(v){h.exports?h.exports=v():window.intlTelInput=v()})(()=>{var v=(()=>{var A=Object.defineProperty,y=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyNames,u=Object.prototype.hasOwnProperty,P=(_,k)=>{for(var j in k)A(_,j,{get:k[j],enumerable:!0})},i=(_,k,j,p)=>{if(k&&typeof k=="object"||typeof k=="function")for(let q of g(k))!u.call(_,q)&&q!==j&&A(_,q,{get:()=>k[q],enumerable:!(p=y(k,q))||p.enumerable});return _},d=_=>i(A({},"__esModule",{value:!0}),_),w={};P(w,{Iti:()=>L,default:()=>G});var C=[["af","93"],["ax","358",1],["al","355"],["dz","213"],["as","1",5,["684"]],["ad","376"],["ao","244"],["ai","1",6,["264"]],["ag","1",7,["268"]],["ar","54"],["am","374"],["aw","297"],["ac","247"],["au","61",0,null,"0"],["at","43"],["az","994"],["bs","1",8,["242"]],["bh","973"],["bd","880"],["bb","1",9,["246"]],["by","375"],["be","32"],["bz","501"],["bj","229"],["bm","1",10,["441"]],["bt","975"],["bo","591"],["ba","387"],["bw","267"],["br","55"],["io","246"],["vg","1",11,["284"]],["bn","673"],["bg","359"],["bf","226"],["bi","257"],["kh","855"],["cm","237"],["ca","1",1,["204","226","236","249","250","263","289","306","343","354","365","367","368","382","387","403","416","418","428","431","437","438","450","584","468","474","506","514","519","548","579","581","584","587","604","613","639","647","672","683","705","709","742","753","778","780","782","807","819","825","867","873","879","902","905"]],["cv","238"],["bq","599",1,["3","4","7"]],["ky","1",12,["345"]],["cf","236"],["td","235"],["cl","56"],["cn","86"],["cx","61",2,["89164"],"0"],["cc","61",1,["89162"],"0"],["co","57"],["km","269"],["cg","242"],["cd","243"],["ck","682"],["cr","506"],["ci","225"],["hr","385"],["cu","53"],["cw","599",0],["cy","357"],["cz","420"],["dk","45"],["dj","253"],["dm","1",13,["767"]],["do","1",2,["809","829","849"]],["ec","593"],["eg","20"],["sv","503"],["gq","240"],["er","291"],["ee","372"],["sz","268"],["et","251"],["fk","500"],["fo","298"],["fj","679"],["fi","358",0],["fr","33"],["gf","594"],["pf","689"],["ga","241"],["gm","220"],["ge","995"],["de","49"],["gh","233"],["gi","350"],["gr","30"],["gl","299"],["gd","1",14,["473"]],["gp","590",0],["gu","1",15,["671"]],["gt","502"],["gg","44",1,["1481","7781","7839","7911"],"0"],["gn","224"],["gw","245"],["gy","592"],["ht","509"],["hn","504"],["hk","852"],["hu","36"],["is","354"],["in","91"],["id","62"],["ir","98"],["iq","964"],["ie","353"],["im","44",2,["1624","74576","7524","7924","7624"],"0"],["il","972"],["it","39",0],["jm","1",4,["876","658"]],["jp","81"],["je","44",3,["1534","7509","7700","7797","7829","7937"],"0"],["jo","962"],["kz","7",1,["33","7"],"8"],["ke","254"],["ki","686"],["xk","383"],["kw","965"],["kg","996"],["la","856"],["lv","371"],["lb","961"],["ls","266"],["lr","231"],["ly","218"],["li","423"],["lt","370"],["lu","352"],["mo","853"],["mg","261"],["mw","265"],["my","60"],["mv","960"],["ml","223"],["mt","356"],["mh","692"],["mq","596"],["mr","222"],["mu","230"],["yt","262",1,["269","639"],"0"],["mx","52"],["fm","691"],["md","373"],["mc","377"],["mn","976"],["me","382"],["ms","1",16,["664"]],["ma","212",0,null,"0"],["mz","258"],["mm","95"],["na","264"],["nr","674"],["np","977"],["nl","31"],["nc","687"],["nz","64"],["ni","505"],["ne","227"],["ng","234"],["nu","683"],["nf","672"],["kp","850"],["mk","389"],["mp","1",17,["670"]],["no","47",0],["om","968"],["pk","92"],["pw","680"],["ps","970"],["pa","507"],["pg","675"],["py","595"],["pe","51"],["ph","63"],["pl","48"],["pt","351"],["pr","1",3,["787","939"]],["qa","974"],["re","262",0,null,"0"],["ro","40"],["ru","7",0,null,"8"],["rw","250"],["ws","685"],["sm","378"],["st","239"],["sa","966"],["sn","221"],["rs","381"],["sc","248"],["sl","232"],["sg","65"],["sx","1",21,["721"]],["sk","421"],["si","386"],["sb","677"],["so","252"],["za","27"],["kr","82"],["ss","211"],["es","34"],["lk","94"],["bl","590",1],["sh","290"],["kn","1",18,["869"]],["lc","1",19,["758"]],["mf","590",2],["pm","508"],["vc","1",20,["784"]],["sd","249"],["sr","597"],["sj","47",1,["79"]],["se","46"],["ch","41"],["sy","963"],["tw","886"],["tj","992"],["tz","255"],["th","66"],["tl","670"],["tg","228"],["tk","690"],["to","676"],["tt","1",22,["868"]],["tn","216"],["tr","90"],["tm","993"],["tc","1",23,["649"]],["tv","688"],["ug","256"],["ua","380"],["ae","971"],["gb","44",0,null,"0"],["us","1",0],["uy","598"],["vi","1",24,["340"]],["uz","998"],["vu","678"],["va","39",1,["06698"]],["ve","58"],["vn","84"],["wf","681"],["eh","212",1,["5288","5289"],"0"],["ye","967"],["zm","260"],["zw","263"]],T=[];for(let _=0;_<C.length;_++){const k=C[_];T[_]={name:"",iso2:k[0],dialCode:k[1],priority:k[2]||0,areaCodes:k[3]||null,nodeById:{},nationalPrefix:k[4]||null}}var f=T,$={ad:"Andorra",ae:"United Arab Emirates",af:"Afghanistan",ag:"Antigua & Barbuda",ai:"Anguilla",al:"Albania",am:"Armenia",ao:"Angola",ar:"Argentina",as:"American Samoa",at:"Austria",au:"Australia",aw:"Aruba",ax:"Åland Islands",az:"Azerbaijan",ba:"Bosnia & Herzegovina",bb:"Barbados",bd:"Bangladesh",be:"Belgium",bf:"Burkina Faso",bg:"Bulgaria",bh:"Bahrain",bi:"Burundi",bj:"Benin",bl:"St. Barthélemy",bm:"Bermuda",bn:"Brunei",bo:"Bolivia",bq:"Caribbean Netherlands",br:"Brazil",bs:"Bahamas",bt:"Bhutan",bw:"Botswana",by:"Belarus",bz:"Belize",ca:"Canada",cc:"Cocos (Keeling) Islands",cd:"Congo - Kinshasa",cf:"Central African Republic",cg:"Congo - Brazzaville",ch:"Switzerland",ci:"Côte d’Ivoire",ck:"Cook Islands",cl:"Chile",cm:"Cameroon",cn:"China",co:"Colombia",cr:"Costa Rica",cu:"Cuba",cv:"Cape Verde",cw:"Curaçao",cx:"Christmas Island",cy:"Cyprus",cz:"Czechia",de:"Germany",dj:"Djibouti",dk:"Denmark",dm:"Dominica",do:"Dominican Republic",dz:"Algeria",ec:"Ecuador",ee:"Estonia",eg:"Egypt",eh:"Western Sahara",er:"Eritrea",es:"Spain",et:"Ethiopia",fi:"Finland",fj:"Fiji",fk:"Falkland Islands",fm:"Micronesia",fo:"Faroe Islands",fr:"France",ga:"Gabon",gb:"United Kingdom",gd:"Grenada",ge:"Georgia",gf:"French Guiana",gg:"Guernsey",gh:"Ghana",gi:"Gibraltar",gl:"Greenland",gm:"Gambia",gn:"Guinea",gp:"Guadeloupe",gq:"Equatorial Guinea",gr:"Greece",gt:"Guatemala",gu:"Guam",gw:"Guinea-Bissau",gy:"Guyana",hk:"Hong Kong SAR China",hn:"Honduras",hr:"Croatia",ht:"Haiti",hu:"Hungary",id:"Indonesia",ie:"Ireland",il:"Israel",im:"Isle of Man",in:"India",io:"British Indian Ocean Territory",iq:"Iraq",ir:"Iran",is:"Iceland",it:"Italy",je:"Jersey",jm:"Jamaica",jo:"Jordan",jp:"Japan",ke:"Kenya",kg:"Kyrgyzstan",kh:"Cambodia",ki:"Kiribati",km:"Comoros",kn:"St. Kitts & Nevis",kp:"North Korea",kr:"South Korea",kw:"Kuwait",ky:"Cayman Islands",kz:"Kazakhstan",la:"Laos",lb:"Lebanon",lc:"St. Lucia",li:"Liechtenstein",lk:"Sri Lanka",lr:"Liberia",ls:"Lesotho",lt:"Lithuania",lu:"Luxembourg",lv:"Latvia",ly:"Libya",ma:"Morocco",mc:"Monaco",md:"Moldova",me:"Montenegro",mf:"St. Martin",mg:"Madagascar",mh:"Marshall Islands",mk:"North Macedonia",ml:"Mali",mm:"Myanmar (Burma)",mn:"Mongolia",mo:"Macao SAR China",mp:"Northern Mariana Islands",mq:"Martinique",mr:"Mauritania",ms:"Montserrat",mt:"Malta",mu:"Mauritius",mv:"Maldives",mw:"Malawi",mx:"Mexico",my:"Malaysia",mz:"Mozambique",na:"Namibia",nc:"New Caledonia",ne:"Niger",nf:"Norfolk Island",ng:"Nigeria",ni:"Nicaragua",nl:"Netherlands",no:"Norway",np:"Nepal",nr:"Nauru",nu:"Niue",nz:"New Zealand",om:"Oman",pa:"Panama",pe:"Peru",pf:"French Polynesia",pg:"Papua New Guinea",ph:"Philippines",pk:"Pakistan",pl:"Poland",pm:"St. Pierre & Miquelon",pr:"Puerto Rico",ps:"Palestinian Territories",pt:"Portugal",pw:"Palau",py:"Paraguay",qa:"Qatar",re:"Réunion",ro:"Romania",rs:"Serbia",ru:"Russia",rw:"Rwanda",sa:"Saudi Arabia",sb:"Solomon Islands",sc:"Seychelles",sd:"Sudan",se:"Sweden",sg:"Singapore",sh:"St. Helena",si:"Slovenia",sj:"Svalbard & Jan Mayen",sk:"Slovakia",sl:"Sierra Leone",sm:"San Marino",sn:"Senegal",so:"Somalia",sr:"Suriname",ss:"South Sudan",st:"São Tomé & Príncipe",sv:"El Salvador",sx:"Sint Maarten",sy:"Syria",sz:"Eswatini",tc:"Turks & Caicos Islands",td:"Chad",tg:"Togo",th:"Thailand",tj:"Tajikistan",tk:"Tokelau",tl:"Timor-Leste",tm:"Turkmenistan",tn:"Tunisia",to:"Tonga",tr:"Turkey",tt:"Trinidad & Tobago",tv:"Tuvalu",tw:"Taiwan",tz:"Tanzania",ua:"Ukraine",ug:"Uganda",us:"United States",uy:"Uruguay",uz:"Uzbekistan",va:"Vatican City",vc:"St. Vincent & Grenadines",ve:"Venezuela",vg:"British Virgin Islands",vi:"U.S. Virgin Islands",vn:"Vietnam",vu:"Vanuatu",wf:"Wallis & Futuna",ws:"Samoa",ye:"Yemen",yt:"Mayotte",za:"South Africa",zm:"Zambia",zw:"Zimbabwe"},D=$,E={selectedCountryAriaLabel:"Selected country",noCountrySelected:"No country selected",countryListAriaLabel:"List of countries",searchPlaceholder:"Search",zeroSearchResults:"No results found",oneSearchResult:"1 result found",multipleSearchResults:"${count} results found",ac:"Ascension Island",xk:"Kosovo"},a=E,r={...D,...a},F=r;for(let _=0;_<f.length;_++)f[_].name=F[f[_].iso2];var n=0,c={allowDropdown:!0,autoPlaceholder:"polite",containerClass:"",countryOrder:null,countrySearch:!0,customPlaceholder:null,dropdownContainer:null,excludeCountries:[],fixDropdownWidth:!0,formatAsYouType:!0,formatOnDisplay:!0,geoIpLookup:null,hiddenInput:null,i18n:{},initialCountry:"",loadUtils:null,nationalMode:!0,onlyCountries:[],placeholderNumberType:"MOBILE",showFlags:!0,separateDialCode:!1,strictMode:!1,useFullscreenPopup:typeof navigator<"u"&&typeof window<"u"?/Android.+Mobile|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<=500:!1,validationNumberTypes:["MOBILE"]},x=["800","822","833","844","855","866","877","880","881","882","883","884","885","886","887","888","889"],O=_=>_.replace(/\D/g,""),W=(_="")=>_.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),H=_=>{const k=O(_);if(k.charAt(0)==="1"){const j=k.substr(1,3);return x.includes(j)}return!1},I=(_,k,j,p)=>{if(j===0&&!p)return 0;let q=0;for(let z=0;z<k.length;z++){if(/[+0-9]/.test(k[z])&&q++,q===_&&!p)return z+1;if(p&&q===_+1)return z}return k.length},m=(_,k,j)=>{const p=document.createElement(_);return k&&Object.entries(k).forEach(([q,z])=>p.setAttribute(q,z)),j&&j.appendChild(p),p},M=(_,...k)=>{const{instances:j}=N;Object.values(j).forEach(p=>p[_](...k))},L=class{constructor(_,k={}){this.id=n++,this.telInput=_,this.highlightedItem=null,this.options=Object.assign({},c,k),this.hadInitialPlaceholder=!!_.getAttribute("placeholder")}_init(){this.options.useFullscreenPopup&&(this.options.fixDropdownWidth=!1),this.options.onlyCountries.length===1&&(this.options.initialCountry=this.options.onlyCountries[0]),this.options.separateDialCode&&(this.options.nationalMode=!1),this.options.allowDropdown&&!this.options.showFlags&&!this.options.separateDialCode&&(this.options.nationalMode=!1),this.options.useFullscreenPopup&&!this.options.dropdownContainer&&(this.options.dropdownContainer=document.body),this.isAndroid=typeof navigator<"u"?/Android/i.test(navigator.userAgent):!1,this.isRTL=!!this.telInput.closest("[dir=rtl]");const _=this.options.allowDropdown||this.options.separateDialCode;this.showSelectedCountryOnLeft=this.isRTL?!_:_,this.options.separateDialCode&&(this.isRTL?this.originalPaddingRight=this.telInput.style.paddingRight:this.originalPaddingLeft=this.telInput.style.paddingLeft),this.options.i18n={...F,...this.options.i18n};const k=new Promise((p,q)=>{this.resolveAutoCountryPromise=p,this.rejectAutoCountryPromise=q}),j=new Promise((p,q)=>{this.resolveUtilsScriptPromise=p,this.rejectUtilsScriptPromise=q});this.promise=Promise.all([k,j]),this.selectedCountryData={},this._processCountryData(),this._generateMarkup(),this._setInitialState(),this._initListeners(),this._initRequests()}_processCountryData(){this._processAllCountries(),this._processDialCodes(),this._translateCountryNames(),this._sortCountries()}_sortCountries(){this.options.countryOrder&&(this.options.countryOrder=this.options.countryOrder.map(_=>_.toLowerCase())),this.countries.sort((_,k)=>{const{countryOrder:j}=this.options;if(j){const p=j.indexOf(_.iso2),q=j.indexOf(k.iso2),z=p>-1,V=q>-1;if(z||V)return z&&V?p-q:z?-1:1}return _.name.localeCompare(k.name)})}_addToDialCodeMap(_,k,j){k.length>this.dialCodeMaxLen&&(this.dialCodeMaxLen=k.length),this.dialCodeToIso2Map.hasOwnProperty(k)||(this.dialCodeToIso2Map[k]=[]);for(let q=0;q<this.dialCodeToIso2Map[k].length;q++)if(this.dialCodeToIso2Map[k][q]===_)return;const p=j!==void 0?j:this.dialCodeToIso2Map[k].length;this.dialCodeToIso2Map[k][p]=_}_processAllCountries(){const{onlyCountries:_,excludeCountries:k}=this.options;if(_.length){const j=_.map(p=>p.toLowerCase());this.countries=f.filter(p=>j.includes(p.iso2))}else if(k.length){const j=k.map(p=>p.toLowerCase());this.countries=f.filter(p=>!j.includes(p.iso2))}else this.countries=f}_translateCountryNames(){for(let _=0;_<this.countries.length;_++){const k=this.countries[_].iso2.toLowerCase();this.options.i18n.hasOwnProperty(k)&&(this.countries[_].name=this.options.i18n[k])}}_processDialCodes(){this.dialCodes={},this.dialCodeMaxLen=0,this.dialCodeToIso2Map={};for(let _=0;_<this.countries.length;_++){const k=this.countries[_];this.dialCodes[k.dialCode]||(this.dialCodes[k.dialCode]=!0),this._addToDialCodeMap(k.iso2,k.dialCode,k.priority)}for(let _=0;_<this.countries.length;_++){const k=this.countries[_];if(k.areaCodes){const j=this.dialCodeToIso2Map[k.dialCode][0];for(let p=0;p<k.areaCodes.length;p++){const q=k.areaCodes[p];for(let z=1;z<q.length;z++){const V=q.substr(0,z),U=k.dialCode+V;this._addToDialCodeMap(j,U),this._addToDialCodeMap(k.iso2,U)}this._addToDialCodeMap(k.iso2,k.dialCode+q)}}}}_generateMarkup(){this.telInput.classList.add("iti__tel-input"),!this.telInput.hasAttribute("autocomplete")&&!(this.telInput.form&&this.telInput.form.hasAttribute("autocomplete"))&&this.telInput.setAttribute("autocomplete","off");const{allowDropdown:_,separateDialCode:k,showFlags:j,containerClass:p,hiddenInput:q,dropdownContainer:z,fixDropdownWidth:V,useFullscreenPopup:U,countrySearch:ae,i18n:ce}=this.options;let pe="iti";_&&(pe+=" iti--allow-dropdown"),j&&(pe+=" iti--show-flags"),p&&(pe+=` ${p}`),U||(pe+=" iti--inline-dropdown");const ue=m("div",{class:pe});if(this.telInput.parentNode?.insertBefore(ue,this.telInput),_||j||k){this.countryContainer=m("div",{class:"iti__country-container"},ue),this.showSelectedCountryOnLeft?this.countryContainer.style.left="0px":this.countryContainer.style.right="0px",_?(this.selectedCountry=m("button",{type:"button",class:"iti__selected-country","aria-expanded":"false","aria-label":this.options.i18n.selectedCountryAriaLabel,"aria-haspopup":"true","aria-controls":`iti-${this.id}__dropdown-content`,role:"combobox"},this.countryContainer),this.telInput.disabled&&this.selectedCountry.setAttribute("disabled","true")):this.selectedCountry=m("div",{class:"iti__selected-country"},this.countryContainer);const Ae=m("div",{class:"iti__selected-country-primary"},this.selectedCountry);if(this.selectedCountryInner=m("div",{class:"iti__flag"},Ae),this.selectedCountryA11yText=m("span",{class:"iti__a11y-text"},this.selectedCountryInner),_&&(this.dropdownArrow=m("div",{class:"iti__arrow","aria-hidden":"true"},Ae)),k&&(this.selectedDialCode=m("div",{class:"iti__selected-dial-code"},this.selectedCountry)),_){const xe=V?"":"iti--flexible-dropdown-width";if(this.dropdownContent=m("div",{id:`iti-${this.id}__dropdown-content`,class:`iti__dropdown-content iti__hide ${xe}`}),ae&&(this.searchInput=m("input",{type:"text",class:"iti__search-input",placeholder:ce.searchPlaceholder,role:"combobox","aria-expanded":"true","aria-label":ce.searchPlaceholder,"aria-controls":`iti-${this.id}__country-listbox`,"aria-autocomplete":"list",autocomplete:"off"},this.dropdownContent),this.searchResultsA11yText=m("span",{class:"iti__a11y-text"},this.dropdownContent)),this.countryList=m("ul",{class:"iti__country-list",id:`iti-${this.id}__country-listbox`,role:"listbox","aria-label":ce.countryListAriaLabel},this.dropdownContent),this._appendListItems(),ae&&this._updateSearchResultsText(),z){let fe="iti iti--container";U?fe+=" iti--fullscreen-popup":fe+=" iti--inline-dropdown",this.dropdown=m("div",{class:fe}),this.dropdown.appendChild(this.dropdownContent)}else this.countryContainer.appendChild(this.dropdownContent)}}if(ue.appendChild(this.telInput),this._updateInputPadding(),q){const Ae=this.telInput.getAttribute("name")||"",xe=q(Ae);if(xe.phone){const fe=this.telInput.form?.querySelector(`input[name="${xe.phone}"]`);fe?this.hiddenInput=fe:(this.hiddenInput=m("input",{type:"hidden",name:xe.phone}),ue.appendChild(this.hiddenInput))}if(xe.country){const fe=this.telInput.form?.querySelector(`input[name="${xe.country}"]`);fe?this.hiddenInputCountry=fe:(this.hiddenInputCountry=m("input",{type:"hidden",name:xe.country}),ue.appendChild(this.hiddenInputCountry))}}}_appendListItems(){for(let _=0;_<this.countries.length;_++){const k=this.countries[_],j=_===0?"iti__highlight":"",p=m("li",{id:`iti-${this.id}__item-${k.iso2}`,class:`iti__country ${j}`,tabindex:"-1",role:"option","data-dial-code":k.dialCode,"data-country-code":k.iso2,"aria-selected":"false"},this.countryList);k.nodeById[this.id]=p;let q="";this.options.showFlags&&(q+=`<div class='iti__flag iti__${k.iso2}'></div>`),q+=`<span class='iti__country-name'>${k.name}</span>`,q+=`<span class='iti__dial-code'>+${k.dialCode}</span>`,p.insertAdjacentHTML("beforeend",q)}}_setInitialState(_=!1){const k=this.telInput.getAttribute("value"),j=this.telInput.value,q=k&&k.charAt(0)==="+"&&(!j||j.charAt(0)!=="+")?k:j,z=this._getDialCode(q),V=H(q),{initialCountry:U,geoIpLookup:ae}=this.options,ce=U==="auto"&&ae;if(z&&!V)this._updateCountryFromNumber(q);else if(!ce||_){const pe=U?U.toLowerCase():"";pe&&this._getCountryData(pe,!0)?this._setCountry(pe):z&&V?this._setCountry("us"):this._setCountry()}q&&this._updateValFromNumber(q)}_initListeners(){this._initTelInputListeners(),this.options.allowDropdown&&this._initDropdownListeners(),(this.hiddenInput||this.hiddenInputCountry)&&this.telInput.form&&this._initHiddenInputListener()}_initHiddenInputListener(){this._handleHiddenInputSubmit=()=>{this.hiddenInput&&(this.hiddenInput.value=this.getNumber()),this.hiddenInputCountry&&(this.hiddenInputCountry.value=this.getSelectedCountryData().iso2||"")},this.telInput.form?.addEventListener("submit",this._handleHiddenInputSubmit)}_initDropdownListeners(){this._handleLabelClick=k=>{this.dropdownContent.classList.contains("iti__hide")?this.telInput.focus():k.preventDefault()};const _=this.telInput.closest("label");_&&_.addEventListener("click",this._handleLabelClick),this._handleClickSelectedCountry=()=>{this.dropdownContent.classList.contains("iti__hide")&&!this.telInput.disabled&&!this.telInput.readOnly&&this._openDropdown()},this.selectedCountry.addEventListener("click",this._handleClickSelectedCountry),this._handleCountryContainerKeydown=k=>{this.dropdownContent.classList.contains("iti__hide")&&["ArrowUp","ArrowDown"," ","Enter"].includes(k.key)&&(k.preventDefault(),k.stopPropagation(),this._openDropdown()),k.key==="Tab"&&this._closeDropdown()},this.countryContainer.addEventListener("keydown",this._handleCountryContainerKeydown)}_initRequests(){let{loadUtils:_,initialCountry:k,geoIpLookup:j}=this.options;_&&!N.utils?(this._handlePageLoad=()=>{window.removeEventListener("load",this._handlePageLoad),N.attachUtils(_)?.catch(()=>{})},N.documentReady()?this._handlePageLoad():window.addEventListener("load",this._handlePageLoad)):this.resolveUtilsScriptPromise(),k==="auto"&&j&&!this.selectedCountryData.iso2?this._loadAutoCountry():this.resolveAutoCountryPromise()}_loadAutoCountry(){N.autoCountry?this.handleAutoCountry():N.startedLoadingAutoCountry||(N.startedLoadingAutoCountry=!0,typeof this.options.geoIpLookup=="function"&&this.options.geoIpLookup((_="")=>{const k=_.toLowerCase();k&&this._getCountryData(k,!0)?(N.autoCountry=k,setTimeout(()=>M("handleAutoCountry"))):(this._setInitialState(!0),M("rejectAutoCountryPromise"))},()=>{this._setInitialState(!0),M("rejectAutoCountryPromise")}))}_openDropdownWithPlus(){this._openDropdown(),this.searchInput.value="+",this._filterCountries("",!0)}_initTelInputListeners(){const{strictMode:_,formatAsYouType:k,separateDialCode:j,formatOnDisplay:p,allowDropdown:q,countrySearch:z}=this.options;let V=!1;new RegExp("\\p{L}","u").test(this.telInput.value)&&(V=!0),this._handleInputEvent=U=>{if(this.isAndroid&&U?.data==="+"&&j&&q&&z){const ue=this.telInput.selectionStart||0,Ae=this.telInput.value.substring(0,ue-1),xe=this.telInput.value.substring(ue);this.telInput.value=Ae+xe,this._openDropdownWithPlus();return}this._updateCountryFromNumber(this.telInput.value)&&this._triggerCountryChange();const ae=U?.data&&/[^+0-9]/.test(U.data),ce=U?.inputType==="insertFromPaste"&&this.telInput.value;ae||ce&&!_?V=!0:/[^+0-9]/.test(this.telInput.value)||(V=!1);const pe=U?.detail&&U.detail.isSetNumber&&!p;if(k&&!V&&!pe){const ue=this.telInput.selectionStart||0,xe=this.telInput.value.substring(0,ue).replace(/[^+0-9]/g,"").length,fe=U?.inputType==="deleteContentForward",st=this._formatNumberAsYouType(),ot=I(xe,st,ue,fe);this.telInput.value=st,this.telInput.setSelectionRange(ot,ot)}},this.telInput.addEventListener("input",this._handleInputEvent),(_||j)&&(this._handleKeydownEvent=U=>{if(U.key&&U.key.length===1&&!U.altKey&&!U.ctrlKey&&!U.metaKey){if(j&&q&&z&&U.key==="+"){U.preventDefault(),this._openDropdownWithPlus();return}if(_){const ae=this.telInput.value,ce=ae.charAt(0)==="+",pe=!ce&&this.telInput.selectionStart===0&&U.key==="+",ue=/^[0-9]$/.test(U.key),Ae=j?ue:pe||ue,xe=ae.slice(0,this.telInput.selectionStart)+U.key+ae.slice(this.telInput.selectionEnd),fe=this._getFullNumber(xe),st=N.utils.getCoreNumber(fe,this.selectedCountryData.iso2),ot=this.maxCoreNumberLength&&st.length>this.maxCoreNumberLength;let kt=!1;if(ce){const Bt=this.selectedCountryData.iso2;kt=this._getCountryFromNumber(fe)!==Bt}(!Ae||ot&&!kt&&!pe)&&U.preventDefault()}}},this.telInput.addEventListener("keydown",this._handleKeydownEvent))}_cap(_){const k=parseInt(this.telInput.getAttribute("maxlength")||"",10);return k&&_.length>k?_.substr(0,k):_}_trigger(_,k={}){const j=new CustomEvent(_,{bubbles:!0,cancelable:!0,detail:k});this.telInput.dispatchEvent(j)}_openDropdown(){const{fixDropdownWidth:_,countrySearch:k}=this.options;if(_&&(this.dropdownContent.style.width=`${this.telInput.offsetWidth}px`),this.dropdownContent.classList.remove("iti__hide"),this.selectedCountry.setAttribute("aria-expanded","true"),this._setDropdownPosition(),k){const j=this.countryList.firstElementChild;j&&(this._highlightListItem(j,!1),this.countryList.scrollTop=0),this.searchInput.focus()}this._bindDropdownListeners(),this.dropdownArrow.classList.add("iti__arrow--up"),this._trigger("open:countrydropdown")}_setDropdownPosition(){if(this.options.dropdownContainer&&this.options.dropdownContainer.appendChild(this.dropdown),!this.options.useFullscreenPopup){const _=this.telInput.getBoundingClientRect(),k=this.telInput.offsetHeight;this.options.dropdownContainer&&(this.dropdown.style.top=`${_.top+k}px`,this.dropdown.style.left=`${_.left}px`,this._handleWindowScroll=()=>this._closeDropdown(),window.addEventListener("scroll",this._handleWindowScroll))}}_bindDropdownListeners(){this._handleMouseoverCountryList=p=>{const q=p.target?.closest(".iti__country");q&&this._highlightListItem(q,!1)},this.countryList.addEventListener("mouseover",this._handleMouseoverCountryList),this._handleClickCountryList=p=>{const q=p.target?.closest(".iti__country");q&&this._selectListItem(q)},this.countryList.addEventListener("click",this._handleClickCountryList);let _=!0;this._handleClickOffToClose=()=>{_||this._closeDropdown(),_=!1},document.documentElement.addEventListener("click",this._handleClickOffToClose);let k="",j=null;if(this._handleKeydownOnDropdown=p=>{["ArrowUp","ArrowDown","Enter","Escape"].includes(p.key)&&(p.preventDefault(),p.stopPropagation(),p.key==="ArrowUp"||p.key==="ArrowDown"?this._handleUpDownKey(p.key):p.key==="Enter"?this._handleEnterKey():p.key==="Escape"&&this._closeDropdown()),!this.options.countrySearch&&/^[a-zA-ZÀ-ÿа-яА-Я ]$/.test(p.key)&&(p.stopPropagation(),j&&clearTimeout(j),k+=p.key.toLowerCase(),this._searchForCountry(k),j=setTimeout(()=>{k=""},1e3))},document.addEventListener("keydown",this._handleKeydownOnDropdown),this.options.countrySearch){const p=()=>{const z=this.searchInput.value.trim();z?this._filterCountries(z):this._filterCountries("",!0)};let q=null;this._handleSearchChange=()=>{q&&clearTimeout(q),q=setTimeout(()=>{p(),q=null},100)},this.searchInput.addEventListener("input",this._handleSearchChange),this.searchInput.addEventListener("click",z=>z.stopPropagation())}}_searchForCountry(_){for(let k=0;k<this.countries.length;k++){const j=this.countries[k];if(j.name.substr(0,_.length).toLowerCase()===_){const q=j.nodeById[this.id];this._highlightListItem(q,!1),this._scrollTo(q);break}}}_filterCountries(_,k=!1){let j=!0;this.countryList.innerHTML="";const p=W(_);for(let q=0;q<this.countries.length;q++){const z=this.countries[q],V=W(z.name),U=z.name.split(/[^a-zA-ZÀ-ÿа-яА-Я]/).map(ce=>ce[0]).join("").toLowerCase(),ae=`+${z.dialCode}`;if(k||V.includes(p)||ae.includes(p)||z.iso2.includes(p)||U.includes(p)){const ce=z.nodeById[this.id];ce&&this.countryList.appendChild(ce),j&&(this._highlightListItem(ce,!1),j=!1)}}j&&this._highlightListItem(null,!1),this.countryList.scrollTop=0,this._updateSearchResultsText()}_updateSearchResultsText(){const{i18n:_}=this.options,k=this.countryList.childElementCount;let j;"searchResultsText"in _?j=_.searchResultsText(k):k===0?j=_.zeroSearchResults:k===1?j=_.oneSearchResult:j=_.multipleSearchResults.replace("${count}",k.toString()),this.searchResultsA11yText.textContent=j}_handleUpDownKey(_){let k=_==="ArrowUp"?this.highlightedItem?.previousElementSibling:this.highlightedItem?.nextElementSibling;!k&&this.countryList.childElementCount>1&&(k=_==="ArrowUp"?this.countryList.lastElementChild:this.countryList.firstElementChild),k&&(this._scrollTo(k),this._highlightListItem(k,!1))}_handleEnterKey(){this.highlightedItem&&this._selectListItem(this.highlightedItem)}_updateValFromNumber(_){let k=_;if(this.options.formatOnDisplay&&N.utils&&this.selectedCountryData){const j=this.options.nationalMode||k.charAt(0)!=="+"&&!this.options.separateDialCode,{NATIONAL:p,INTERNATIONAL:q}=N.utils.numberFormat,z=j?p:q;k=N.utils.formatNumber(k,this.selectedCountryData.iso2,z)}k=this._beforeSetNumber(k),this.telInput.value=k}_updateCountryFromNumber(_){const k=this._getCountryFromNumber(_);return k!==null?this._setCountry(k):!1}_ensureHasDialCode(_){const{dialCode:k,nationalPrefix:j}=this.selectedCountryData;if(_.charAt(0)==="+"||!k)return _;const z=j&&_.charAt(0)===j&&!this.options.separateDialCode?_.substring(1):_;return`+${k}${z}`}_getCountryFromNumber(_){const k=_.indexOf("+");let j=k?_.substring(k):_;const p=this.selectedCountryData.iso2,q=this.selectedCountryData.dialCode;j=this._ensureHasDialCode(j);const z=this._getDialCode(j,!0),V=O(j);if(z){const U=O(z),ae=this.dialCodeToIso2Map[U];if(!p&&this.defaultCountry&&ae.includes(this.defaultCountry))return this.defaultCountry;const ce=p&&ae.includes(p)&&(V.length===U.length||!this.selectedCountryData.areaCodes);if(!(q==="1"&&H(V))&&!ce){for(let ue=0;ue<ae.length;ue++)if(ae[ue])return ae[ue]}}else{if(j.charAt(0)==="+"&&V.length)return"";if((!j||j==="+")&&!this.selectedCountryData.iso2)return this.defaultCountry}return null}_highlightListItem(_,k){const j=this.highlightedItem;if(j&&(j.classList.remove("iti__highlight"),j.setAttribute("aria-selected","false")),this.highlightedItem=_,this.highlightedItem){this.highlightedItem.classList.add("iti__highlight"),this.highlightedItem.setAttribute("aria-selected","true");const p=this.highlightedItem.getAttribute("id")||"";this.selectedCountry.setAttribute("aria-activedescendant",p),this.options.countrySearch&&this.searchInput.setAttribute("aria-activedescendant",p)}k&&this.highlightedItem.focus()}_getCountryData(_,k){for(let j=0;j<this.countries.length;j++)if(this.countries[j].iso2===_)return this.countries[j];if(k)return null;throw new Error(`No country data for '${_}'`)}_setCountry(_){const{separateDialCode:k,showFlags:j,i18n:p}=this.options,q=this.selectedCountryData.iso2?this.selectedCountryData:{};if(this.selectedCountryData=_?this._getCountryData(_,!1)||{}:{},this.selectedCountryData.iso2&&(this.defaultCountry=this.selectedCountryData.iso2),this.selectedCountryInner){let z="",V="";_&&j?(z=`iti__flag iti__${_}`,V=`${this.selectedCountryData.name} +${this.selectedCountryData.dialCode}`):(z="iti__flag iti__globe",V=p.noCountrySelected),this.selectedCountryInner.className=z,this.selectedCountryA11yText.textContent=V}if(this._setSelectedCountryTitleAttribute(_,k),k){const z=this.selectedCountryData.dialCode?`+${this.selectedCountryData.dialCode}`:"";this.selectedDialCode.innerHTML=z,this._updateInputPadding()}return this._updatePlaceholder(),this._updateMaxLength(),q.iso2!==_}_updateInputPadding(){if(this.selectedCountry){const k=(this.selectedCountry.offsetWidth||this._getHiddenSelectedCountryWidth())+6;this.showSelectedCountryOnLeft?this.telInput.style.paddingLeft=`${k}px`:this.telInput.style.paddingRight=`${k}px`}}_updateMaxLength(){const{strictMode:_,placeholderNumberType:k,validationNumberTypes:j}=this.options,{iso2:p}=this.selectedCountryData;if(_&&N.utils)if(p){const q=N.utils.numberType[k];let z=N.utils.getExampleNumber(p,!1,q,!0),V=z;for(;N.utils.isPossibleNumber(z,p,j);)V=z,z+="0";const U=N.utils.getCoreNumber(V,p);this.maxCoreNumberLength=U.length,p==="by"&&(this.maxCoreNumberLength=U.length+1)}else this.maxCoreNumberLength=null}_setSelectedCountryTitleAttribute(_=null,k){if(!this.selectedCountry)return;let j;_&&!k?j=`${this.selectedCountryData.name}: +${this.selectedCountryData.dialCode}`:_?j=this.selectedCountryData.name:j="Unknown",this.selectedCountry.setAttribute("title",j)}_getHiddenSelectedCountryWidth(){if(this.telInput.parentNode){const _=this.telInput.parentNode.cloneNode(!1);_.style.visibility="hidden",document.body.appendChild(_);const k=this.countryContainer.cloneNode();_.appendChild(k);const j=this.selectedCountry.cloneNode(!0);k.appendChild(j);const p=j.offsetWidth;return document.body.removeChild(_),p}return 0}_updatePlaceholder(){const{autoPlaceholder:_,placeholderNumberType:k,nationalMode:j,customPlaceholder:p}=this.options,q=_==="aggressive"||!this.hadInitialPlaceholder&&_==="polite";if(N.utils&&q){const z=N.utils.numberType[k];let V=this.selectedCountryData.iso2?N.utils.getExampleNumber(this.selectedCountryData.iso2,j,z):"";V=this._beforeSetNumber(V),typeof p=="function"&&(V=p(V,this.selectedCountryData)),this.telInput.setAttribute("placeholder",V)}}_selectListItem(_){const k=this._setCountry(_.getAttribute("data-country-code"));this._closeDropdown(),this._updateDialCode(_.getAttribute("data-dial-code")),this.telInput.focus(),k&&this._triggerCountryChange()}_closeDropdown(){this.dropdownContent.classList.add("iti__hide"),this.selectedCountry.setAttribute("aria-expanded","false"),this.selectedCountry.removeAttribute("aria-activedescendant"),this.highlightedItem&&this.highlightedItem.setAttribute("aria-selected","false"),this.options.countrySearch&&this.searchInput.removeAttribute("aria-activedescendant"),this.dropdownArrow.classList.remove("iti__arrow--up"),document.removeEventListener("keydown",this._handleKeydownOnDropdown),this.options.countrySearch&&this.searchInput.removeEventListener("input",this._handleSearchChange),document.documentElement.removeEventListener("click",this._handleClickOffToClose),this.countryList.removeEventListener("mouseover",this._handleMouseoverCountryList),this.countryList.removeEventListener("click",this._handleClickCountryList),this.options.dropdownContainer&&(this.options.useFullscreenPopup||window.removeEventListener("scroll",this._handleWindowScroll),this.dropdown.parentNode&&this.dropdown.parentNode.removeChild(this.dropdown)),this._handlePageLoad&&window.removeEventListener("load",this._handlePageLoad),this._trigger("close:countrydropdown")}_scrollTo(_){const k=this.countryList,j=document.documentElement.scrollTop,p=k.offsetHeight,q=k.getBoundingClientRect().top+j,z=q+p,V=_.offsetHeight,U=_.getBoundingClientRect().top+j,ae=U+V,ce=U-q+k.scrollTop;if(U<q)k.scrollTop=ce;else if(ae>z){const pe=p-V;k.scrollTop=ce-pe}}_updateDialCode(_){const k=this.telInput.value,j=`+${_}`;let p;if(k.charAt(0)==="+"){const q=this._getDialCode(k);q?p=k.replace(q,j):p=j,this.telInput.value=p}}_getDialCode(_,k){let j="";if(_.charAt(0)==="+"){let p="";for(let q=0;q<_.length;q++){const z=_.charAt(q);if(!isNaN(parseInt(z,10))){if(p+=z,k)this.dialCodeToIso2Map[p]&&(j=_.substr(0,q+1));else if(this.dialCodes[p]){j=_.substr(0,q+1);break}if(p.length===this.dialCodeMaxLen)break}}}return j}_getFullNumber(_){const k=_||this.telInput.value.trim(),{dialCode:j}=this.selectedCountryData;let p;const q=O(k);return this.options.separateDialCode&&k.charAt(0)!=="+"&&j&&q?p=`+${j}`:p="",p+k}_beforeSetNumber(_){let k=_;if(this.options.separateDialCode){let j=this._getDialCode(k);if(j){j=`+${this.selectedCountryData.dialCode}`;const p=k[j.length]===" "||k[j.length]==="-"?j.length+1:j.length;k=k.substr(p)}}return this._cap(k)}_triggerCountryChange(){this._trigger("countrychange")}_formatNumberAsYouType(){const _=this._getFullNumber(),k=N.utils?N.utils.formatNumberAsYouType(_,this.selectedCountryData.iso2):_,{dialCode:j}=this.selectedCountryData;return this.options.separateDialCode&&this.telInput.value.charAt(0)!=="+"&&k.includes(`+${j}`)?(k.split(`+${j}`)[1]||"").trim():k}handleAutoCountry(){this.options.initialCountry==="auto"&&N.autoCountry&&(this.defaultCountry=N.autoCountry,this.selectedCountryData.iso2||this.selectedCountryInner.classList.contains("iti__globe")||this.setCountry(this.defaultCountry),this.resolveAutoCountryPromise())}handleUtils(){N.utils&&(this.telInput.value&&this._updateValFromNumber(this.telInput.value),this.selectedCountryData.iso2&&(this._updatePlaceholder(),this._updateMaxLength())),this.resolveUtilsScriptPromise()}destroy(){this.telInput.iti=void 0;const{allowDropdown:_,separateDialCode:k}=this.options;if(_){this._closeDropdown(),this.selectedCountry.removeEventListener("click",this._handleClickSelectedCountry),this.countryContainer.removeEventListener("keydown",this._handleCountryContainerKeydown);const q=this.telInput.closest("label");q&&q.removeEventListener("click",this._handleLabelClick)}const{form:j}=this.telInput;this._handleHiddenInputSubmit&&j&&j.removeEventListener("submit",this._handleHiddenInputSubmit),this.telInput.removeEventListener("input",this._handleInputEvent),this._handleKeydownEvent&&this.telInput.removeEventListener("keydown",this._handleKeydownEvent),this.telInput.removeAttribute("data-intl-tel-input-id"),k&&(this.isRTL?this.telInput.style.paddingRight=this.originalPaddingRight:this.telInput.style.paddingLeft=this.originalPaddingLeft);const p=this.telInput.parentNode;p?.parentNode?.insertBefore(this.telInput,p),p?.parentNode?.removeChild(p),delete N.instances[this.id]}getExtension(){return N.utils?N.utils.getExtension(this._getFullNumber(),this.selectedCountryData.iso2):""}getNumber(_){if(N.utils){const{iso2:k}=this.selectedCountryData;return N.utils.formatNumber(this._getFullNumber(),k,_)}return""}getNumberType(){return N.utils?N.utils.getNumberType(this._getFullNumber(),this.selectedCountryData.iso2):-99}getSelectedCountryData(){return this.selectedCountryData}getValidationError(){if(N.utils){const{iso2:_}=this.selectedCountryData;return N.utils.getValidationError(this._getFullNumber(),_)}return-99}isValidNumber(){if(!this.selectedCountryData.iso2)return!1;const _=this._getFullNumber(),k=_.search(new RegExp("\\p{L}","u"));if(k>-1){const j=_.substring(0,k),p=this._utilsIsPossibleNumber(j),q=this._utilsIsPossibleNumber(_);return p&&q}return this._utilsIsPossibleNumber(_)}_utilsIsPossibleNumber(_){return N.utils?N.utils.isPossibleNumber(_,this.selectedCountryData.iso2,this.options.validationNumberTypes):null}isValidNumberPrecise(){if(!this.selectedCountryData.iso2)return!1;const _=this._getFullNumber(),k=_.search(new RegExp("\\p{L}","u"));if(k>-1){const j=_.substring(0,k),p=this._utilsIsValidNumber(j),q=this._utilsIsValidNumber(_);return p&&q}return this._utilsIsValidNumber(_)}_utilsIsValidNumber(_){return N.utils?N.utils.isValidNumber(_,this.selectedCountryData.iso2,this.options.validationNumberTypes):null}setCountry(_){const k=_?.toLowerCase(),j=this.selectedCountryData.iso2;(_&&k!==j||!_&&j)&&(this._setCountry(k),this._updateDialCode(this.selectedCountryData.dialCode),this._triggerCountryChange())}setNumber(_){const k=this._updateCountryFromNumber(_);this._updateValFromNumber(_),k&&this._triggerCountryChange(),this._trigger("input",{isSetNumber:!0})}setPlaceholderNumberType(_){this.options.placeholderNumberType=_,this._updatePlaceholder()}setDisabled(_){this.telInput.disabled=_,_?this.selectedCountry.setAttribute("disabled","true"):this.selectedCountry.removeAttribute("disabled")}},S=_=>{if(!N.utils&&!N.startedLoadingUtilsScript){let k;if(typeof _=="function")try{k=Promise.resolve(_())}catch(j){return Promise.reject(j)}else return Promise.reject(new TypeError(`The argument passed to attachUtils must be a function that returns a promise for the utilities module, not ${typeof _}`));return N.startedLoadingUtilsScript=!0,k.then(j=>{const p=j?.default;if(!p||typeof p!="object")throw new TypeError("The loader function passed to attachUtils did not resolve to a module object with utils as its default export.");return N.utils=p,M("handleUtils"),!0}).catch(j=>{throw M("rejectUtilsScriptPromise",j),j})}return null},N=Object.assign((_,k)=>{const j=new L(_,k);return j._init(),_.setAttribute("data-intl-tel-input-id",j.id.toString()),N.instances[j.id]=j,_.iti=j,j},{defaults:c,documentReady:()=>document.readyState==="complete",getCountryData:()=>f,getInstance:_=>{const k=_.getAttribute("data-intl-tel-input-id");return k?N.instances[k]:null},instances:{},attachUtils:S,startedLoadingUtilsScript:!1,startedLoadingAutoCountry:!1,version:"25.4.2"}),G=N;return d(w)})();return v.default})}(mt)),mt.exports}var or=sr();const rr=tr(or),ar={name:"PhoneInput",props:{modelValue:{type:String,default:""},placeholder:{type:String,default:"Numéro de téléphone"},preferredCountries:{type:Array,default:()=>["ga","cm","ci","cg","cf","td","gq","bf","bj","tg","fr","ca"]},initialCountry:{type:String,default:"ga"}},data(){return{phoneNumber:this.modelValue,iti:null}},watch:{phoneNumber(h){this.$emit("update:modelValue",h)},modelValue(h){h!==this.phoneNumber&&(this.phoneNumber=h,this.iti&&this.$refs.phoneInput&&h&&this.iti.setNumber(h))}},mounted(){this.initializeIntlTelInput()},beforeUnmount(){this.iti&&this.iti.destroy()},methods:{initializeIntlTelInput(){const h=this.$refs.phoneInput;this.iti=rr(h,{preferredCountries:this.preferredCountries,initialCountry:this.initialCountry,separateDialCode:!0,customPlaceholder:(v,A)=>v}),h.addEventListener("input",v=>{this.phoneNumber=v.target.value,this.emitAllData()}),h.addEventListener("countrychange",()=>{this.emitAllData()}),setTimeout(()=>{this.modelValue&&this.iti.setNumber(this.modelValue),this.emitAllData()},100)},emitAllData(){if(this.iti&&this.iti.getSelectedCountryData)try{const h=this.iti.getSelectedCountryData(),v=this.phoneNumber||"";let A="";v.trim()&&(v.startsWith("+")?A=v:A=`+${h.dialCode}${v}`);const y=this.validatePhoneNumber(v,h);this.$emit("update:modelValue",A),console.log("PhoneInput emitting:",{number:v,fullNumber:A,countryCode:h.dialCode,countryIso2:h.iso2,isValid:y}),this.$emit("phone-change",{number:v,fullNumber:A,countryCode:h.dialCode,countryIso2:h.iso2,isValid:y})}catch(h){console.warn("PhoneInput: Error emitting data",h)}},emitPhoneData(){this.emitAllData()},validatePhoneNumber(h,v){if(!h||!h.trim())return!1;const y={ga:{min:7,max:8},cm:{min:8,max:9},ci:{min:8,max:10},fr:{min:9,max:10},ca:{min:10,max:10},cg:{min:8,max:9},cf:{min:8,max:8},td:{min:8,max:8},gq:{min:9,max:9},bf:{min:8,max:8},bj:{min:8,max:8},tg:{min:8,max:8}}[v.iso2]||{min:7,max:15},g=h.replace(/[^\d]/g,"");return g.length>=y.min&&g.length<=y.max},getNumber(){if(this.iti&&this.iti.getSelectedCountryData){const h=this.iti.getSelectedCountryData(),v=this.phoneNumber||"";if(v.trim())return v.startsWith("+")?v:`+${h.dialCode}${v}`}return""},isValidNumber(){if(this.iti&&this.iti.getSelectedCountryData){const h=this.iti.getSelectedCountryData();return this.validatePhoneNumber(this.phoneNumber,h)}return!1},setNumber(h){this.iti&&(this.iti.setNumber(h),this.phoneNumber=h,this.emitAllData())}}},ir={class:"phone-input-wrapper"},nr=["placeholder"];function lr(h,v,A,y,g,u){return t(),s("div",ir,[e("input",{ref:"phoneInput",type:"tel",class:"form-control",placeholder:A.placeholder},null,8,nr)])}const ut=Le(ar,[["render",lr],["__scopeId","data-v-118cdfc2"]]),dr={class:"min-h-screen bg-gradient-to-br from-koumbaya-primary/5 via-white to-koumbaya-primary/10 flex flex-col justify-center py-12 sm:px-6 lg:px-8"},cr={class:"sm:mx-auto sm:w-full sm:max-w-md"},ur={class:"flex justify-center mb-8"},mr=["src"],pr={class:"text-center text-sm text-gray-500"},gr={class:"mt-12 sm:mx-auto sm:w-full sm:max-w-md"},vr={class:"koumbaya-card bg-white/80 backdrop-blur-sm border-0 shadow-2xl"},xr={class:"koumbaya-card-body p-8"},fr={key:0,class:"mb-6 rounded-xl bg-gradient-to-r from-green-50 to-blue-50 border-2 border-green-200 p-4 shadow-lg"},br={class:"flex items-start"},hr={class:"ml-3 flex-1"},yr={class:"text-sm font-semibold text-green-800 mb-2"},_r={class:"text-sm text-green-700 leading-relaxed"},wr={key:0,class:"mt-2 text-xs text-green-600 bg-green-100 rounded-lg p-2"},$r={class:"space-y-1 list-disc list-inside ml-2"},kr={class:"flex justify-center space-x-2 p-1 bg-gray-100 rounded-lg mb-6"},Cr={key:0,class:"rounded-xl bg-gradient-to-r from-red-50 to-orange-50 border-2 border-red-200 p-4 shadow-lg"},jr={class:"flex items-start"},Ar={class:"flex-shrink-0"},Pr={class:"ml-3 flex-1"},Mr={class:"text-sm text-red-800 font-semibold leading-relaxed"},Dr={key:0,class:"mt-2 text-xs text-red-600 bg-red-100 rounded-lg p-2"},Ir={key:1,class:"mt-2 text-xs text-red-600 bg-red-100 rounded-lg p-2"},Tr={key:2,class:"mt-2 text-xs text-red-600 bg-red-100 rounded-lg p-2"},Lr={key:1,class:"koumbaya-form-group"},Er={for:"email",class:"block text-sm font-medium text-gray-700 mb-2"},Sr={class:"flex items-center"},Vr={key:0,class:"mt-2 text-sm text-red-600 flex items-center"},Fr={key:1,class:"mt-2 text-sm text-blue-600 flex items-center"},Rr={key:2,class:"koumbaya-form-group"},Nr={for:"phone",class:"block text-sm font-medium text-gray-700 mb-2"},qr={class:"flex items-center"},zr={key:0,class:"mt-2 text-sm text-red-600 flex items-center"},Ur={key:1,class:"mt-2 text-sm text-blue-600 flex items-center"},Br={class:"koumbaya-form-group"},Or={for:"password",class:"block text-sm font-medium text-gray-700 mb-2"},Hr={class:"flex items-center"},Gr={class:"relative"},Kr=["type"],Zr={key:0,class:"mt-2 text-sm text-red-600 flex items-center"},Wr={key:1,class:"mt-2 text-sm text-blue-600 flex items-center"},Jr={class:"flex items-center justify-between"},Xr={class:"flex items-center cursor-pointer group"},Yr={class:"pt-2"},Qr=["disabled"],ea={key:0,class:"absolute left-0 inset-y-0 flex items-center pl-4"},ta={class:"flex items-center justify-center"},sa={__name:"Login",setup(h){const v=$e(),A=qe(),y=ve(),g=le({email:"",phone:"",password:"",rememberMe:!1}),u=R("email"),P=R(null),i=R(!1),d=le({email:"",phone:"",password:"",general:""}),w=a=>{console.log("Login phone change:",a),i.value=a.isValid,g.phone=a.fullNumber,a.isValid&&a.fullNumber&&(d.phone="")},C=R(!1),T=R(!1),f=R(null),$=()=>{let a=!0;return Object.keys(d).forEach(r=>{d[r]=""}),u.value==="email"?g.email?g.email.includes("@")?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(g.email)?g.email.length>100&&(d.email="📏 L'adresse email est trop longue (max 100 caractères)",a=!1):(d.email="❌ Format d'email invalide (exemple: nom@domaine.com)",a=!1):(d.email="⚠️ L'adresse email doit contenir le symbole @",a=!1):(d.email="📧 L'adresse email est obligatoire",a=!1):!g.phone||g.phone.trim()===""?(d.phone="📱 Le numéro de téléphone est obligatoire",a=!1):!i.value&&g.phone.length>3&&(d.phone="❌ Format de téléphone invalide",a=!1),g.password?g.password.length<6?(d.password="📏 Le mot de passe doit contenir au moins 6 caractères",a=!1):g.password.length>50?(d.password="📏 Le mot de passe est trop long (max 50 caractères)",a=!1):g.password.includes(" ")&&(d.password="⚠️ Le mot de passe ne doit pas contenir d'espaces",a=!1):(d.password="🔒 Le mot de passe est obligatoire",a=!1),a},D=async a=>{if(a&&(a.preventDefault(),a.stopPropagation()),!!$()){C.value=!0,d.general="";try{const r={password:g.password};u.value==="email"?r.email=g.email:r.phone=g.phone;const F=await y.login(r);if(F.success){if(window.$toast){const x=y.user?.name||y.user?.first_name||"utilisateur";window.$toast.success(`🎉 Bienvenue ${x} ! Redirection en cours...`,"✅ Connexion réussie")}console.log("User data après connexion:",y.user);const n=A.query.redirect,c=A.query.action;setTimeout(()=>{if(n&&(c==="participate"||c==="wishlist")){const O=n.match(/\/products\/(\d+)/)?.[1];if(O){v.push({name:"customer.product.detail",params:{id:O}});return}}if(n){v.push(n);return}const x=y.getDefaultRedirect();console.log("Redirection logic:",{user:y.user,redirectTo:x,isAdmin:y.isAdmin,isMerchant:y.isMerchant,isCustomer:y.isCustomer}),v.push({name:x}).catch(O=>{console.error("Erreur de redirection vers",x,":",O),v.push({name:"customer.dashboard"}).catch(()=>{v.push("/")})})},100)}else{const n=F.error||"Erreur de connexion inconnue";n.toLowerCase().includes("identifiants incorrects")||n.toLowerCase().includes("invalid credentials")||n.includes("401")?(d.general="🚫 Identifiants incorrects. Vérifiez votre adresse email et votre mot de passe.",d.email="Adresse email ou mot de passe incorrect",d.password="Adresse email ou mot de passe incorrect"):n.toLowerCase().includes("trop de tentatives")||n.toLowerCase().includes("too many")||n.includes("429")?d.general="⏳ Trop de tentatives de connexion. Veuillez patienter 15 minutes avant de réessayer.":n.toLowerCase().includes("network")||n.toLowerCase().includes("réseau")||n.toLowerCase().includes("connexion")?d.general="🌐 Problème de connexion internet. Vérifiez votre connexion et réessayez.":n.toLowerCase().includes("email")&&n.toLowerCase().includes("verify")?d.general="📧 Votre compte n'est pas encore vérifié. Vérifiez votre boîte email et cliquez sur le lien de vérification.":n.toLowerCase().includes("blocked")||n.toLowerCase().includes("suspendu")?d.general="🔒 Votre compte est temporairement suspendu. Contactez le support client.":d.general=`❌ ${n}`,window.$toast&&window.$toast.error(d.general,"🚫 Erreur de connexion"),setTimeout(()=>{d.email,document.getElementById("email")?.focus()},100)}}catch(r){console.error("Erreur lors de la connexion:",r);let F="❌ Une erreur technique est survenue. Veuillez réessayer.";if(r.response?.status===401)F="🚫 Identifiants incorrects. Vérifiez votre adresse email et votre mot de passe.",d.email="Adresse email ou mot de passe incorrect",d.password="Adresse email ou mot de passe incorrect";else if(r.response?.status===422)if(r.response.data?.errors){const n=r.response.data.errors;n.email&&(d.email=n.email[0]),n.password&&(d.password=n.password[0]),F="⚠️ Veuillez corriger les erreurs ci-dessous."}else F="⚠️ Données invalides. Vérifiez vos informations.";else r.response?.status===429?F="⏳ Trop de tentatives de connexion. Veuillez patienter 15 minutes avant de réessayer.":r.response?.status===500?F="🔧 Erreur du serveur. Nos équipes sont notifiées. Veuillez réessayer dans quelques minutes.":r.response?.status===503?F="⚙️ Service temporairement indisponible. Maintenance en cours.":r.code==="NETWORK_ERROR"||!r.response?F="🌐 Impossible de joindre le serveur. Vérifiez votre connexion internet.":r.response?.data?.message?F=`❌ ${r.response.data.message}`:r.message&&(F=`❌ ${r.message}`);if(d.general=F,window.$toast){let n="🚫 Erreur de connexion";r.response?.status===500?n="🔧 Erreur serveur":r.code==="NETWORK_ERROR"&&(n="🌐 Problème réseau"),window.$toast.error(F,n)}setTimeout(()=>{d.email?document.getElementById("email")?.focus():d.password?document.getElementById("password")?.focus():document.getElementById("email")?.focus()},100)}finally{C.value=!1}}};Oe(()=>g.email,a=>{d.email&&a&&a.includes("@")&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)&&(d.email="")},{debounce:300}),Oe(()=>g.password,a=>{d.password&&a&&a.length>=6&&a.length<=50&&!a.includes(" ")&&(d.password="")},{debounce:300}),Oe([()=>g.email,()=>g.password],()=>{d.general&&(d.general="")});const E=()=>{f.value=null,sessionStorage.removeItem("registration_success")};return ne(()=>{if(A.query.registered==="true"){const a=sessionStorage.getItem("registration_success");if(a)try{f.value=JSON.parse(a),f.value.email&&(g.email=f.value.email)}catch(r){console.error("Erreur lors du parsing des données d'inscription:",r)}else A.query.email&&(g.email=A.query.email,f.value={email:A.query.email,first_name:"utilisateur",verification_message:"Un email de vérification a été envoyé à votre adresse. Veuillez consulter votre boîte email pour vérifier votre compte.",requires_verification:!0})}}),(a,r)=>{const F=me("router-link");return t(),s("div",dr,[e("div",cr,[e("div",ur,[e("img",{class:"h-20 w-auto",src:l(tt),alt:"Koumbaya"},null,8,mr)]),r[10]||(r[10]=e("h2",{class:"text-center text-4xl font-bold text-gray-900 mb-3"}," Content de vous revoir ! ",-1)),r[11]||(r[11]=e("p",{class:"text-center text-lg text-gray-600 mb-8"}," Connectez-vous pour accéder à vos tombolas ",-1)),e("p",pr,[r[9]||(r[9]=K(" Pas encore de compte ? ",-1)),b(F,{to:"/register",class:"font-semibold text-koumbaya-primary hover:text-koumbaya-primary-dark transition-colors ml-1"},{default:ee(()=>r[8]||(r[8]=[K(" Inscrivez-vous gratuitement → ",-1)])),_:1,__:[8]})])]),e("div",gr,[e("div",vr,[e("div",xr,[f.value?(t(),s("div",fr,[e("div",br,[r[17]||(r[17]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"w-6 h-6 text-green-500",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})])],-1)),e("div",hr,[e("div",yr," Inscription réussie ! Bienvenue "+o(f.value.first_name),1),e("div",_r,o(f.value.verification_message),1),f.value.email?(t(),s("div",wr,[r[15]||(r[15]=e("div",{class:"font-medium mb-1"},"📧 Que faire maintenant :",-1)),e("ul",$r,[e("li",null,[r[12]||(r[12]=K("Consultez votre boîte email : ",-1)),e("strong",null,o(f.value.email),1)]),r[13]||(r[13]=e("li",null,"Cliquez sur le lien de vérification dans l'email",-1)),r[14]||(r[14]=e("li",null,"Revenez ici pour vous connecter avec vos identifiants",-1))])])):B("",!0)]),e("button",{onClick:E,class:"flex-shrink-0 ml-2 text-green-400 hover:text-green-600 transition-colors",title:"Fermer ce message"},r[16]||(r[16]=[e("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)]))])])):B("",!0),e("form",{onSubmit:ge(D,["prevent"]),class:"space-y-6"},[e("div",kr,[e("button",{type:"button",onClick:r[0]||(r[0]=n=>u.value="email"),class:J(["flex-1 py-2 px-4 rounded-md text-sm font-medium transition-all duration-200",u.value==="email"?"bg-white text-koumbaya-primary shadow-sm":"text-gray-600 hover:text-gray-900"])},[b(l(Ze),{class:"w-4 h-4 inline-block mr-2"}),r[18]||(r[18]=K(" Email ",-1))],2),e("button",{type:"button",onClick:r[1]||(r[1]=n=>u.value="phone"),class:J(["flex-1 py-2 px-4 rounded-md text-sm font-medium transition-all duration-200",u.value==="phone"?"bg-white text-koumbaya-primary shadow-sm":"text-gray-600 hover:text-gray-900"])},[b(l(Fe),{class:"w-4 h-4 inline-block mr-2"}),r[19]||(r[19]=K(" Téléphone ",-1))],2)]),d.general?(t(),s("div",Cr,[e("div",jr,[e("div",Ar,[b(l(be),{class:"w-6 h-6 text-red-500 animate-pulse"})]),e("div",Pr,[e("div",Mr,o(d.general),1),d.general.includes("Identifiants incorrects")?(t(),s("div",Dr,r[20]||(r[20]=[e("div",{class:"font-medium mb-1"},"💡 Conseils :",-1),e("ul",{class:"space-y-1 list-disc list-inside ml-2"},[e("li",null,"Vérifiez que votre adresse email est correcte"),e("li",null,"Assurez-vous que les majuscules/minuscules sont respectées"),e("li",null,"Essayez de réinitialiser votre mot de passe si nécessaire")],-1)]))):d.general.includes("connexion internet")?(t(),s("div",Ir,r[21]||(r[21]=[e("div",{class:"font-medium mb-1"},"💡 Conseils :",-1),e("ul",{class:"space-y-1 list-disc list-inside ml-2"},[e("li",null,"Vérifiez votre connexion WiFi ou données mobiles"),e("li",null,"Essayez de rafraîchir la page"),e("li",null,"Contactez votre fournisseur internet si le problème persiste")],-1)]))):d.general.includes("Trop de tentatives")?(t(),s("div",Tr,r[22]||(r[22]=[e("div",{class:"font-medium mb-1"},"💡 Que faire :",-1),e("ul",{class:"space-y-1 list-disc list-inside ml-2"},[e("li",null,"Attendez 15 minutes avant de réessayer"),e("li",null,"Utilisez ce temps pour vérifier vos identifiants"),e("li",null,"Réinitialisez votre mot de passe si nécessaire")],-1)]))):B("",!0)]),e("button",{onClick:r[2]||(r[2]=n=>d.general=""),class:"flex-shrink-0 ml-2 text-red-400 hover:text-red-600 transition-colors",title:"Fermer ce message"},r[23]||(r[23]=[e("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)]))])])):B("",!0),u.value==="email"?(t(),s("div",Lr,[e("label",Er,[e("div",Sr,[b(l(Ze),{class:"w-4 h-4 mr-2 text-gray-500 flex-shrink-0"}),r[24]||(r[24]=e("span",null,"Adresse e-mail",-1))])]),Z(e("input",{id:"email",name:"email",type:"email","onUpdate:modelValue":r[3]||(r[3]=n=>g.email=n),required:"",class:J(["koumbaya-input bg-white/50 border-gray-200 focus:border-koumbaya-primary focus:ring-4 focus:ring-koumbaya-primary/10 rounded-xl transition-all duration-200",{"border-red-300 focus:border-red-500 focus:ring-red-500/10":d.email,"border-blue-300 focus:border-blue-500":!d.email&&g.email&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(g.email)}]),style:{color:"#5f5f5f"},placeholder:"exemple@koumbaya.com"},null,2),[[Q,g.email]]),d.email?(t(),s("p",Vr,[b(l(be),{class:"w-4 h-4 mr-1"}),K(" "+o(d.email),1)])):!d.email&&g.email&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(g.email)?(t(),s("p",Fr,r[25]||(r[25]=[e("svg",{class:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1),K(" ✓ Adresse email valide ",-1)]))):B("",!0)])):B("",!0),u.value==="phone"?(t(),s("div",Rr,[e("label",Nr,[e("div",qr,[b(l(Fe),{class:"w-4 h-4 mr-2 text-gray-500 flex-shrink-0"}),r[26]||(r[26]=e("span",null,"Numéro de téléphone",-1))])]),b(ut,{ref_key:"phoneInputRef",ref:P,modelValue:g.phone,"onUpdate:modelValue":r[4]||(r[4]=n=>g.phone=n),"preferred-countries":["ga","cm","ci","cg","cf","td","gq","bf","bj","tg","fr","ca"],"initial-country":"ga",onPhoneChange:w},null,8,["modelValue"]),d.phone?(t(),s("p",zr,[b(l(be),{class:"w-4 h-4 mr-1"}),K(" "+o(d.phone),1)])):i.value?(t(),s("p",Ur,r[27]||(r[27]=[e("svg",{class:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1),K(" ✓ Numéro de téléphone valide ",-1)]))):B("",!0)])):B("",!0),e("div",Br,[e("label",Or,[e("div",Hr,[b(l(Nt),{class:"w-4 h-4 mr-2 text-gray-500 flex-shrink-0"}),r[28]||(r[28]=e("span",null,"Mot de passe",-1))])]),e("div",Gr,[Z(e("input",{id:"password",name:"password",type:T.value?"text":"password","onUpdate:modelValue":r[5]||(r[5]=n=>g.password=n),required:"",class:J(["koumbaya-input bg-white/50 border-gray-200 focus:border-koumbaya-primary focus:ring-4 focus:ring-koumbaya-primary/10 rounded-xl transition-all duration-200 pr-12",{"border-red-300 focus:border-red-500 focus:ring-red-500/10":d.password,"border-blue-300 focus:border-blue-500":!d.password&&g.password&&g.password.length>=6}]),style:{color:"#5f5f5f"},placeholder:"••••••••"},null,10,Kr),[[Ge,g.password]]),e("button",{type:"button",onClick:r[6]||(r[6]=n=>T.value=!T.value),class:"absolute inset-y-0 right-0 pr-4 flex items-center hover:bg-gray-100 rounded-r-xl transition-colors"},[T.value?(t(),oe(l(We),{key:1,class:"h-5 w-5 text-gray-400 hover:text-gray-600"})):(t(),oe(l(je),{key:0,class:"h-5 w-5 text-gray-400 hover:text-gray-600"}))])]),d.password?(t(),s("p",Zr,[b(l(be),{class:"w-4 h-4 mr-1"}),K(" "+o(d.password),1)])):!d.password&&g.password&&g.password.length>=6?(t(),s("p",Wr,r[29]||(r[29]=[e("svg",{class:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1),K(" ✓ Mot de passe valide ",-1)]))):B("",!0)]),e("div",Jr,[e("label",Xr,[Z(e("input",{id:"remember-me",name:"remember-me",type:"checkbox","onUpdate:modelValue":r[7]||(r[7]=n=>g.rememberMe=n),class:"w-4 h-4 text-koumbaya-primary bg-white border-2 border-gray-300 rounded focus:ring-koumbaya-primary focus:ring-2 transition-colors"},null,512),[[Me,g.rememberMe]]),r[30]||(r[30]=e("span",{class:"ml-3 text-sm text-gray-700 group-hover:text-gray-900 transition-colors"}," Se souvenir de moi ",-1))]),b(F,{to:"/forgot-password",class:"text-sm font-semibold text-koumbaya-primary hover:text-koumbaya-primary-dark transition-colors"},{default:ee(()=>r[31]||(r[31]=[K(" Mot de passe oublié ? ",-1)])),_:1,__:[31]})]),e("div",Yr,[e("button",{type:"submit",disabled:C.value,class:"koumbaya-btn koumbaya-btn-primary koumbaya-btn-full koumbaya-btn-lg relative overflow-hidden group disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl transition-all duration-300"},[C.value?(t(),s("span",ea,r[32]||(r[32]=[e("div",{class:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"},null,-1)]))):B("",!0),e("span",ta,[C.value?B("",!0):(t(),oe(l(Ve),{key:0,class:"w-5 h-5 mr-2 group-hover:translate-x-1 transition-transform"})),K(" "+o(C.value?"Connexion en cours...":"Se connecter"),1)])],8,Qr)])],32),r[33]||(r[33]=se('<div class="my-8" data-v-70682c1e><div class="relative" data-v-70682c1e><div class="absolute inset-0 flex items-center" data-v-70682c1e><div class="w-full border-t border-gray-200" data-v-70682c1e></div></div><div class="relative flex justify-center text-sm" data-v-70682c1e><span class="px-4 bg-white text-gray-500 font-medium" data-v-70682c1e>Ou continuez avec</span></div></div></div><div class="grid grid-cols-2 gap-4" data-v-70682c1e><button class="flex items-center justify-center px-4 py-3 border border-gray-200 rounded-xl shadow-sm bg-white hover:bg-gray-50 hover:border-gray-300 transition-all duration-200 group" data-v-70682c1e><svg class="w-5 h-5 text-gray-600 group-hover:text-gray-700" viewBox="0 0 24 24" data-v-70682c1e><path fill="currentColor" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" data-v-70682c1e></path><path fill="currentColor" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" data-v-70682c1e></path><path fill="currentColor" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" data-v-70682c1e></path><path fill="currentColor" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" data-v-70682c1e></path></svg><span class="ml-2 text-sm font-medium text-gray-700" data-v-70682c1e>Google</span></button><button class="flex items-center justify-center px-4 py-3 border border-gray-200 rounded-xl shadow-sm bg-white hover:bg-gray-50 hover:border-gray-300 transition-all duration-200 group" data-v-70682c1e><svg class="w-5 h-5 text-gray-600 group-hover:text-gray-700" fill="currentColor" viewBox="0 0 24 24" data-v-70682c1e><path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z" data-v-70682c1e></path></svg><span class="ml-2 text-sm font-medium text-gray-700" data-v-70682c1e>Twitter</span></button></div>',2))])])])])}}},oa=Le(sa,[["__scopeId","data-v-70682c1e"]]),rt={async loginWithFacebook(){try{const v=await de().get("/auth/facebook");v.redirect_url&&(window.location.href=v.redirect_url)}catch(h){throw console.error("Facebook login error:",h),new Error("Erreur lors de la connexion avec Facebook")}},async loginWithGoogle(){try{const v=await de().get("/auth/google");v.redirect_url&&(window.location.href=v.redirect_url)}catch(h){throw console.error("Google login error:",h),new Error("Erreur lors de la connexion avec Google")}},async loginWithApple(){try{const v=await de().get("/auth/apple");v.redirect_url&&(window.location.href=v.redirect_url)}catch(h){throw console.error("Apple login error:",h),new Error("Erreur lors de la connexion avec Apple")}},async handleSocialCallback(h,v){try{const y=await de().get(`/auth/${h}/callback`,{params:v});if(y.access_token){const g=ve();return g.setUser(y.user),g.setToken(y.access_token),{success:!0,user:y.user,message:y.message}}else throw new Error("Réponse invalide du serveur")}catch(A){return console.error("Social callback error:",A),{success:!1,message:A.response?.data?.message||"Erreur lors de l'authentification"}}},async openSocialLoginPopup(h){return new Promise((v,A)=>{try{const y=window.open(`/api/auth/${h}`,"socialLogin","width=600,height=700,scrollbars=yes,resizable=yes"),g=setInterval(()=>{y.closed&&(clearInterval(g),rt.checkAuthenticationStatus().then(v).catch(A))},1e3);setTimeout(()=>{clearInterval(g),y.closed||y.close(),A(new Error("Timeout lors de l'authentification"))},3e5)}catch(y){A(y)}})},async checkAuthenticationStatus(){try{const v=await de().get("/auth/me");return v.user?(ve().setUser(v.user),{success:!0,user:v.user}):{success:!1}}catch{return{success:!1}}}},ra={class:"min-h-screen bg-white flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8"},aa={class:"max-w-4xl w-full"},ia={class:"bg-white rounded-3xl shadow-2xl border border-gray-100 overflow-hidden"},na={class:"grid grid-cols-1 lg:grid-cols-2"},la={class:"p-8 lg:p-12"},da={class:"max-w-md mx-auto"},ca={class:"text-gray-600 mb-8"},ua={class:"mb-6"},ma={class:"grid grid-cols-2 gap-3"},pa={class:"flex items-center"},ga={key:0,class:"w-full h-full rounded-full bg-white scale-50"},va={class:"flex items-center"},xa={key:0,class:"w-full h-full rounded-full bg-white scale-50"},fa={key:0,class:"transition-all duration-300"},ba={key:0,class:"mt-2 text-sm text-red-600"},ha={class:"grid grid-cols-2 gap-4"},ya={key:0,class:"mt-1 text-sm text-red-600"},_a={key:0,class:"mt-1 text-sm text-red-600"},wa={key:0,class:"mt-1 text-sm text-red-600"},$a={key:0,class:"mt-1 text-sm text-red-600"},ka={class:"relative"},Ca=["disabled"],ja=["value"],Aa={key:0,class:"mt-1 text-sm text-red-600"},Pa={key:1,class:"mt-1 text-sm text-gray-500"},Ma={key:1,class:"grid grid-cols-2 gap-4 transition-all duration-300"},Da=["required"],Ia={key:0,class:"mt-1 text-sm text-red-600"},Ta={key:0,class:"mt-1 text-sm text-red-600"},La={class:"grid grid-cols-2 gap-4"},Ea={class:"relative"},Sa=["type"],Va={key:0,class:"mt-1 text-sm text-red-600"},Fa={class:"relative"},Ra=["type"],Na={key:0,class:"mt-1 text-sm text-red-600"},qa={class:"flex items-start space-x-3"},za={class:"flex items-center h-6"},Ua={key:2,class:"text-sm text-red-600"},Ba={key:3,class:"rounded-xl bg-red-50 p-4 border border-red-200"},Oa={class:"flex"},Ha={class:"ml-3"},Ga={class:"mt-1 text-sm text-red-700"},Ka=["disabled"],Za={key:0,class:"flex items-center space-x-2"},Wa={key:1},Ja="/logo_white.png",Xa={__name:"Register",setup(h){const v=$e(),A=ve(),{get:y}=de(),g=R(!1),u=R(!1),P=R([]),i=R(!1),d=R(!1);R("GA");const w=le({account_type:"personal",business_name:"",first_name:"",last_name:"",email:"",phone:"",city:"",address:"",country_id:"",password:"",password_confirmation:"",terms:!1}),C=le({account_type:"",business_name:"",first_name:"",last_name:"",email:"",phone:"",city:"",address:"",country_id:"",password:"",password_confirmation:"",terms:""}),T=()=>{Object.keys(C).forEach(n=>{C[n]=""});let F=!0;return w.account_type==="business"&&!w.business_name.trim()&&(C.business_name="Le nom de l'entreprise est requis pour un compte business",F=!1),w.first_name.trim()||(C.first_name="Le prénom est requis",F=!1),w.last_name.trim()||(C.last_name="Le nom est requis",F=!1),w.email?/\S+@\S+\.\S+/.test(w.email)||(C.email="Format d'email invalide",F=!1):(C.email="L'email est requis",F=!1),!w.phone||w.phone.trim()===""?(C.phone="Le numéro de téléphone est requis",F=!1):!d.value&&w.phone.length>3&&(C.phone="Format de téléphone invalide",F=!1),w.account_type==="business"&&!w.city.trim()&&(C.city="La ville est requise pour un compte business",F=!1),w.country_id||(C.country_id="Le pays est requis",F=!1),w.password?w.password.length<8&&(C.password="Le mot de passe doit contenir au moins 8 caractères",F=!1):(C.password="Le mot de passe est requis",F=!1),w.password!==w.password_confirmation&&(C.password_confirmation="Les mots de passe ne correspondent pas",F=!1),w.terms||(C.terms="Vous devez accepter les conditions d'utilisation",F=!1),F},f=F=>{console.log("Phone change:",F),d.value=F.isValid,w.phone=F.fullNumber,F.isValid&&F.fullNumber&&(C.phone="")},$=async()=>{if(!T())return;A.clearError();const F={account_type:w.account_type,first_name:w.first_name.trim(),last_name:w.last_name.trim(),email:w.email.trim(),phone:w.phone.trim(),country_id:parseInt(w.country_id),password:w.password,password_confirmation:w.password_confirmation,can_sell:w.account_type==="business",can_buy:!0};w.account_type==="business"&&(F.city=w.city.trim(),F.address=w.address.trim()||null),w.account_type==="business"&&w.business_name.trim()&&(F.business_name=w.business_name.trim());const n=await A.register(F);if(n.success){console.log("Inscription réussie, données utilisateur:",A.user),A.logout();const c=w.account_type==="business"?"marchand":"client",x=n.verification_type==="email_link"?`Un email de vérification a été envoyé à ${n.verification_sent_to}. Veuillez cliquer sur le lien dans votre email, puis vous connecter ci-dessous.`:`Un code de vérification a été envoyé à ${n.verification_sent_to}. Veuillez vérifier votre compte, puis vous connecter ci-dessous.`;sessionStorage.setItem("registration_success",JSON.stringify({email:w.email.trim(),first_name:n.user?.first_name||w.first_name,account_type:c,verification_message:x,requires_verification:n.requires_verification||!1})),console.log("Redirection vers la page de connexion après inscription"),v.push({name:"login",query:{registered:"true",email:w.email.trim()}})}else if(console.error("Erreur lors de l'inscription:",n),window.$toast){const c=n.message||"Une erreur est survenue lors de l'inscription";window.$toast.error(c,"Erreur d'inscription")}},D=async()=>{try{A.clearError(),await rt.loginWithFacebook()}catch(F){A.setError(F.message||"Erreur lors de la connexion avec Facebook")}},E=async()=>{try{A.clearError(),await rt.loginWithGoogle()}catch(F){A.setError(F.message||"Erreur lors de la connexion avec Google")}},a=async()=>{try{A.clearError(),await rt.loginWithApple()}catch(F){A.setError(F.message||"Erreur lors de la connexion avec Apple")}},r=async()=>{try{i.value=!0;const F=await y("/countries");P.value=F.countries||[];const n=P.value.find(c=>c.name==="Gabon");n&&!w.country_id&&(w.country_id=n.id)}catch(F){console.error("Erreur lors du chargement des pays:",F)}finally{i.value=!1}};return ne(()=>{r()}),(F,n)=>{const c=me("router-link");return t(),s("div",ra,[e("div",aa,[e("div",ia,[e("div",na,[e("div",{class:"bg-gradient-to-br from-[#0099cc] to-[#0088bb] p-8 lg:p-12 flex flex-col justify-center relative overflow-hidden"},[n[16]||(n[16]=e("div",{class:"absolute inset-0 opacity-10"},[e("div",{class:"absolute -top-10 -right-10 w-40 h-40 bg-white rounded-full"}),e("div",{class:"absolute -bottom-16 -left-16 w-60 h-60 bg-white rounded-full"})],-1)),e("div",{class:"relative z-10"},[e("div",{class:"flex items-center mb-8"},[e("img",{src:Ja,alt:"Logo Koumbaya",class:"h-16 w-auto mr-4"})]),n[15]||(n[15]=se('<h2 class="text-4xl lg:text-5xl font-bold text-white mb-6"> Rejoignez notre marketplace ! </h2><p class="text-blue-100 text-lg leading-relaxed mb-8"> Créez votre compte hybride et profitez d&#39;une expérience unique : <strong class="text-white">achetez malin</strong> et <strong class="text-white">vendez facilement</strong> sur la même plateforme. </p><div class="space-y-4"><div class="flex items-center text-blue-100"><div class="w-6 h-6 bg-white/20 rounded-full flex items-center justify-center mr-3"><span class="text-white text-sm">✓</span></div><span>Compte hybride acheteur-vendeur</span></div><div class="flex items-center text-blue-100"><div class="w-6 h-6 bg-white/20 rounded-full flex items-center justify-center mr-3"><span class="text-white text-sm">✓</span></div><span>Produits authentiques à prix réduits</span></div><div class="flex items-center text-blue-100"><div class="w-6 h-6 bg-white/20 rounded-full flex items-center justify-center mr-3"><span class="text-white text-sm">✓</span></div><span>Système de notation communautaire</span></div></div>',3))])]),e("div",la,[e("div",da,[n[40]||(n[40]=e("h3",{class:"text-3xl font-bold text-gray-900 mb-2"},"Créer un compte",-1)),e("p",ca,[n[18]||(n[18]=K(" Déjà membre ? ",-1)),b(c,{to:"/login",class:"text-[#0099cc] hover:text-[#0088bb] font-semibold"},{default:ee(()=>n[17]||(n[17]=[K(" Se connecter ",-1)])),_:1,__:[17]})]),e("div",{class:"space-y-3 mb-8"},[e("button",{onClick:D,class:"w-full flex items-center justify-center px-4 py-3 border border-gray-200 rounded-xl text-gray-700 bg-white hover:bg-gray-50 transition-colors duration-200 group"},n[19]||(n[19]=[e("svg",{class:"w-5 h-5 mr-3",viewBox:"0 0 24 24",fill:"#1877F2"},[e("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})],-1),K(" Continuer avec Facebook ",-1)])),e("button",{onClick:E,class:"w-full flex items-center justify-center px-4 py-3 border border-gray-200 rounded-xl text-gray-700 bg-white hover:bg-gray-50 transition-colors duration-200 group"},n[20]||(n[20]=[se('<svg class="w-5 h-5 mr-3" viewBox="0 0 24 24"><path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"></path><path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"></path><path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"></path><path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"></path></svg> Continuer avec Google ',2)])),e("button",{onClick:a,class:"w-full flex items-center justify-center px-4 py-3 border border-gray-200 rounded-xl text-gray-700 bg-white hover:bg-gray-50 transition-colors duration-200 group"},n[21]||(n[21]=[e("svg",{class:"w-5 h-5 mr-3",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M12.017 0C8.396 0 8.025.044 8.025 2.551c0 1.983 1.396 3.329 3.396 3.329 3.329 0 3.329-2.551 3.329-2.551S14.75.044 12.017 0zm2.076 24c-1.825 0-2.631-1.078-4.076-1.078-1.513 0-2.513 1.078-4.025 1.078C3.759 24 0 18.444 0 12.861c0-5.516 3.759-9.861 8.944-9.861 1.825 0 2.631 1.078 4.076 1.078 1.513 0 2.513-1.078 4.025-1.078C19.278 3 24 7.861 24 12.861 24 18.444 19.278 24 14.093 24z"})],-1),K(" Continuer avec Apple ",-1)]))]),n[41]||(n[41]=se('<div class="relative my-8"><div class="absolute inset-0 flex items-center"><div class="w-full border-t border-gray-200"></div></div><div class="relative flex justify-center text-sm"><span class="px-4 bg-white text-gray-500">ou créer avec email</span></div></div>',1)),e("div",ua,[n[24]||(n[24]=e("label",{class:"block text-sm font-semibold text-gray-900 mb-3"},"Type de compte",-1)),e("div",ma,[e("div",{onClick:n[0]||(n[0]=x=>w.account_type="personal"),class:J(["relative cursor-pointer p-4 border-2 rounded-xl transition-all duration-200 hover:border-[#0099cc]/50",w.account_type==="personal"?"border-[#0099cc] bg-[#0099cc]/5":"border-gray-200"])},[e("div",pa,[e("div",{class:J(["w-4 h-4 rounded-full border-2 mr-3 transition-colors",w.account_type==="personal"?"border-[#0099cc] bg-[#0099cc]":"border-gray-300"])},[w.account_type==="personal"?(t(),s("div",ga)):B("",!0)],2),n[22]||(n[22]=e("div",null,[e("h4",{class:"font-semibold text-gray-900"},"Personnel"),e("p",{class:"text-xs text-gray-600"},"Acheteur particulier")],-1))])],2),e("div",{onClick:n[1]||(n[1]=x=>w.account_type="business"),class:J(["relative cursor-pointer p-4 border-2 rounded-xl transition-all duration-200 hover:border-[#0099cc]/50",w.account_type==="business"?"border-[#0099cc] bg-[#0099cc]/5":"border-gray-200"])},[e("div",va,[e("div",{class:J(["w-4 h-4 rounded-full border-2 mr-3 transition-colors",w.account_type==="business"?"border-[#0099cc] bg-[#0099cc]":"border-gray-300"])},[w.account_type==="business"?(t(),s("div",xa)):B("",!0)],2),n[23]||(n[23]=e("div",null,[e("h4",{class:"font-semibold text-gray-900"},"Business"),e("p",{class:"text-xs text-gray-600"},"Vendeur professionnel")],-1))])],2)])]),e("form",{onSubmit:ge($,["prevent"]),class:"space-y-5"},[w.account_type==="business"?(t(),s("div",fa,[n[25]||(n[25]=e("label",{for:"business_name",class:"block text-sm font-semibold text-gray-900 mb-2"}," Nom de l'entreprise * ",-1)),Z(e("input",{id:"business_name","onUpdate:modelValue":n[2]||(n[2]=x=>w.business_name=x),type:"text",required:"",class:J(["w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#0099cc] focus:border-transparent transition-all",{"border-red-300 bg-red-50":C.business_name}]),style:{color:"#5f5f5f"},placeholder:"Ma Super Entreprise"},null,2),[[Q,w.business_name]]),C.business_name?(t(),s("p",ba,o(C.business_name),1)):B("",!0)])):B("",!0),e("div",ha,[e("div",null,[n[26]||(n[26]=e("label",{for:"first_name",class:"block text-sm font-semibold text-gray-900 mb-2"}," Prénom * ",-1)),Z(e("input",{id:"first_name","onUpdate:modelValue":n[3]||(n[3]=x=>w.first_name=x),type:"text",required:"",class:J(["w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#0099cc] focus:border-transparent transition-all",{"border-red-300 bg-red-50":C.first_name}]),style:{color:"#5f5f5f"},placeholder:"Jean"},null,2),[[Q,w.first_name]]),C.first_name?(t(),s("p",ya,o(C.first_name),1)):B("",!0)]),e("div",null,[n[27]||(n[27]=e("label",{for:"last_name",class:"block text-sm font-semibold text-gray-900 mb-2"}," Nom * ",-1)),Z(e("input",{id:"last_name","onUpdate:modelValue":n[4]||(n[4]=x=>w.last_name=x),type:"text",required:"",class:J(["w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#0099cc] focus:border-transparent transition-all",{"border-red-300 bg-red-50":C.last_name}]),style:{color:"#5f5f5f"},placeholder:"Dupont"},null,2),[[Q,w.last_name]]),C.last_name?(t(),s("p",_a,o(C.last_name),1)):B("",!0)])]),e("div",null,[n[28]||(n[28]=e("label",{for:"email",class:"block text-sm font-semibold text-gray-900 mb-2"}," Adresse email * ",-1)),Z(e("input",{id:"email","onUpdate:modelValue":n[5]||(n[5]=x=>w.email=x),type:"email",required:"",class:J(["w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#0099cc] focus:border-transparent transition-all",{"border-red-300 bg-red-50":C.email}]),style:{color:"#5f5f5f"},placeholder:"jean@exemple.com"},null,2),[[Q,w.email]]),C.email?(t(),s("p",wa,o(C.email),1)):B("",!0)]),e("div",null,[n[29]||(n[29]=e("label",{for:"phone",class:"block text-sm font-semibold text-gray-900 mb-2"}," Numéro de téléphone * ",-1)),b(ut,{ref:"phoneInputRef",modelValue:w.phone,"onUpdate:modelValue":n[6]||(n[6]=x=>w.phone=x),"preferred-countries":["ga","cm","ci","cg","cf","td","gq","bf","bj","tg","fr","ca"],"initial-country":"ga",onPhoneChange:f},null,8,["modelValue"]),C.phone?(t(),s("p",$a,o(C.phone),1)):B("",!0)]),e("div",null,[n[32]||(n[32]=e("label",{for:"country",class:"block text-sm font-semibold text-gray-900 mb-2"}," Pays * ",-1)),e("div",ka,[Z(e("select",{id:"country","onUpdate:modelValue":n[7]||(n[7]=x=>w.country_id=x),required:"",class:J(["w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#0099cc] focus:border-transparent transition-all appearance-none bg-white",{"border-red-300 bg-red-50":C.country_id}]),style:{color:"#5f5f5f"},disabled:i.value},[n[30]||(n[30]=e("option",{value:"",disabled:""},"Sélectionnez votre pays",-1)),(t(!0),s(X,null,Y(P.value,x=>(t(),s("option",{key:x.id,value:x.id},o(x.name),9,ja))),128))],10,Ca),[[re,w.country_id]]),n[31]||(n[31]=e("div",{class:"absolute inset-y-0 right-0 flex items-center pr-4 pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1))]),C.country_id?(t(),s("p",Aa,o(C.country_id),1)):B("",!0),i.value?(t(),s("p",Pa,"Chargement des pays...")):B("",!0)]),w.account_type=="business"?(t(),s("div",Ma,[e("div",null,[n[33]||(n[33]=e("label",{for:"city",class:"block text-sm font-semibold text-gray-900 mb-2"}," Ville * ",-1)),Z(e("input",{id:"city","onUpdate:modelValue":n[8]||(n[8]=x=>w.city=x),type:"text",required:w.account_type==="business",class:J(["w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#0099cc] focus:border-transparent transition-all",{"border-red-300 bg-red-50":C.city}]),style:{color:"#5f5f5f"},placeholder:"Libreville"},null,10,Da),[[Q,w.city]]),C.city?(t(),s("p",Ia,o(C.city),1)):B("",!0)]),e("div",null,[n[34]||(n[34]=e("label",{for:"address",class:"block text-sm font-semibold text-gray-900 mb-2"}," Adresse ",-1)),Z(e("input",{id:"address","onUpdate:modelValue":n[9]||(n[9]=x=>w.address=x),type:"text",class:J(["w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#0099cc] focus:border-transparent transition-all",{"border-red-300 bg-red-50":C.address}]),style:{color:"#5f5f5f"},placeholder:"123 Rue Example"},null,2),[[Q,w.address]]),C.address?(t(),s("p",Ta,o(C.address),1)):B("",!0)])])):B("",!0),e("div",La,[e("div",null,[n[35]||(n[35]=e("label",{for:"password",class:"block text-sm font-semibold text-gray-900 mb-2"}," Mot de passe * ",-1)),e("div",Ea,[Z(e("input",{id:"password","onUpdate:modelValue":n[10]||(n[10]=x=>w.password=x),type:g.value?"text":"password",required:"",class:J(["w-full px-4 py-3 pr-12 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#0099cc] focus:border-transparent transition-all",{"border-red-300 bg-red-50":C.password}]),style:{color:"#5f5f5f"},placeholder:"••••••••"},null,10,Sa),[[Ge,w.password]]),e("button",{type:"button",onClick:n[11]||(n[11]=x=>g.value=!g.value),class:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600"},[g.value?(t(),oe(l(We),{key:1,class:"h-5 w-5"})):(t(),oe(l(je),{key:0,class:"h-5 w-5"}))])]),C.password?(t(),s("p",Va,o(C.password),1)):B("",!0)]),e("div",null,[n[36]||(n[36]=e("label",{for:"password_confirmation",class:"block text-sm font-semibold text-gray-900 mb-2"}," Confirmer * ",-1)),e("div",Fa,[Z(e("input",{id:"password_confirmation","onUpdate:modelValue":n[12]||(n[12]=x=>w.password_confirmation=x),type:u.value?"text":"password",required:"",class:J(["w-full px-4 py-3 pr-12 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#0099cc] focus:border-transparent transition-all",{"border-red-300 bg-red-50":C.password_confirmation}]),style:{color:"#5f5f5f"},placeholder:"••••••••"},null,10,Ra),[[Ge,w.password_confirmation]]),e("button",{type:"button",onClick:n[13]||(n[13]=x=>u.value=!u.value),class:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600"},[u.value?(t(),oe(l(We),{key:1,class:"h-5 w-5"})):(t(),oe(l(je),{key:0,class:"h-5 w-5"}))])]),C.password_confirmation?(t(),s("p",Na,o(C.password_confirmation),1)):B("",!0)])]),e("div",qa,[e("div",za,[Z(e("input",{id:"terms","onUpdate:modelValue":n[14]||(n[14]=x=>w.terms=x),type:"checkbox",class:J(["h-4 w-4 text-[#0099cc] focus:ring-[#0099cc] border-gray-300 rounded",{"border-red-500":C.terms}])},null,2),[[Me,w.terms]])]),n[37]||(n[37]=e("label",{for:"terms",class:"text-sm text-gray-600 leading-6"},[K(" J'accepte les "),e("a",{href:"#",class:"text-[#0099cc] hover:text-[#0088bb] font-semibold"},"conditions d'utilisation"),K(" et la "),e("a",{href:"#",class:"text-[#0099cc] hover:text-[#0088bb] font-semibold"},"politique de confidentialité")],-1))]),C.terms?(t(),s("p",Ua,o(C.terms),1)):B("",!0),l(A).error?(t(),s("div",Ba,[e("div",Oa,[b(l(ze),{class:"h-5 w-5 text-red-400 mt-0.5"}),e("div",Ha,[n[38]||(n[38]=e("h3",{class:"text-sm font-semibold text-red-800"}," Erreur d'inscription ",-1)),e("div",Ga,o(l(A).error),1)])])])):B("",!0),e("button",{type:"submit",disabled:l(A).loading,class:"w-full bg-[#0099cc] hover:bg-[#0088bb] disabled:opacity-50 disabled:cursor-not-allowed text-white font-semibold py-4 px-6 rounded-xl transition-all duration-200 hover:scale-[1.02] shadow-lg hover:shadow-xl flex items-center justify-center space-x-2"},[l(A).loading?(t(),s("span",Za,n[39]||(n[39]=[e("div",{class:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"},null,-1),e("span",null,"Création en cours...",-1)]))):(t(),s("span",Wa,"Créer mon compte Koumbaya"))],8,Ka)],32)])])])])])])}}},Ya={class:"min-h-screen bg-white flex items-center justify-center py-12 px-4"},Qa={class:"max-w-md w-full bg-white rounded-3xl shadow-2xl border border-gray-100 p-8"},ei={class:"text-center mb-8"},ti=["src"],si={key:0,class:"text-center"},oi={key:1,class:"text-center"},ri={class:"text-2xl font-bold text-[#0099cc] mb-2"},ai={class:"text-gray-600 mb-6"},ii={class:"space-y-3"},ni={key:2,class:"text-center"},li={class:"text-gray-600 mb-6"},di={class:"space-y-3"},ci={__name:"VerifyEmail",setup(h){const v=qe(),A=$e(),y=ve(),{get:g}=de(),u=R(!0),P=R(null),i=R(""),d=async()=>{try{const C=v.query.token;if(!C)throw new Error("Token de vérification manquant");const T=await g(`/auth/verify-email/${encodeURIComponent(C)}`);if(T.success)P.value=T,y.isAuthenticated&&await y.refreshUser();else throw new Error(T.message||"Erreur de vérification")}catch(C){console.error("Erreur lors de la vérification:",C),P.value={success:!1},i.value=C.response?.data?.message||C.message||"Une erreur est survenue lors de la vérification"}finally{u.value=!1}},w=()=>{if(y.isAuthenticated){const C=y.getDefaultRedirect();A.push({name:C}).catch(()=>{A.push("/dashboard")})}else A.push("/login")};return ne(()=>{d()}),(C,T)=>(t(),s("div",Ya,[e("div",Qa,[e("div",ei,[e("img",{src:l(tt),alt:"Logo Koumbaya",class:"h-16 w-auto mx-auto mb-4"},null,8,ti)]),u.value?(t(),s("div",si,T[3]||(T[3]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-4 border-[#0099cc] border-t-transparent mx-auto mb-4"},null,-1),e("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Vérification en cours...",-1),e("p",{class:"text-gray-600"},"Nous vérifions votre lien de vérification.",-1)]))):P.value?.success?(t(),s("div",oi,[T[4]||(T[4]=e("div",{class:"w-16 h-16 bg-[#0099cc]/10 rounded-full flex items-center justify-center mx-auto mb-4"},[e("svg",{class:"w-8 h-8 text-[#0099cc]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])],-1)),e("h2",ri,o(P.value.already_verified?"Déjà vérifié !":"Compte vérifié !"),1),e("p",ai,o(P.value.message),1),e("div",ii,[e("button",{onClick:w,class:"w-full bg-[#0099cc] hover:bg-[#0088bb] text-white font-semibold py-3 px-6 rounded-xl transition-all duration-200 hover:scale-[1.02] shadow-lg hover:shadow-xl"}," Accéder à mon compte "),e("button",{onClick:T[0]||(T[0]=f=>C.$router.push("/")),class:"w-full border-2 border-gray-200 hover:border-gray-300 text-gray-700 font-semibold py-3 px-6 rounded-xl transition-all duration-200"}," Retour à l'accueil ")])])):(t(),s("div",ni,[T[5]||(T[5]=e("div",{class:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4"},[e("svg",{class:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})])],-1)),T[6]||(T[6]=e("h2",{class:"text-2xl font-bold text-red-600 mb-2"},"Vérification échouée",-1)),e("p",li,o(i.value),1),e("div",di,[e("button",{onClick:T[1]||(T[1]=f=>C.$router.push("/register")),class:"w-full bg-[#0099cc] hover:bg-[#0088bb] text-white font-semibold py-3 px-6 rounded-xl transition-all duration-200"}," Créer un nouveau compte "),e("button",{onClick:T[2]||(T[2]=f=>C.$router.push("/login")),class:"w-full border-2 border-gray-200 hover:border-gray-300 text-gray-700 font-semibold py-3 px-6 rounded-xl transition-all duration-200"}," Se connecter ")])])),T[7]||(T[7]=se('<div class="mt-8 p-4 bg-blue-50 rounded-xl border border-blue-200"><div class="flex items-start"><svg class="w-5 h-5 text-blue-600 mt-0.5 mr-3 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><div><h4 class="text-sm font-semibold text-blue-900">Pourquoi vérifier mon compte ?</h4><p class="text-sm text-blue-700 mt-1"> La vérification de votre compte est nécessaire pour pouvoir acheter des produits et participer aux tombolas sur Koumbaya. </p></div></div></div>',1))])]))}},ui={class:"min-h-screen bg-white flex flex-col justify-center py-12 sm:px-6 lg:px-8"},mi={class:"sm:mx-auto sm:w-full sm:max-w-md"},pi={class:"flex justify-center mb-8"},gi=["src"],vi={class:"mt-12 sm:mx-auto sm:w-full sm:max-w-md"},xi={class:"koumbaya-card bg-white/80 backdrop-blur-sm border-0 shadow-2xl"},fi={class:"koumbaya-card-body p-8"},bi={class:"flex justify-center space-x-2 p-1 bg-gray-100 rounded-lg mb-6"},hi={key:0,class:"koumbaya-form-group"},yi={for:"email",class:"block text-sm font-medium text-gray-700 mb-2"},_i={class:"flex items-center"},wi={key:0,class:"mt-2 text-sm text-red-600 flex items-center"},$i={key:1,class:"koumbaya-form-group"},ki={for:"phone",class:"block text-sm font-medium text-gray-700 mb-2"},Ci={class:"flex items-center"},ji={key:0,class:"mt-2 text-sm text-red-600 flex items-center"},Ai={key:2,class:"rounded-xl bg-red-50 p-4 border border-red-200"},Pi={class:"flex"},Mi={class:"ml-3"},Di={class:"mt-1 text-sm text-red-700"},Ii={key:3,class:"rounded-xl bg-green-50 p-4 border border-green-200"},Ti={class:"flex"},Li={class:"ml-3"},Ei={class:"mt-1 text-sm text-green-700"},Si=["disabled"],Vi={key:0,class:"flex items-center space-x-2"},Fi={key:1},Ri={class:"text-center"},Ni={__name:"ForgotPassword",setup(h){const v=$e(),{post:A}=de(),y=R("email"),g=R(!1),u=R(!1),P=R(!1),i=le({email:"",phone:""}),d=le({email:"",phone:"",general:""}),w=f=>{g.value=f.isValid,i.phone=f.fullNumber,f.isValid&&(d.phone="")},C=()=>{Object.keys(d).forEach($=>{d[$]=""});let f=!0;return y.value==="email"?i.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.email)||(d.email="Format d'email invalide",f=!1):(d.email="L'adresse email est obligatoire",f=!1):i.phone?g.value||(d.phone="Format de téléphone invalide",f=!1):(d.phone="Le numéro de téléphone est obligatoire",f=!1),f},T=async()=>{if(C()){u.value=!0,d.general="",P.value=!1;try{const f=y.value==="email"?i.email:i.phone,$=await A("/otp/send",{identifier:f,type:y.value==="email"?"email":"sms",purpose:"password_reset"});$.success?(P.value=!0,setTimeout(()=>{v.push({name:"reset-password-verify",query:{identifier:f,method:y.value}})},2e3)):d.general=$.message||"Une erreur est survenue"}catch(f){console.error("Erreur lors de l'envoi du code:",f),d.general="Une erreur est survenue lors de l'envoi du code"}finally{u.value=!1}}};return(f,$)=>{const D=me("router-link");return t(),s("div",ui,[e("div",mi,[e("div",pi,[e("img",{class:"h-20 w-auto",src:l(tt),alt:"Koumbaya"},null,8,gi)]),$[4]||($[4]=e("h2",{class:"text-center text-4xl font-bold text-gray-900 mb-3"}," Mot de passe oublié ? ",-1)),$[5]||($[5]=e("p",{class:"text-center text-lg text-gray-600 mb-8"}," Entrez votre adresse email ou votre numéro de téléphone ",-1))]),e("div",vi,[e("div",xi,[e("div",fi,[e("form",{onSubmit:ge(T,["prevent"]),class:"space-y-6"},[e("div",bi,[e("button",{type:"button",onClick:$[0]||($[0]=E=>y.value="email"),class:J(["flex-1 py-2 px-4 rounded-md text-sm font-medium transition-all duration-200",y.value==="email"?"bg-white text-koumbaya-primary shadow-sm":"text-gray-600 hover:text-gray-900"])},[b(l(Ze),{class:"w-4 h-4 inline-block mr-2"}),$[6]||($[6]=K(" Email ",-1))],2),e("button",{type:"button",onClick:$[1]||($[1]=E=>y.value="phone"),class:J(["flex-1 py-2 px-4 rounded-md text-sm font-medium transition-all duration-200",y.value==="phone"?"bg-white text-koumbaya-primary shadow-sm":"text-gray-600 hover:text-gray-900"])},[b(l(Fe),{class:"w-4 h-4 inline-block mr-2"}),$[7]||($[7]=K(" Téléphone ",-1))],2)]),y.value==="email"?(t(),s("div",hi,[e("label",yi,[e("div",_i,[b(l(Ze),{class:"w-4 h-4 mr-2 text-gray-500 flex-shrink-0"}),$[8]||($[8]=e("span",null,"Adresse e-mail",-1))])]),Z(e("input",{id:"email",name:"email",type:"email","onUpdate:modelValue":$[2]||($[2]=E=>i.email=E),required:"",class:J(["koumbaya-input bg-white/50 border-gray-200 focus:border-koumbaya-primary focus:ring-4 focus:ring-koumbaya-primary/10 rounded-xl transition-all duration-200",{"border-red-300 focus:border-red-500 focus:ring-red-500/10":d.email}]),style:{color:"#5f5f5f"},placeholder:"exemple@koumbaya.com"},null,2),[[Q,i.email]]),d.email?(t(),s("p",wi,[b(l(be),{class:"w-4 h-4 mr-1"}),K(" "+o(d.email),1)])):B("",!0)])):B("",!0),y.value==="phone"?(t(),s("div",$i,[e("label",ki,[e("div",Ci,[b(l(Fe),{class:"w-4 h-4 mr-2 text-gray-500 flex-shrink-0"}),$[9]||($[9]=e("span",null,"Numéro de téléphone",-1))])]),b(ut,{ref:"phoneInputRef",modelValue:i.phone,"onUpdate:modelValue":$[3]||($[3]=E=>i.phone=E),"preferred-countries":["ga","cm","ci","cg","cf","td","gq","bf","bj","tg","fr","ca"],"initial-country":"ga",onPhoneChange:w},null,8,["modelValue"]),d.phone?(t(),s("p",ji,[b(l(be),{class:"w-4 h-4 mr-1"}),K(" "+o(d.phone),1)])):B("",!0)])):B("",!0),d.general?(t(),s("div",Ai,[e("div",Pi,[b(l(be),{class:"h-5 w-5 text-red-400 mt-0.5"}),e("div",Mi,[$[10]||($[10]=e("h3",{class:"text-sm font-semibold text-red-800"},"Erreur",-1)),e("div",Di,o(d.general),1)])])])):B("",!0),P.value?(t(),s("div",Ii,[e("div",Ti,[b(l(Ce),{class:"h-5 w-5 text-green-400 mt-0.5"}),e("div",Li,[$[11]||($[11]=e("h3",{class:"text-sm font-semibold text-green-800"},"Code envoyé !",-1)),e("div",Ei," Un code de réinitialisation a été envoyé à "+o(y.value==="email"?i.email:i.phone),1)])])])):B("",!0),e("button",{type:"submit",disabled:u.value,class:"w-full bg-[#0099cc] hover:bg-[#0088bb] disabled:opacity-50 disabled:cursor-not-allowed text-white font-semibold py-4 px-6 rounded-xl transition-all duration-200 hover:scale-[1.02] shadow-lg hover:shadow-xl flex items-center justify-center space-x-2"},[u.value?(t(),s("span",Vi,$[12]||($[12]=[e("div",{class:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"},null,-1),e("span",null,"Envoi en cours...",-1)]))):(t(),s("span",Fi,"Envoyer le code"))],8,Si),e("div",Ri,[b(D,{to:"/login",class:"text-sm font-semibold text-koumbaya-primary hover:text-koumbaya-primary-dark transition-colors"},{default:ee(()=>$[13]||($[13]=[K(" ← Retour à la connexion ",-1)])),_:1,__:[13]})])],32)])])])])}}},qi=Le(Ni,[["__scopeId","data-v-51805275"]]),zi={class:"min-h-screen bg-white flex flex-col justify-center py-12 sm:px-6 lg:px-8"},Ui={class:"sm:mx-auto sm:w-full sm:max-w-md"},Bi={class:"flex justify-center mb-8"},Oi=["src"],Hi={class:"text-center text-lg text-gray-600 mb-8"},Gi={class:"mt-12 sm:mx-auto sm:w-full sm:max-w-md"},Ki={class:"koumbaya-card bg-white/80 backdrop-blur-sm border-0 shadow-2xl"},Zi={class:"koumbaya-card-body p-8"},Wi={class:"koumbaya-form-group"},Ji={key:0,class:"mt-2 text-sm text-red-600 flex items-center"},Xi={class:"koumbaya-form-group"},Yi={class:"relative"},Qi=["type"],en={key:0,class:"mt-2 text-sm text-red-600 flex items-center"},tn={class:"koumbaya-form-group"},sn={class:"relative"},on=["type"],rn={key:0,class:"mt-2 text-sm text-red-600 flex items-center"},an={key:0,class:"rounded-xl bg-red-50 p-4 border border-red-200"},nn={class:"flex"},ln={class:"ml-3"},dn={class:"mt-1 text-sm text-red-700"},cn={key:1,class:"rounded-xl bg-green-50 p-4 border border-green-200"},un={class:"flex"},mn=["disabled"],pn={key:0,class:"flex items-center space-x-2"},gn={key:1},vn={class:"text-center"},xn=["disabled"],fn={key:0},bn={key:1},hn={key:2},yn={__name:"ResetPasswordVerify",setup(h){const v=$e(),A=qe(),{post:y}=de(),g=R(A.query.identifier||""),u=R(A.query.method||"email"),P=R(!1),i=R(!1),d=R(!1),w=R(!1),C=R(!1),T=R(0),f=R(null),$=le({otp:"",password:"",password_confirmation:""}),D=le({otp:"",password:"",password_confirmation:"",general:""}),E=()=>{Object.keys(D).forEach(c=>{D[c]=""});let n=!0;return $.otp?$.otp.length!==6&&(D.otp="Le code doit contenir 6 chiffres",n=!1):(D.otp="Le code est obligatoire",n=!1),$.password?$.password.length<8&&(D.password="Le mot de passe doit contenir au moins 8 caractères",n=!1):(D.password="Le mot de passe est obligatoire",n=!1),$.password!==$.password_confirmation&&(D.password_confirmation="Les mots de passe ne correspondent pas",n=!1),n},a=async()=>{if(E()){P.value=!0,D.general="",i.value=!1;try{const n=await y("/otp/verify",{identifier:g.value,code:$.otp,purpose:"password_reset"});if(!n.success){D.general=n.message||"Code invalide",P.value=!1;return}const c=await y("/auth/reset-password",{identifier:g.value,otp:$.otp,password:$.password,password_confirmation:$.password_confirmation});c.success?(i.value=!0,setTimeout(()=>{v.push({name:"login"})},2e3)):D.general=c.message||"Une erreur est survenue"}catch(n){console.error("Erreur lors de la réinitialisation:",n),D.general="Une erreur est survenue lors de la réinitialisation"}finally{P.value=!1}}},r=async()=>{C.value=!0;try{const n=await y("/otp/resend",{identifier:g.value,type:u.value==="email"?"email":"sms",purpose:"password_reset"});n.success?F():D.general=n.message||"Erreur lors du renvoi du code"}catch(n){console.error("Erreur lors du renvoi:",n),D.general="Erreur lors du renvoi du code"}finally{C.value=!1}},F=()=>{T.value=60,f.value=setInterval(()=>{T.value--,T.value<=0&&clearInterval(f.value)},1e3)};return ne(()=>{g.value||v.push({name:"forgot-password"})}),Qe(()=>{f.value&&clearInterval(f.value)}),(n,c)=>(t(),s("div",zi,[e("div",Ui,[e("div",Bi,[e("img",{class:"h-20 w-auto",src:l(tt),alt:"Koumbaya"},null,8,Oi)]),c[5]||(c[5]=e("h2",{class:"text-center text-4xl font-bold text-gray-900 mb-3"}," Vérification du code ",-1)),e("p",Hi," Entrez le code reçu "+o(u.value==="email"?"par email":"par SMS"),1)]),e("div",Gi,[e("div",Ki,[e("div",Zi,[e("form",{onSubmit:ge(a,["prevent"]),class:"space-y-6"},[e("div",Wi,[c[6]||(c[6]=e("label",{for:"otp",class:"block text-sm font-medium text-gray-700 mb-2"}," Code de vérification ",-1)),Z(e("input",{id:"otp",name:"otp",type:"text","onUpdate:modelValue":c[0]||(c[0]=x=>$.otp=x),required:"",maxlength:"6",class:J(["koumbaya-input bg-white/50 border-gray-200 focus:border-koumbaya-primary focus:ring-4 focus:ring-koumbaya-primary/10 rounded-xl transition-all duration-200 text-center text-2xl letter-spacing-wide",{"border-red-300 focus:border-red-500 focus:ring-red-500/10":D.otp}]),style:{color:"#5f5f5f"},placeholder:"123456"},null,2),[[Q,$.otp]]),D.otp?(t(),s("p",Ji,[b(l(be),{class:"w-4 h-4 mr-1"}),K(" "+o(D.otp),1)])):B("",!0)]),e("div",Xi,[c[7]||(c[7]=e("label",{for:"password",class:"block text-sm font-medium text-gray-700 mb-2"}," Nouveau mot de passe ",-1)),e("div",Yi,[Z(e("input",{id:"password",name:"password",type:d.value?"text":"password","onUpdate:modelValue":c[1]||(c[1]=x=>$.password=x),required:"",class:J(["koumbaya-input bg-white/50 border-gray-200 focus:border-koumbaya-primary focus:ring-4 focus:ring-koumbaya-primary/10 rounded-xl transition-all duration-200 pr-12",{"border-red-300 focus:border-red-500 focus:ring-red-500/10":D.password}]),style:{color:"#5f5f5f"},placeholder:"••••••••"},null,10,Qi),[[Ge,$.password]]),e("button",{type:"button",onClick:c[2]||(c[2]=x=>d.value=!d.value),class:"absolute inset-y-0 right-0 pr-4 flex items-center hover:bg-gray-100 rounded-r-xl transition-colors"},[d.value?(t(),oe(l(We),{key:1,class:"h-5 w-5 text-gray-400 hover:text-gray-600"})):(t(),oe(l(je),{key:0,class:"h-5 w-5 text-gray-400 hover:text-gray-600"}))])]),D.password?(t(),s("p",en,[b(l(be),{class:"w-4 h-4 mr-1"}),K(" "+o(D.password),1)])):B("",!0)]),e("div",tn,[c[8]||(c[8]=e("label",{for:"password_confirmation",class:"block text-sm font-medium text-gray-700 mb-2"}," Confirmer le mot de passe ",-1)),e("div",sn,[Z(e("input",{id:"password_confirmation",name:"password_confirmation",type:w.value?"text":"password","onUpdate:modelValue":c[3]||(c[3]=x=>$.password_confirmation=x),required:"",class:J(["koumbaya-input bg-white/50 border-gray-200 focus:border-koumbaya-primary focus:ring-4 focus:ring-koumbaya-primary/10 rounded-xl transition-all duration-200 pr-12",{"border-red-300 focus:border-red-500 focus:ring-red-500/10":D.password_confirmation}]),style:{color:"#5f5f5f"},placeholder:"••••••••"},null,10,on),[[Ge,$.password_confirmation]]),e("button",{type:"button",onClick:c[4]||(c[4]=x=>w.value=!w.value),class:"absolute inset-y-0 right-0 pr-4 flex items-center hover:bg-gray-100 rounded-r-xl transition-colors"},[w.value?(t(),oe(l(We),{key:1,class:"h-5 w-5 text-gray-400 hover:text-gray-600"})):(t(),oe(l(je),{key:0,class:"h-5 w-5 text-gray-400 hover:text-gray-600"}))])]),D.password_confirmation?(t(),s("p",rn,[b(l(be),{class:"w-4 h-4 mr-1"}),K(" "+o(D.password_confirmation),1)])):B("",!0)]),D.general?(t(),s("div",an,[e("div",nn,[b(l(be),{class:"h-5 w-5 text-red-400 mt-0.5"}),e("div",ln,[c[9]||(c[9]=e("h3",{class:"text-sm font-semibold text-red-800"},"Erreur",-1)),e("div",dn,o(D.general),1)])])])):B("",!0),i.value?(t(),s("div",cn,[e("div",un,[b(l(Ce),{class:"h-5 w-5 text-green-400 mt-0.5"}),c[10]||(c[10]=e("div",{class:"ml-3"},[e("h3",{class:"text-sm font-semibold text-green-800"},"Mot de passe réinitialisé !"),e("div",{class:"mt-1 text-sm text-green-700"}," Redirection vers la page de connexion... ")],-1))])])):B("",!0),e("button",{type:"submit",disabled:P.value,class:"w-full bg-[#0099cc] hover:bg-[#0088bb] disabled:opacity-50 disabled:cursor-not-allowed text-white font-semibold py-4 px-6 rounded-xl transition-all duration-200 hover:scale-[1.02] shadow-lg hover:shadow-xl flex items-center justify-center space-x-2"},[P.value?(t(),s("span",pn,c[11]||(c[11]=[e("div",{class:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"},null,-1),e("span",null,"Réinitialisation...",-1)]))):(t(),s("span",gn,"Réinitialiser le mot de passe"))],8,mn),e("div",vn,[e("button",{type:"button",onClick:r,disabled:C.value||T.value>0,class:"text-sm font-semibold text-koumbaya-primary hover:text-koumbaya-primary-dark transition-colors disabled:opacity-50"},[T.value>0?(t(),s("span",fn," Renvoyer le code ("+o(T.value)+"s) ",1)):C.value?(t(),s("span",bn,"Envoi...")):(t(),s("span",hn,"Renvoyer le code"))],8,xn)])],32)])])])]))}},_n=Le(yn,[["__scopeId","data-v-364bf917"]]),ye="/build/assets/placeholder-BS1MYrTN.jpg",pt="/build/assets/placeholder-BS1MYrTN.jpg",wn={class:"bg-white"},$n={class:"relative bg-gradient-to-br from-[#0099cc]/5 via-white to-[#0099cc]/10 overflow-hidden"},kn={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Cn={class:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center min-h-[90vh] py-20"},jn={class:"space-y-8"},An={class:"space-y-4"},Pn={class:"inline-flex items-center gap-2 bg-[#0099cc]/10 text-[#0099cc] px-4 py-2 rounded-full text-sm font-medium"},Mn={class:"flex flex-col sm:flex-row gap-4"},Dn={class:"flex items-center gap-8 pt-8"},In={class:"flex items-center gap-2 text-gray-600"},Tn={class:"flex items-center gap-2 text-gray-600"},Ln={class:"flex items-center gap-2 text-gray-600"},En={class:"relative lg:h-[600px] flex items-center justify-center"},Sn={class:"relative"},Vn={class:"bg-white rounded-3xl shadow-2xl p-8 max-w-sm relative z-10 border border-gray-100"},Fn={class:"relative mb-6"},Rn=["src"],Nn={class:"absolute inline-flex items-center -top-8 -left-8 bg-[#0099cc]/10 text-[#0099cc] px-4 py-2 rounded-full text-sm font-medium z-20 animate-float"},qn={class:"py-20 bg-gray-50"},zn={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Un={class:"grid grid-cols-1 md:grid-cols-4 gap-8"},Bn={class:"text-center"},On={class:"w-20 h-20 bg-[#0099cc]/10 rounded-full flex items-center justify-center mx-auto mb-4"},Hn={class:"text-center"},Gn={class:"w-20 h-20 bg-[#0099cc]/10 rounded-full flex items-center justify-center mx-auto mb-4"},Kn={class:"text-center"},Zn={class:"w-20 h-20 bg-[#0099cc]/10 rounded-full flex items-center justify-center mx-auto mb-4"},Wn={class:"text-center"},Jn={class:"w-20 h-20 bg-[#0099cc]/10 rounded-full flex items-center justify-center mx-auto mb-4"},Xn={class:"py-20"},Yn={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Qn={class:"text-center mt-12"},el={class:"py-20 bg-gray-50"},tl={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},sl={class:"flex items-center justify-between mb-12"},ol={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"},rl=["onClick"],al={class:"relative mb-6"},il=["src","alt"],nl={class:"absolute -top-2 -right-2"},ll={class:"bg-[#0099cc] text-white px-4 py-2 rounded-full font-semibold shadow-lg"},dl={key:0,class:"absolute top-4 left-4"},cl={class:"space-y-4"},ul={class:"text-xl font-bold text-black group-hover:text-[#0099cc] transition-colors"},ml={class:"text-gray-600"},pl={class:"space-y-2"},gl={class:"flex justify-between text-sm text-gray-600"},vl={class:"font-semibold"},xl={class:"w-full bg-gray-200 rounded-full h-3"},fl={class:"text-center text-sm text-gray-500"},bl={class:"text-center mt-12 md:hidden"},hl={class:"py-20"},yl={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},_l={class:"grid grid-cols-1 md:grid-cols-3 gap-8"},wl={class:"flex items-center mb-6"},$l=["src","alt"],kl={class:"ml-4"},Cl={class:"font-semibold text-gray-900"},jl={class:"text-sm text-gray-600"},Al={class:"flex items-center mb-4"},Pl={class:"flex text-yellow-400"},Ml={class:"text-gray-700 italic leading-relaxed"},Dl={class:"mt-4 text-sm text-[#0099cc] font-medium"},Il={class:"py-20 bg-gradient-to-r from-[#0099cc] to-cyan-600"},Tl={class:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8"},Ll={class:"flex flex-col sm:flex-row gap-4 justify-center"},El={__name:"Home",setup(h){const v=$e(),A=R([{id:1,name:"iPhone 15 Pro Max",value:1299e3,ticketPrice:1500,image:ye,soldTickets:750,isNew:!0},{id:2,name:"MacBook Pro M3",value:25e5,ticketPrice:2500,image:ye,soldTickets:420,isNew:!0},{id:3,name:"Tesla Model Y",value:45e6,ticketPrice:5e4,image:ye,soldTickets:320,isNew:!1}]),y=R([{id:1,name:"Marie Dubois",location:"Libreville",avatar:pt,review:"J'ai acheté un iPhone 14 Pro avec seulement 5 tickets ! Le processus était transparent et la livraison rapide.",won:"iPhone 14 Pro"},{id:2,name:"Jean Kamga",location:"Port-Gentil",avatar:pt,review:"Koumbaya a changé ma vie ! J'ai obtenu une moto à prix réduit et maintenant je participe à toutes les tombolas.",won:"Yamaha MT-03"},{id:3,name:"Fatou Ndongo",location:"Franceville",avatar:pt,review:"Platform très sérieuse, paiement sécurisé et service client réactif. Je recommande vivement !",won:"MacBook Air M2"}]),g=P=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XAF",minimumFractionDigits:0}).format(P).replace("XAF","FCFA"),u=P=>{v.push({name:"public.product.detail",params:{id:P.id}})};return(P,i)=>{const d=me("router-link");return t(),s("div",wn,[e("section",$n,[e("div",kn,[e("div",Cn,[e("div",jn,[e("div",An,[e("div",Pn,[b(l(xt),{class:"h-4 w-4"}),i[0]||(i[0]=e("span",null,"Nouveau au Gabon",-1))]),i[1]||(i[1]=se('<h1 class="text-5xl lg:text-6xl xl:text-7xl font-bold text-black leading-none" data-v-5f100492> Rendre l&#39;impossible <span class="text-[#0099cc]" data-v-5f100492>accessible</span></h1><p class="text-xl lg:text-2xl text-gray-600 leading-relaxed" data-v-5f100492> Des smartphones aux voitures, profitez de nos tombolas pour <strong class="text-[#0099cc]" data-v-5f100492>acheter malin</strong> et obtenir des produits <strong class="text-[#0099cc]" data-v-5f100492>à prix réduit</strong>. </p>',2))]),e("div",Mn,[b(d,{to:"/products",class:"inline-flex items-center justify-center gap-2 bg-[#0099cc] hover:bg-[#0088bb] text-white font-semibold px-8 py-4 rounded-2xl transition-all duration-200 hover:scale-105 shadow-lg hover:shadow-xl"},{default:ee(()=>[b(l(Se),{class:"h-5 w-5"}),i[2]||(i[2]=e("span",null,"Découvrir les produits",-1))]),_:1,__:[2]}),b(d,{to:"/how-it-works",class:"inline-flex items-center justify-center gap-2 border-2 border-[#0099cc] text-[#0099cc] hover:bg-[#0099cc]/5 font-semibold px-8 py-4 rounded-2xl transition-all duration-200"},{default:ee(()=>[b(l(qt),{class:"h-5 w-5"}),i[3]||(i[3]=e("span",null,"Comment ça marche",-1))]),_:1,__:[3]})]),e("div",Dn,[e("div",In,[b(l(ct),{class:"h-6 w-6 text-[#0099cc]"}),i[4]||(i[4]=e("span",{class:"font-medium"},"100% sécurisé",-1))]),e("div",Tn,[b(l(Ft),{class:"h-6 w-6 text-[#0099cc]"}),i[5]||(i[5]=e("span",{class:"font-medium"},"Produits authentiques",-1))]),e("div",Ln,[b(l(yt),{class:"h-6 w-6 text-[#0099cc]"}),i[6]||(i[6]=e("span",{class:"font-medium"},"Livraison gratuite",-1))])])]),e("div",En,[e("div",Sn,[e("div",Vn,[e("div",Fn,[e("img",{src:l(ye),alt:"iPhone 15 Pro",class:"w-full h-48 object-cover rounded-2xl bg-gray-100"},null,8,Rn),i[7]||(i[7]=e("div",{class:"absolute -top-2 -right-2 bg-[#0099cc] text-white px-3 py-1 rounded-full text-sm font-bold"}," 1500 FCFA ",-1))]),i[8]||(i[8]=se('<div class="space-y-4" data-v-5f100492><div data-v-5f100492><h3 class="text-xl font-bold text-black" data-v-5f100492>iPhone 15 Pro Max</h3><p class="text-gray-600" data-v-5f100492>Valeur: 1 299 000 FCFA</p></div><div class="space-y-2" data-v-5f100492><div class="flex justify-between text-sm text-gray-600" data-v-5f100492><span data-v-5f100492>Progression</span><span class="font-semibold" data-v-5f100492>75%</span></div><div class="w-full bg-gray-200 rounded-full h-3" data-v-5f100492><div class="bg-gradient-to-r from-[#0099cc] to-[#0088bb] h-3 rounded-full w-3/4 animate-pulse" data-v-5f100492></div></div><div class="text-center text-sm text-gray-500" data-v-5f100492>750/1000 tickets</div></div><button class="w-full bg-[#0099cc] text-white font-semibold py-3 rounded-xl hover:bg-[#0088bb] transition-colors" data-v-5f100492> Acheter maintenant </button></div>',1))]),e("div",Nn,[b(l(xt),{class:"h-4 w-4"}),i[9]||(i[9]=K(" Nouvelle tombola ",-1))]),i[10]||(i[10]=e("div",{class:"absolute -bottom-4 -right-8 bg-yellow-100 text-yellow-600 px-4 py-2 rounded-full text-sm font-medium z-20 animate-float-delayed"}," 🔥 Populaire ",-1))])])])])]),e("section",qn,[e("div",zn,[i[19]||(i[19]=e("div",{class:"text-center mb-16"},[e("h2",{class:"text-3xl md:text-4xl font-bold text-black mb-4"}," Koumbaya en chiffres "),e("p",{class:"text-xl text-gray-600 max-w-3xl mx-auto"}," Rejoignez des milliers de participants qui ont déjà fait confiance à notre plateforme ")],-1)),e("div",Un,[e("div",Bn,[e("div",On,[b(l(et),{class:"h-10 w-10 text-[#0099cc]"})]),i[11]||(i[11]=e("div",{class:"text-4xl font-bold text-black mb-2"},"12 000+",-1)),i[12]||(i[12]=e("div",{class:"text-gray-600"},"Participants actifs",-1))]),e("div",Hn,[e("div",Gn,[b(l(Ue),{class:"h-10 w-10 text-[#0099cc]"})]),i[13]||(i[13]=e("div",{class:"text-4xl font-bold text-black mb-2"},"250+",-1)),i[14]||(i[14]=e("div",{class:"text-gray-600"},"Produits gagnés",-1))]),e("div",Kn,[e("div",Zn,[b(l(De),{class:"h-10 w-10 text-[#0099cc]"})]),i[15]||(i[15]=e("div",{class:"text-4xl font-bold text-black mb-2"},"500M+",-1)),i[16]||(i[16]=e("div",{class:"text-gray-600"},"FCFA distribués",-1))]),e("div",Wn,[e("div",Jn,[b(l(Ye),{class:"h-10 w-10 text-[#0099cc]"})]),i[17]||(i[17]=e("div",{class:"text-4xl font-bold text-black mb-2"},"4.9/5",-1)),i[18]||(i[18]=e("div",{class:"text-gray-600"},"Note utilisateurs",-1))])])])]),e("section",Xn,[e("div",Yn,[i[21]||(i[21]=se('<div class="text-center mb-16" data-v-5f100492><h2 class="text-3xl md:text-4xl font-bold text-black mb-4" data-v-5f100492> Simple comme bonjour </h2><p class="text-xl text-gray-600 max-w-3xl mx-auto" data-v-5f100492> 3 étapes suffisent pour obtenir vos produits à prix cassés </p></div><div class="grid grid-cols-1 md:grid-cols-3 gap-8 lg:gap-12" data-v-5f100492><div class="text-center group" data-v-5f100492><div class="relative mx-auto w-24 h-24 mb-6" data-v-5f100492><div class="absolute inset-0 bg-[#0099cc]/10 rounded-full group-hover:bg-[#0099cc]/20 transition-colors" data-v-5f100492></div><div class="absolute inset-3 bg-[#0099cc] rounded-full flex items-center justify-center group-hover:scale-110 transition-transform duration-300" data-v-5f100492><span class="text-2xl font-bold text-white" data-v-5f100492>1</span></div></div><h3 class="text-xl font-bold text-black mb-4" data-v-5f100492>Choisissez votre produit</h3><p class="text-gray-600 leading-relaxed" data-v-5f100492> Parcourez notre catalogue de produits authentiques et sélectionnez celui que vous souhaitez acquérir. </p></div><div class="text-center group" data-v-5f100492><div class="relative mx-auto w-24 h-24 mb-6" data-v-5f100492><div class="absolute inset-0 bg-[#0099cc]/10 rounded-full group-hover:bg-[#0099cc]/20 transition-colors" data-v-5f100492></div><div class="absolute inset-3 bg-[#0099cc] rounded-full flex items-center justify-center group-hover:scale-110 transition-transform duration-300" data-v-5f100492><span class="text-2xl font-bold text-white" data-v-5f100492>2</span></div></div><h3 class="text-xl font-bold text-black mb-4" data-v-5f100492>Achetez vos tickets</h3><p class="text-gray-600 leading-relaxed" data-v-5f100492> Participez à la tombola avec un petit budget. Plus vous prenez de tickets, meilleures sont vos chances d&#39;obtenir le produit. </p></div><div class="text-center group" data-v-5f100492><div class="relative mx-auto w-24 h-24 mb-6" data-v-5f100492><div class="absolute inset-0 bg-[#0099cc]/10 rounded-full group-hover:bg-[#0099cc]/20 transition-colors" data-v-5f100492></div><div class="absolute inset-3 bg-[#0099cc] rounded-full flex items-center justify-center group-hover:scale-110 transition-transform duration-300" data-v-5f100492><span class="text-2xl font-bold text-white" data-v-5f100492>3</span></div></div><h3 class="text-xl font-bold text-black mb-4" data-v-5f100492>Obtenez votre produit</h3><p class="text-gray-600 leading-relaxed" data-v-5f100492> Le tirage automatique désigne l&#39;acheteur. Nous livrons gratuitement partout au Gabon ! </p></div></div>',2)),e("div",Qn,[b(d,{to:"/how-it-works",class:"inline-flex items-center gap-2 bg-black hover:bg-gray-800 text-white font-semibold px-8 py-4 rounded-2xl transition-all duration-200"},{default:ee(()=>[i[20]||(i[20]=e("span",null,"En savoir plus",-1)),b(l(He),{class:"h-5 w-5"})]),_:1,__:[20]})])])]),e("section",el,[e("div",tl,[e("div",sl,[i[23]||(i[23]=e("div",null,[e("h2",{class:"text-3xl md:text-4xl font-bold text-black mb-4"}," Produits en vedette "),e("p",{class:"text-xl text-gray-600"}," Découvrez les lots les plus convoités du moment ")],-1)),b(d,{to:"/products",class:"hidden md:inline-flex items-center gap-2 text-[#0099cc] hover:text-[#0088bb] font-semibold group"},{default:ee(()=>[i[22]||(i[22]=e("span",null,"Voir tout",-1)),b(l(He),{class:"h-5 w-5 group-hover:translate-x-1 transition-transform"})]),_:1,__:[22]})]),e("div",ol,[(t(!0),s(X,null,Y(A.value,w=>(t(),s("div",{key:w.id,onClick:C=>u(w),class:"bg-white rounded-3xl p-6 shadow-lg hover:shadow-2xl transition-all duration-300 cursor-pointer group border border-gray-100"},[e("div",al,[e("img",{src:w.image||"/images/products/placeholder.jpg",alt:w.name,class:"w-full h-48 object-cover rounded-2xl bg-gray-100 group-hover:scale-105 transition-transform duration-300"},null,8,il),e("div",nl,[e("span",ll,o(g(w.ticketPrice)),1)]),w.isNew?(t(),s("div",dl,i[24]||(i[24]=[e("span",{class:"bg-blue-500 text-white px-3 py-1 rounded-full text-sm font-medium"}," Nouveau ",-1)]))):B("",!0)]),e("div",cl,[e("div",null,[e("h3",ul,o(w.name),1),e("p",ml,"Valeur: "+o(g(w.value)),1)]),e("div",pl,[e("div",gl,[i[25]||(i[25]=e("span",null,"Progression",-1)),e("span",vl,o(Math.round(w.soldTickets/1e3*100))+"%",1)]),e("div",xl,[e("div",{class:"bg-gradient-to-r from-[#0099cc] to-cyan-500 h-3 rounded-full transition-all duration-500",style:he({width:Math.round(w.soldTickets/1e3*100)+"%"})},null,4)]),e("div",fl,o(w.soldTickets)+"/1000 tickets ",1)]),i[26]||(i[26]=e("button",{class:"w-full bg-[#0099cc] hover:bg-[#0088bb] text-white font-semibold py-3 rounded-xl transition-colors group-hover:scale-105 group-hover:shadow-lg"}," Acheter maintenant ",-1))])],8,rl))),128))]),e("div",bl,[b(d,{to:"/products",class:"inline-flex items-center gap-2 bg-[#0099cc] hover:bg-[#0088bb] text-white font-semibold px-8 py-4 rounded-2xl transition-all"},{default:ee(()=>[i[27]||(i[27]=e("span",null,"Voir tous les produits",-1)),b(l(He),{class:"h-5 w-5"})]),_:1,__:[27]})])])]),e("section",hl,[e("div",yl,[i[28]||(i[28]=e("div",{class:"text-center mb-16"},[e("h2",{class:"text-3xl md:text-4xl font-bold text-black mb-4"}," Ils ont acheté malin avec Koumbaya "),e("p",{class:"text-xl text-gray-600 max-w-3xl mx-auto"}," Découvrez les témoignages de nos clients satisfaits ")],-1)),e("div",_l,[(t(!0),s(X,null,Y(y.value,w=>(t(),s("div",{key:w.id,class:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100"},[e("div",wl,[e("img",{src:w.avatar,alt:w.name,class:"w-12 h-12 rounded-full bg-gray-200"},null,8,$l),e("div",kl,[e("div",Cl,o(w.name),1),e("div",jl,o(w.location),1)])]),e("div",Al,[e("div",Pl,[(t(),s(X,null,Y(5,C=>b(l(Ye),{key:C,class:"h-5 w-5 fill-current"})),64))])]),e("blockquote",Ml,' "'+o(w.review)+'" ',1),e("div",Dl," A obtenu: "+o(w.won),1)]))),128))])])]),e("section",Il,[e("div",Tl,[i[31]||(i[31]=e("h2",{class:"text-4xl md:text-5xl font-bold text-white mb-6"}," Votre prochain lot vous attend ",-1)),i[32]||(i[32]=e("p",{class:"text-xl text-blue-100 mb-8 leading-relaxed"}," Rejoignez la communauté Koumbaya et tentez votre chance dès aujourd'hui. L'inscription est gratuite et ne prend que quelques minutes. ",-1)),e("div",Ll,[b(d,{to:"/register",class:"inline-flex items-center justify-center gap-2 bg-white text-[#0099cc] hover:text-[#0088bb] font-bold px-10 py-5 rounded-2xl transition-all duration-200 hover:scale-105 shadow-xl"},{default:ee(()=>[b(l(zt),{class:"h-6 w-6"}),i[29]||(i[29]=e("span",null,"S'inscrire gratuitement",-1))]),_:1,__:[29]}),b(d,{to:"/products",class:"inline-flex items-center justify-center gap-2 border-2 border-white text-white hover:bg-white hover:text-[#0099cc] font-bold px-10 py-5 rounded-2xl transition-all duration-200"},{default:ee(()=>[b(l(je),{class:"h-6 w-6"}),i[30]||(i[30]=e("span",null,"Voir les produits",-1))]),_:1,__:[30]})])])])])}}},Sl=Le(El,[["__scopeId","data-v-5f100492"]]),Vl={class:"min-h-screen bg-gray-50"},Fl={class:"bg-gradient-to-r from-blue-600 to-blue-600 text-white"},Rl={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12"},Nl={class:"text-center"},ql={class:"grid grid-cols-2 md:grid-cols-4 gap-4 max-w-4xl mx-auto"},zl={class:"bg-white bg-opacity-20 rounded-lg p-4"},Ul={class:"text-2xl font-bold"},Bl={class:"bg-white bg-opacity-20 rounded-lg p-4"},Ol={class:"text-2xl font-bold"},Hl={class:"bg-white bg-opacity-20 rounded-lg p-4"},Gl={class:"text-2xl font-bold"},Kl={class:"bg-white bg-opacity-20 rounded-lg p-4"},Zl={class:"text-2xl font-bold"},Wl={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},Jl={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8"},Xl={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},Yl={class:"flex space-x-2"},Ql=["onClick"],ed={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8"},td={class:"flex gap-4"},sd=["disabled"],od={key:0,class:"flex items-center text-blue-800"},rd={class:"text-sm mt-1"},ad={key:1,class:"flex items-center text-red-800"},id={class:"bg-white rounded-lg shadow-sm border border-gray-200 mb-8"},nd={key:0,class:"p-8 text-center"},ld={key:1,class:"p-6"},dd={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},cd={class:"flex items-center space-x-4"},ud=["src","alt"],md={class:"flex-1"},pd={class:"font-medium text-gray-900"},gd={class:"text-sm text-gray-600 mb-1"},vd={class:"text-sm font-medium text-blue-600"},xd={class:"text-xs text-gray-500"},fd={class:"bg-white rounded-lg shadow-sm border border-gray-200"},bd={key:0,class:"p-8 text-center"},hd={key:1,class:"p-8 text-center text-gray-500"},yd={key:2,class:"overflow-x-auto"},_d={class:"min-w-full divide-y divide-gray-200"},wd={class:"bg-white divide-y divide-gray-200"},$d={class:"px-6 py-4 whitespace-nowrap"},kd={class:"flex items-center"},Cd=["src","alt"],jd={class:"text-sm font-medium text-gray-900"},Ad={class:"text-sm text-gray-500"},Pd={class:"text-xs text-gray-400"},Md={class:"px-6 py-4 whitespace-nowrap"},Dd={class:"flex items-center"},Id={class:"w-8 h-8 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center mr-3"},Td={class:"text-sm font-medium text-gray-900"},Ld={class:"text-sm text-gray-500"},Ed={class:"px-6 py-4 whitespace-nowrap"},Sd={class:"text-sm font-mono font-medium text-gray-900"},Vd={class:"px-6 py-4 whitespace-nowrap"},Fd={class:"text-sm text-gray-900"},Rd={class:"w-16 bg-gray-200 rounded-full h-1.5 mt-1"},Nd={class:"text-xs text-gray-500"},qd={class:"px-6 py-4 whitespace-nowrap"},zd={class:"text-sm text-gray-900"},Ud={class:"text-xs text-gray-500"},Bd={class:"px-6 py-4 whitespace-nowrap"},Od={class:"text-xs font-mono text-gray-600 bg-gray-100 rounded px-2 py-1"},Hd=["onClick"],Gd={__name:"Results",setup(h){const{get:v}=de(),A=R([]),y=R([]),g=R({}),u=R(!1),P=R(!1),i=R("month"),d=R(""),w=R(!1),C=R(null),T=[{value:"week",label:"Cette semaine"},{value:"month",label:"Ce mois"},{value:"year",label:"Cette année"}],f=async()=>{u.value=!0;try{const n=await v(`/public/results?period=${i.value}&limit=50`);A.value=n.data.results||[],g.value=n.data.stats||{}}catch(n){console.error("Erreur lors du chargement des résultats:",n)}finally{u.value=!1}},$=async()=>{P.value=!0;try{const n=await v("/public/results/recent-winners?limit=6");y.value=n.data.winners||[]}catch(n){console.error("Erreur lors du chargement des gagnants récents:",n)}finally{P.value=!1}},D=async()=>{if(d.value.trim()){w.value=!0,C.value=null;try{const n=await v(`/public/results/verify/${d.value.trim()}`);C.value=n.data,C.value.valid=!0}catch{C.value={valid:!1}}finally{w.value=!1}}},E=async n=>{try{await navigator.clipboard.writeText(n),window.$toast&&window.$toast.success("Code copié dans le presse-papiers!","✅ Copié")}catch(c){console.error("Erreur lors de la copie:",c)}},a=n=>new Intl.NumberFormat("fr-FR",{minimumFractionDigits:0,maximumFractionDigits:0}).format(n||0)+" FCFA",r=n=>n?n>=1e6?(n/1e6).toFixed(1)+"M":n>=1e3?(n/1e3).toFixed(0)+"K":n.toString():"0",F=n=>new Intl.DateTimeFormat("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(n));return ne(async()=>{await Promise.all([f(),$()])}),(n,c)=>(t(),s("div",Vl,[e("div",Fl,[e("div",Rl,[e("div",Nl,[c[5]||(c[5]=e("h1",{class:"text-4xl font-bold mb-4"},"🏆 Résultats des Tombolas",-1)),c[6]||(c[6]=e("p",{class:"text-xl opacity-90 mb-8"}," Découvrez les gagnants et vérifiez les résultats officiels ",-1)),e("div",ql,[e("div",zl,[e("div",Ul,o(g.value.total_lotteries||0),1),c[1]||(c[1]=e("div",{class:"text-sm opacity-90"},"Tombolas terminées",-1))]),e("div",Bl,[e("div",Ol,o(g.value.total_winners||0),1),c[2]||(c[2]=e("div",{class:"text-sm opacity-90"},"Gagnants heureux",-1))]),e("div",Hl,[e("div",Gl,o(r(g.value.total_prizes_value)),1),c[3]||(c[3]=e("div",{class:"text-sm opacity-90"},"Valeur des prix",-1))]),e("div",Kl,[e("div",Zl,o(g.value.total_tickets_sold||0),1),c[4]||(c[4]=e("div",{class:"text-sm opacity-90"},"Tickets vendus",-1))])])])])]),e("div",Wl,[e("div",Jl,[e("div",Xl,[c[7]||(c[7]=e("div",null,[e("h2",{class:"text-lg font-semibold text-gray-900"},"Filtrer par période"),e("p",{class:"text-gray-600"},"Choisissez la période à afficher")],-1)),e("div",Yl,[(t(),s(X,null,Y(T,x=>e("button",{key:x.value,onClick:O=>{i.value=x.value,f()},class:J(["px-4 py-2 rounded-md text-sm font-medium",i.value===x.value?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"])},o(x.label),11,Ql)),64))])])]),e("div",ed,[c[11]||(c[11]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"🔍 Vérifier un Résultat",-1)),e("div",td,[Z(e("input",{"onUpdate:modelValue":c[0]||(c[0]=x=>d.value=x),type:"text",placeholder:"Entrez le code de vérification...",class:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",onKeyup:Tt(D,["enter"])},null,544),[[Q,d.value]]),e("button",{onClick:D,disabled:!d.value||w.value,class:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed"},o(w.value?"Vérification...":"Vérifier"),9,sd)]),C.value?(t(),s("div",{key:0,class:J(["mt-4 p-4 rounded-lg",[C.value.valid?"bg-blue-50 border border-blue-200":"bg-red-50 border border-red-200"]])},[C.value.valid?(t(),s("div",od,[b(l(Ce),{class:"w-5 h-5 mr-2"}),e("div",null,[c[9]||(c[9]=e("div",{class:"font-medium"},"✅ Résultat vérifié",-1)),e("div",rd,[K(" Tombola "+o(C.value.lottery_number)+" - "+o(C.value.product_title)+" ",1),c[8]||(c[8]=e("br",null,null,-1)),K("Gagnant: "+o(C.value.winner_initial)+"**** le "+o(F(C.value.draw_date)),1)])])])):(t(),s("div",ad,[b(l(_t),{class:"w-5 h-5 mr-2"}),c[10]||(c[10]=e("div",{class:"font-medium"},"❌ Code invalide",-1))]))],2)):B("",!0)]),e("div",id,[c[13]||(c[13]=e("div",{class:"px-6 py-4 border-b border-gray-200"},[e("h3",{class:"text-lg font-semibold text-gray-900"},"🎉 Gagnants Récents")],-1)),P.value?(t(),s("div",nd,c[12]||(c[12]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"},null,-1)]))):(t(),s("div",ld,[e("div",dd,[(t(!0),s(X,null,Y(y.value,x=>(t(),s("div",{key:x.lottery_number,class:"bg-gradient-to-r from-blue-50 to-blue-50 rounded-lg p-4 border border-blue-100"},[e("div",cd,[e("img",{src:x.product_image||"/images/products/placeholder.jpg",alt:x.product_title,class:"w-16 h-16 rounded-lg object-cover"},null,8,ud),e("div",md,[e("div",pd,o(x.product_title),1),e("div",gd,o(a(x.product_value)),1),e("div",vd," Gagnant: "+o(x.winner_initial)+"**** ("+o(x.winner_city)+") ",1),e("div",xd," Il y a "+o(x.days_ago)+" jour"+o(x.days_ago>1?"s":""),1)])])]))),128))])]))]),e("div",fd,[c[18]||(c[18]=e("div",{class:"px-6 py-4 border-b border-gray-200"},[e("h3",{class:"text-lg font-semibold text-gray-900"},"📋 Historique Complet des Résultats")],-1)),u.value?(t(),s("div",bd,c[14]||(c[14]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"},null,-1),e("p",{class:"mt-4 text-gray-600"},"Chargement des résultats...",-1)]))):A.value.length===0?(t(),s("div",hd,[b(l(Ue),{class:"mx-auto h-12 w-12 text-gray-400 mb-4"}),c[15]||(c[15]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"Aucun résultat",-1)),c[16]||(c[16]=e("p",null,"Aucune tombola terminée pour cette période.",-1))])):(t(),s("div",yd,[e("table",_d,[c[17]||(c[17]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Produit "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Gagnant "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Ticket Gagnant "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Participation "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Date de Tirage "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Vérification ")])],-1)),e("tbody",wd,[(t(!0),s(X,null,Y(A.value,x=>(t(),s("tr",{key:x.lottery_id,class:"hover:bg-gray-50"},[e("td",$d,[e("div",kd,[e("img",{src:x.product.image_url||"/images/products/placeholder.jpg",alt:x.product.title,class:"w-12 h-12 rounded-lg object-cover mr-4"},null,8,Cd),e("div",null,[e("div",jd,o(x.product.title),1),e("div",Ad,o(x.product.category)+" • "+o(a(x.product.price)),1),e("div",Pd,o(x.lottery_number),1)])])]),e("td",Md,[e("div",Dd,[e("div",Id,o(x.winner.initial),1),e("div",null,[e("div",Td,o(x.winner.name),1),e("div",Ld,o(x.winner.city),1)])])]),e("td",Ed,[e("div",Sd,o(x.winning_ticket),1)]),e("td",Vd,[e("div",Fd,o(x.sold_tickets)+"/"+o(x.total_tickets)+" tickets ",1),e("div",Rd,[e("div",{class:"bg-blue-600 h-1.5 rounded-full",style:he({width:x.participation_rate+"%"})},null,4)]),e("div",Nd,o(x.participation_rate)+"%",1)]),e("td",qd,[e("div",zd,o(F(x.draw_date)),1),e("div",Ud,o(a(x.total_revenue))+" collectés ",1)]),e("td",Bd,[e("div",Od,o(x.verification_code),1),e("button",{onClick:O=>E(x.verification_code),class:"text-xs text-blue-600 hover:text-blue-700 mt-1"}," Copier ",8,Hd)])]))),128))])])]))])])]))}},Kd={class:"min-h-screen bg-gray-50"},Zd={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},Wd={class:"bg-white rounded-lg shadow-lg border border-gray-200 p-8 mb-8"},Jd={class:"max-w-md mx-auto"},Xd={class:"mb-6"},Yd=["disabled"],Qd={key:0,class:"flex items-center justify-center"},ec={key:1},tc={key:0,class:"mb-8"},sc={key:0,class:"bg-white rounded-lg shadow-lg border-2 border-blue-200 overflow-hidden"},oc={class:"bg-gradient-to-r from-blue-500 to-emerald-500 text-white p-6"},rc={class:"flex items-center justify-center"},ac={class:"p-8"},ic={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},nc={class:"space-y-4"},lc={class:"space-y-2"},dc={class:"flex justify-between"},cc={class:"font-medium"},uc={class:"flex justify-between"},mc={class:"font-medium"},pc={class:"flex justify-between"},gc={class:"font-medium"},vc={class:"space-y-4"},xc={class:"space-y-2"},fc={class:"flex justify-between"},bc={class:"font-medium"},hc={class:"flex justify-between"},yc={class:"font-mono font-medium text-blue-600"},_c={class:"flex justify-between"},wc={class:"font-medium"},$c={class:"mt-8 p-4 bg-blue-50 rounded-lg"},kc={class:"flex items-start"},Cc={class:"text-sm text-blue-800"},jc={key:1,class:"bg-white rounded-lg shadow-lg border-2 border-red-200"},Ac={class:"bg-gradient-to-r from-red-500 to-red-600 text-white p-6"},Pc={class:"flex items-center justify-center"},Mc={class:"p-8"},Dc={class:"text-center"},Ic={class:"text-gray-700 mb-4"},Tc={class:"font-mono bg-gray-100 px-2 py-1 rounded"},Lc={class:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6"},Ec={class:"flex items-start"},Sc={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},Vc={key:0,class:"text-center text-gray-500 py-8"},Fc={key:1,class:"space-y-3"},Rc={class:"font-mono text-sm text-gray-600"},Nc={class:"text-xs text-gray-500"},qc={__name:"VerifyWinner",setup(h){const{get:v}=de(),A=R(""),y=R(!1),g=R(null),u=R([]),P=async()=>{if(!(!A.value.trim()||A.value.length!==8)){y.value=!0,g.value=null;try{const T=await v(`/public/results/verify/${A.value.trim()}`);g.value=T.data,g.value.valid=!0,i(A.value,!0)}catch{g.value={valid:!1,code:A.value.trim()},i(A.value,!1)}finally{y.value=!1}}},i=(T,f)=>{const $={id:Date.now(),code:T,valid:f,verified_at:new Date};u.value.unshift($),u.value.length>5&&(u.value=u.value.slice(0,5)),localStorage.setItem("recent_verifications",JSON.stringify(u.value))},d=()=>{try{const T=localStorage.getItem("recent_verifications");T&&(u.value=JSON.parse(T).map(f=>({...f,verified_at:new Date(f.verified_at)})).slice(0,5))}catch(T){console.error("Failed to load recent verifications",T)}},w=T=>new Intl.DateTimeFormat("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(T)),C=T=>{const $=new Date-T,D=Math.floor($/6e4);if(D<1)return"À l'instant";if(D<60)return`${D}min`;const E=Math.floor(D/60);return E<24?`${E}h`:`${Math.floor(E/24)}j`};return ne(()=>{d()}),(T,f)=>(t(),s("div",Kd,[f[24]||(f[24]=se('<div class="bg-gradient-to-r from-blue-600 to-blue-600 text-white"><div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12"><div class="text-center"><h1 class="text-4xl font-bold mb-4">🔍 Vérification de Gain</h1><p class="text-xl opacity-90 mb-8"> Vérifiez l&#39;authenticité d&#39;un résultat de tombola </p></div></div></div>',1)),e("div",Zd,[e("div",Wd,[f[5]||(f[5]=e("h2",{class:"text-2xl font-bold text-gray-900 mb-6 text-center"},[e("span",{class:"text-blue-600"},"🏆"),K(" Outil de Vérification Officiel ")],-1)),e("div",Jd,[e("div",Xd,[f[2]||(f[2]=e("label",{for:"verification-code",class:"block text-sm font-medium text-gray-700 mb-2"}," Code de Vérification ",-1)),Z(e("input",{id:"verification-code","onUpdate:modelValue":f[0]||(f[0]=$=>A.value=$),type:"text",placeholder:"Ex: A1B2C3D4",class:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-center text-lg font-mono uppercase",maxlength:"8",onInput:f[1]||(f[1]=$=>A.value=$.target.value.toUpperCase()),onKeyup:Tt(P,["enter"])},null,544),[[Q,A.value]]),f[3]||(f[3]=e("p",{class:"mt-2 text-sm text-gray-600"}," Entrez le code de 8 caractères fourni avec votre notification de gain ",-1))]),e("button",{onClick:P,disabled:!A.value||y.value||A.value.length!==8,class:"w-full py-3 px-6 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed text-white font-medium rounded-lg transition-colors duration-200"},[y.value?(t(),s("span",Qd,f[4]||(f[4]=[e("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),K(" Vérification en cours... ",-1)]))):(t(),s("span",ec," 🔍 Vérifier le Gain "))],8,Yd)])]),g.value?(t(),s("div",tc,[g.value.valid?(t(),s("div",sc,[e("div",oc,[e("div",rc,[b(l(Ce),{class:"w-12 h-12 mr-4"}),f[6]||(f[6]=e("div",null,[e("h3",{class:"text-2xl font-bold"},"✅ GAIN VÉRIFIÉ"),e("p",{class:"text-blue-100"},"Ce résultat est authentique et officiel")],-1))])]),e("div",ac,[e("div",ic,[e("div",nc,[f[10]||(f[10]=e("h4",{class:"text-lg font-semibold text-gray-900 mb-4"},"📋 Informations de la Tombola",-1)),e("div",lc,[e("div",dc,[f[7]||(f[7]=e("span",{class:"text-gray-600"},"Numéro :",-1)),e("span",cc,o(g.value.lottery_number),1)]),e("div",uc,[f[8]||(f[8]=e("span",{class:"text-gray-600"},"Produit :",-1)),e("span",mc,o(g.value.product_title),1)]),e("div",pc,[f[9]||(f[9]=e("span",{class:"text-gray-600"},"Date du tirage :",-1)),e("span",gc,o(w(g.value.draw_date)),1)])])]),e("div",vc,[f[14]||(f[14]=e("h4",{class:"text-lg font-semibold text-gray-900 mb-4"},"🏆 Gagnant",-1)),e("div",xc,[e("div",fc,[f[11]||(f[11]=e("span",{class:"text-gray-600"},"Identité :",-1)),e("span",bc,o(g.value.winner_initial)+"****",1)]),e("div",hc,[f[12]||(f[12]=e("span",{class:"text-gray-600"},"Code :",-1)),e("span",yc,o(A.value),1)]),e("div",_c,[f[13]||(f[13]=e("span",{class:"text-gray-600"},"Vérifié le :",-1)),e("span",wc,o(w(g.value.verification_date)),1)])])])]),e("div",$c,[e("div",kc,[b(l(Ee),{class:"w-5 h-5 text-blue-500 mt-0.5 mr-3"}),e("div",Cc,[f[15]||(f[15]=e("p",{class:"font-medium mb-1"},"Certificat de Vérification",-1)),e("p",null,"Ce résultat a été vérifié dans notre système officiel. La tombola "+o(g.value.lottery_number)+" s'est terminée le "+o(w(g.value.draw_date))+" avec un tirage transparent et équitable.",1)])])])])])):(t(),s("div",jc,[e("div",Ac,[e("div",Pc,[b(l(_t),{class:"w-12 h-12 mr-4"}),f[16]||(f[16]=e("div",null,[e("h3",{class:"text-2xl font-bold"},"❌ CODE INVALIDE"),e("p",{class:"text-red-100"},"Ce code de vérification n'existe pas")],-1))])]),e("div",Mc,[e("div",Dc,[e("p",Ic,[f[17]||(f[17]=K(" Le code ",-1)),e("span",Tc,o(A.value),1),f[18]||(f[18]=K(" ne correspond à aucun résultat officiel dans notre système. ",-1))]),e("div",Lc,[e("div",Ec,[b(l(ze),{class:"w-5 h-5 text-yellow-500 mt-0.5 mr-3"}),f[19]||(f[19]=e("div",{class:"text-sm text-yellow-800"},[e("p",{class:"font-medium mb-1"},"Vérifications possibles :"),e("ul",{class:"list-disc list-inside space-y-1"},[e("li",null,"Assurez-vous que le code est correct (8 caractères)"),e("li",null,"Vérifiez que le code provient d'une source officielle"),e("li",null,"Contactez notre support si vous pensez qu'il y a une erreur")])],-1))])])])])]))])):B("",!0),f[23]||(f[23]=se('<div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8"><h3 class="text-lg font-semibold text-gray-900 mb-4">ℹ️ Comment ça marche ?</h3><div class="grid grid-cols-1 md:grid-cols-3 gap-6"><div class="text-center"><div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3"><span class="text-xl">1️⃣</span></div><h4 class="font-medium text-gray-900 mb-2">Recevez votre code</h4><p class="text-sm text-gray-600"> Après un tirage, le gagnant reçoit un code de vérification unique par email et SMS </p></div><div class="text-center"><div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3"><span class="text-xl">2️⃣</span></div><h4 class="font-medium text-gray-900 mb-2">Vérifiez en ligne</h4><p class="text-sm text-gray-600"> Entrez le code sur cette page pour vérifier l&#39;authenticité du résultat </p></div><div class="text-center"><div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3"><span class="text-xl">3️⃣</span></div><h4 class="font-medium text-gray-900 mb-2">Confirmez le gain</h4><p class="text-sm text-gray-600"> Un résultat valide confirme officiellement le gain et ses détails </p></div></div></div>',1)),e("div",Sc,[f[22]||(f[22]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"🔍 Vérifications Récentes",-1)),u.value.length===0?(t(),s("div",Vc,[b(l(Je),{class:"w-12 h-12 mx-auto text-gray-300 mb-3"}),f[20]||(f[20]=e("p",null,"Aucune vérification récente",-1))])):(t(),s("div",Fc,[(t(!0),s(X,null,Y(u.value,$=>(t(),s("div",{key:$.id,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},[e("div",null,[e("span",Rc,o($.code),1),f[21]||(f[21]=e("span",{class:"mx-2"},"→",-1)),e("span",{class:J(["text-sm",$.valid?"text-blue-600":"text-red-600"])},o($.valid?"✅ Valide":"❌ Invalide"),3)]),e("span",Nc,o(C($.verified_at)),1)]))),128))]))])])]))}},zc={class:"min-h-screen bg-gray-50"},Uc={class:"bg-gradient-to-r from-purple-600 to-indigo-600 text-white"},Bc={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12"},Oc={class:"text-center"},Hc={class:"grid grid-cols-2 md:grid-cols-4 gap-4 max-w-4xl mx-auto"},Gc={class:"bg-white bg-opacity-20 rounded-lg p-4"},Kc={class:"text-2xl font-bold"},Zc={class:"bg-white bg-opacity-20 rounded-lg p-4"},Wc={class:"text-2xl font-bold"},Jc={class:"bg-white bg-opacity-20 rounded-lg p-4"},Xc={class:"text-2xl font-bold"},Yc={class:"bg-white bg-opacity-20 rounded-lg p-4"},Qc={class:"text-2xl font-bold"},eu={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},tu={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8"},su={class:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4"},ou={class:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-4"},ru=["value"],au={class:"flex items-center space-x-4"},iu={class:"text-sm text-gray-500"},nu={key:0,class:"text-center py-12"},lu={key:1,class:"text-center py-12"},du={key:2},cu={class:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6 mb-8"},uu={class:"relative h-48 bg-gray-200"},mu=["src","alt"],pu={class:"absolute bottom-3 left-3"},gu={class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-white text-gray-900"},vu={class:"p-6"},xu={class:"mb-4"},fu={class:"text-lg font-semibold text-gray-900 mb-1"},bu={class:"text-2xl font-bold text-purple-600"},hu={class:"text-sm text-gray-500"},yu={class:"bg-blue-50 rounded-lg p-4 mb-4"},_u={class:"flex items-center"},wu={class:"w-10 h-10 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center mr-3"},$u={class:"flex-1"},ku={class:"text-sm text-blue-700"},Cu={class:"grid grid-cols-2 gap-4 mb-4"},ju={class:"text-center"},Au={class:"text-lg font-bold text-gray-900"},Pu={class:"text-center"},Mu={class:"text-lg font-bold text-gray-900"},Du={class:"w-full bg-gray-200 rounded-full h-2 mb-4"},Iu={class:"flex items-center justify-between"},Tu={class:"text-sm text-gray-600"},Lu=["onClick"],Eu={key:0,class:"flex items-center justify-center space-x-2"},Su=["disabled"],Vu=["onClick"],Fu={key:1,class:"px-3 py-2 text-sm text-gray-500"},Ru=["disabled"],Nu={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},qu={class:"flex items-center justify-center min-h-screen px-4"},zu={class:"relative bg-white rounded-lg max-w-2xl w-full max-h-screen overflow-y-auto"},Uu={class:"p-6"},Bu={class:"flex items-center justify-between mb-4"},Ou={class:"space-y-6"},Hu={class:"flex items-start space-x-4"},Gu=["src","alt"],Ku={class:"flex-1"},Zu={class:"text-xl font-bold text-gray-900"},Wu={class:"text-lg text-purple-600 font-semibold"},Ju={class:"text-sm text-gray-600"},Xu={class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},Yu={class:"flex items-center"},Qu={class:"w-12 h-12 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center mr-4 text-lg font-bold"},e0={class:"font-medium text-blue-900"},t0={class:"text-sm text-blue-700"},s0={class:"text-sm text-blue-600"},o0={class:"grid grid-cols-2 gap-4"},r0={class:"bg-gray-50 p-4 rounded-lg"},a0={class:"text-2xl font-bold text-gray-900"},i0={class:"text-xs text-gray-500"},n0={class:"bg-gray-50 p-4 rounded-lg"},l0={class:"text-2xl font-bold text-gray-900"},d0={class:"bg-gray-50 p-4 rounded-lg"},c0={class:"text-2xl font-bold text-gray-900"},u0={class:"bg-gray-50 p-4 rounded-lg"},m0={class:"text-2xl font-bold text-gray-900 font-mono"},p0={class:"text-sm text-gray-600 space-y-1"},gt=12,g0={__name:"History",setup(h){const{get:v}=de(),A=R([]),y=R({}),g=R([]),u=R(!1),P=R(null),i=R({period:"all",category:"",sort:"date_desc"}),d=R(1),w=te(()=>{let n=[...A.value];switch(i.value.sort){case"date_asc":n.sort((c,x)=>new Date(c.draw_date)-new Date(x.draw_date));break;case"date_desc":n.sort((c,x)=>new Date(x.draw_date)-new Date(c.draw_date));break;case"value_asc":n.sort((c,x)=>c.product.price-x.product.price);break;case"value_desc":n.sort((c,x)=>x.product.price-c.product.price);break;case"participation_desc":n.sort((c,x)=>x.participation_rate-c.participation_rate);break}return n}),C=te(()=>Math.ceil(w.value.length/gt)),T=te(()=>{const n=(d.value-1)*gt,c=n+gt;return w.value.slice(n,c)}),f=te(()=>{const n=[],c=d.value,x=C.value;if(x<=7)for(let O=1;O<=x;O++)n.push(O);else if(c<=4){for(let O=1;O<=5;O++)n.push(O);n.push("..."),n.push(x)}else if(c>=x-3){n.push(1),n.push("...");for(let O=x-4;O<=x;O++)n.push(O)}else{n.push(1),n.push("...");for(let O=c-1;O<=c+1;O++)n.push(O);n.push("..."),n.push(x)}return n}),$=async()=>{u.value=!0;try{const n=new URLSearchParams({period:i.value.period,limit:500});i.value.category&&n.append("category",i.value.category);const[c,x,O]=await Promise.all([v(`/public/results?${n}`),v("/public/results/stats"),v("/categories")]);A.value=c.data.results||[],y.value=c.data.stats||{},g.value=O.data||[]}catch(n){console.error("Erreur lors du chargement de l'historique:",n)}finally{u.value=!1}},D=()=>{i.value={period:"all",category:"",sort:"date_desc"},d.value=1},E=n=>{P.value=n},a=n=>new Intl.NumberFormat("fr-FR",{minimumFractionDigits:0,maximumFractionDigits:0}).format(n||0)+" FCFA",r=n=>n?n>=1e6?(n/1e6).toFixed(1)+"M":n>=1e3?(n/1e3).toFixed(0)+"K":n.toString():"0",F=n=>new Intl.DateTimeFormat("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(n));return Oe(i,()=>{d.value=1},{deep:!0}),ne(()=>{$()}),(n,c)=>(t(),s("div",zc,[e("div",Uc,[e("div",Bc,[e("div",Oc,[c[11]||(c[11]=e("h1",{class:"text-4xl font-bold mb-4"},"📚 Historique des Tombolas",-1)),c[12]||(c[12]=e("p",{class:"text-xl opacity-90 mb-8"}," Explorez l'historique complet de toutes nos tombolas terminées ",-1)),e("div",Hc,[e("div",Gc,[e("div",Kc,o(y.value.total_lotteries||0),1),c[7]||(c[7]=e("div",{class:"text-sm opacity-90"},"Tombolas terminées",-1))]),e("div",Zc,[e("div",Wc,o(y.value.total_winners||0),1),c[8]||(c[8]=e("div",{class:"text-sm opacity-90"},"Gagnants heureux",-1))]),e("div",Jc,[e("div",Xc,o(r(y.value.total_prizes_value)),1),c[9]||(c[9]=e("div",{class:"text-sm opacity-90"},"Valeur totale",-1))]),e("div",Yc,[e("div",Qc,o(Math.round(y.value.average_participation_rate||0))+"%",1),c[10]||(c[10]=e("div",{class:"text-sm opacity-90"},"Participation moy.",-1))])])])])]),e("div",eu,[e("div",tu,[e("div",su,[e("div",ou,[e("div",null,[c[14]||(c[14]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Période",-1)),Z(e("select",{"onUpdate:modelValue":c[0]||(c[0]=x=>i.value.period=x),onChange:$,class:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500"},c[13]||(c[13]=[e("option",{value:"all"},"Toute la période",-1),e("option",{value:"month"},"Ce mois",-1),e("option",{value:"quarter"},"Ce trimestre",-1),e("option",{value:"year"},"Cette année",-1)]),544),[[re,i.value.period]])]),e("div",null,[c[16]||(c[16]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Catégorie",-1)),Z(e("select",{"onUpdate:modelValue":c[1]||(c[1]=x=>i.value.category=x),onChange:$,class:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500"},[c[15]||(c[15]=e("option",{value:""},"Toutes les catégories",-1)),(t(!0),s(X,null,Y(g.value,x=>(t(),s("option",{key:x.id,value:x.id},o(x.name),9,ru))),128))],544),[[re,i.value.category]])]),e("div",null,[c[18]||(c[18]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Trier par",-1)),Z(e("select",{"onUpdate:modelValue":c[2]||(c[2]=x=>i.value.sort=x),onChange:$,class:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500"},c[17]||(c[17]=[se('<option value="date_desc">Plus récent</option><option value="date_asc">Plus ancien</option><option value="value_desc">Valeur croissante</option><option value="value_asc">Valeur décroissante</option><option value="participation_desc">Participation élevée</option>',5)]),544),[[re,i.value.sort]])])]),e("div",au,[e("button",{onClick:D,class:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors"}," Réinitialiser "),e("div",iu,o(T.value.length)+" résultat(s) ",1)])])]),u.value?(t(),s("div",nu,c[19]||(c[19]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto"},null,-1),e("p",{class:"mt-4 text-gray-600"},"Chargement de l'historique...",-1)]))):A.value.length===0?(t(),s("div",lu,[b(l(es),{class:"mx-auto h-16 w-16 text-gray-400 mb-4"}),c[20]||(c[20]=e("h3",{class:"text-xl font-medium text-gray-900 mb-2"},"Aucun historique",-1)),c[21]||(c[21]=e("p",{class:"text-gray-600"},"Aucune tombola terminée ne correspond à vos critères.",-1))])):(t(),s("div",du,[e("div",cu,[(t(!0),s(X,null,Y(T.value,x=>(t(),s("div",{key:x.lottery_id,class:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow duration-200"},[e("div",uu,[x.product.image_url?(t(),s("img",{key:0,src:x.product.image_url,alt:x.product.title,class:"w-full h-full object-cover"},null,8,mu)):B("",!0),c[22]||(c[22]=e("div",{class:"absolute top-3 right-3"},[e("span",{class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800"}," ✅ Terminé ")],-1)),e("div",pu,[e("span",gu,o(x.product.category),1)])]),e("div",vu,[e("div",xu,[e("h3",fu,o(x.product.title),1),e("p",bu,o(a(x.product.price)),1),e("p",hu,"Tombola "+o(x.lottery_number),1)]),e("div",yu,[e("div",_u,[e("div",wu,o(x.winner.initial),1),e("div",$u,[c[23]||(c[23]=e("div",{class:"text-sm font-medium text-blue-900"},"🏆 Gagnant",-1)),e("div",ku,o(x.winner.name)+" • "+o(x.winner.city),1)])])]),e("div",Cu,[e("div",ju,[e("div",Au,o(x.sold_tickets),1),c[24]||(c[24]=e("div",{class:"text-xs text-gray-500"},"Participants",-1))]),e("div",Pu,[e("div",Mu,o(x.participation_rate)+"%",1),c[25]||(c[25]=e("div",{class:"text-xs text-gray-500"},"Participation",-1))])]),e("div",Du,[e("div",{class:"bg-blue-500 h-2 rounded-full",style:he({width:x.participation_rate+"%"})},null,4)]),e("div",Iu,[e("div",Tu,o(F(x.draw_date)),1),e("button",{onClick:O=>E(x),class:"text-purple-600 hover:text-purple-700 text-sm font-medium"}," Voir détails → ",8,Lu)])])]))),128))]),C.value>1?(t(),s("div",Eu,[e("button",{onClick:c[3]||(c[3]=x=>d.value=Math.max(1,d.value-1)),disabled:d.value===1,class:"px-4 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"}," Précédent ",8,Su),(t(!0),s(X,null,Y(f.value,x=>(t(),s(X,{key:x},[x!=="..."?(t(),s("button",{key:0,onClick:O=>d.value=x,class:J(["px-4 py-2 text-sm font-medium border rounded-md",d.value===x?"bg-purple-600 text-white border-purple-600":"text-gray-700 bg-white border-gray-300 hover:bg-gray-50"])},o(x),11,Vu)):(t(),s("span",Fu,"..."))],64))),128)),e("button",{onClick:c[4]||(c[4]=x=>d.value=Math.min(C.value,d.value+1)),disabled:d.value===C.value,class:"px-4 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"}," Suivant ",8,Ru)])):B("",!0)]))]),P.value?(t(),s("div",Nu,[e("div",qu,[e("div",{class:"fixed inset-0 bg-black bg-opacity-20",onClick:c[5]||(c[5]=x=>P.value=null)}),e("div",zu,[e("div",Uu,[e("div",Bu,[c[26]||(c[26]=e("h3",{class:"text-lg font-semibold"},"Détails de la tombola",-1)),e("button",{onClick:c[6]||(c[6]=x=>P.value=null),class:"text-gray-400 hover:text-gray-600"},[b(l(Ie),{class:"w-6 h-6"})])]),e("div",Ou,[e("div",Hu,[P.value.product.image_url?(t(),s("img",{key:0,src:P.value.product.image_url,alt:P.value.product.title,class:"w-24 h-24 rounded-lg object-cover"},null,8,Gu)):B("",!0),e("div",Ku,[e("h4",Zu,o(P.value.product.title),1),e("p",Wu,o(a(P.value.product.price)),1),e("p",Ju,o(P.value.product.category),1)])]),e("div",Xu,[c[27]||(c[27]=e("h5",{class:"font-medium text-blue-900 mb-2"},"🏆 Gagnant officiel",-1)),e("div",Yu,[e("div",Qu,o(P.value.winner.initial),1),e("div",null,[e("p",e0,o(P.value.winner.name),1),e("p",t0,o(P.value.winner.city),1),e("p",s0,"Ticket: "+o(P.value.winning_ticket),1)])])]),e("div",o0,[e("div",r0,[e("div",a0,o(P.value.sold_tickets),1),c[28]||(c[28]=e("div",{class:"text-sm text-gray-600"},"Tickets vendus",-1)),e("div",i0,"sur "+o(P.value.total_tickets),1)]),e("div",n0,[e("div",l0,o(P.value.participation_rate)+"%",1),c[29]||(c[29]=e("div",{class:"text-sm text-gray-600"},"Participation",-1))]),e("div",d0,[e("div",c0,o(r(P.value.total_revenue)),1),c[30]||(c[30]=e("div",{class:"text-sm text-gray-600"},"Revenus",-1))]),e("div",u0,[e("div",m0,o(P.value.verification_code),1),c[31]||(c[31]=e("div",{class:"text-sm text-gray-600"},"Code vérif.",-1))])]),e("div",null,[c[34]||(c[34]=e("h5",{class:"font-medium text-gray-900 mb-3"},"📅 Chronologie",-1)),e("div",p0,[e("p",null,[c[32]||(c[32]=e("strong",null,"Tirage :",-1)),K(" "+o(F(P.value.draw_date)),1)]),e("p",null,[c[33]||(c[33]=e("strong",null,"Revenus :",-1)),K(" "+o(a(P.value.total_revenue)),1)])])])])])])])])):B("",!0)]))}},v0={class:"min-h-screen bg-gray-50"},x0={class:"bg-white shadow-sm border-b"},f0={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},b0={class:"flex flex-col lg:flex-row gap-6"},h0={class:"flex-1"},y0={class:"relative"},_0={class:"lg:w-64"},w0=["value"],$0={class:"lg:w-48"},k0={class:"py-12"},C0={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},j0={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"},A0={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"},P0=["onClick"],M0={class:"relative overflow-hidden rounded-xl mb-4"},D0=["src","alt"],I0={class:"absolute top-3 right-3"},T0={class:"bg-[#0099cc] text-white px-3 py-1 rounded-full text-xs font-medium"},L0={key:0,class:"absolute top-3 left-3"},E0={class:"space-y-2"},S0={class:"font-bold text-lg text-black group-hover:text-[#0099cc] transition-colors"},V0={class:"text-gray-600 text-sm line-clamp-2"},F0={class:"flex items-center justify-between"},R0={class:"text-2xl font-bold text-[#0099cc]"},N0={class:"space-y-2"},q0={class:"flex justify-between text-sm"},z0={class:"font-medium"},U0={class:"w-full bg-gray-200 rounded-full h-2"},B0={key:0,class:"flex justify-between text-xs text-gray-500"},O0={key:2,class:"text-center py-16"},H0={class:"w-32 h-32 mx-auto mb-6 bg-gray-100 rounded-full flex items-center justify-center"},G0={class:"bg-gradient-to-r from-[#0099cc] to-cyan-600 py-16"},K0={class:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8"},Z0={class:"flex flex-col sm:flex-row gap-4 justify-center"},W0={__name:"Products",setup(h){const v=$e(),{get:A,loading:y}=de(),g=R(""),u=R(""),P=R("newest"),i=R([]),d=R([]),w=async()=>{try{const a=await A("/products");console.log("Response from /products:",a),a&&a.success&&a.data?(i.value=a.data.products||[],console.log("Products loaded:",i.value.length)):console.log("Response structure not as expected:",a)}catch(a){console.error("Erreur lors du chargement des produits:",a)}},C=async()=>{try{const a=await A("/categories");a&&a.success&&(d.value=a.data||[])}catch(a){console.error("Erreur lors du chargement des catégories:",a)}},T=te(()=>{let a=i.value;if(u.value&&(a=a.filter(r=>r.category_id==u.value)),g.value){const r=g.value.toLowerCase();a=a.filter(F=>F.name.toLowerCase().includes(r)||F.description.toLowerCase().includes(r))}return P.value==="price-asc"?a.sort((r,F)=>r.price-F.price):P.value==="price-desc"?a.sort((r,F)=>F.price-r.price):P.value==="popular"?a.sort((r,F)=>(F.active_lottery?.sold_tickets||0)-(r.active_lottery?.sold_tickets||0)):P.value==="newest"&&a.sort((r,F)=>new Date(F.created_at)-new Date(r.created_at)),a}),f=a=>new Intl.NumberFormat("fr-FR").format(a),$=a=>{if(!a.active_lottery)return 0;const r=a.active_lottery.sold_tickets||0,F=a.active_lottery.total_tickets||1;return Math.round(r/F*100)},D=a=>{v.push({name:"public.product.detail",params:{id:a.id}})},E=()=>{g.value="",u.value="",P.value="newest"};return ne(async()=>{await Promise.all([w(),C()])}),(a,r)=>{const F=me("router-link");return t(),s("div",v0,[r[16]||(r[16]=se('<section class="bg-gradient-to-br from-[#0099cc] via-[#0088bb] to-[#0077aa] text-white py-16" data-v-4ec350db><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8" data-v-4ec350db><div class="text-center" data-v-4ec350db><h1 class="text-4xl md:text-5xl font-bold mb-4" data-v-4ec350db> Découvrez nos <span class="text-white/80" data-v-4ec350db>produits incroyables</span></h1><p class="text-xl text-white/80 max-w-3xl mx-auto mb-8" data-v-4ec350db> Des smartphones dernière génération aux gadgets high-tech, tous nos produits sont garantis et à gagner facilement </p><div class="flex flex-wrap justify-center gap-4" data-v-4ec350db><div class="bg-white/10 backdrop-blur-sm rounded-full px-6 py-2" data-v-4ec350db><span class="text-sm font-medium" data-v-4ec350db>✓ Produits authentiques</span></div><div class="bg-white/10 backdrop-blur-sm rounded-full px-6 py-2" data-v-4ec350db><span class="text-sm font-medium" data-v-4ec350db>✓ Livraison gratuite</span></div><div class="bg-white/10 backdrop-blur-sm rounded-full px-6 py-2" data-v-4ec350db><span class="text-sm font-medium" data-v-4ec350db>✓ Garantie constructeur</span></div></div></div></div></section>',1)),e("section",x0,[e("div",f0,[e("div",b0,[e("div",h0,[e("div",y0,[b(l(Je),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),Z(e("input",{"onUpdate:modelValue":r[0]||(r[0]=n=>g.value=n),type:"text",placeholder:"Rechercher un produit...",class:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#0099cc] focus:border-transparent transition-all"},null,512),[[Q,g.value]])])]),e("div",_0,[Z(e("select",{"onUpdate:modelValue":r[1]||(r[1]=n=>u.value=n),class:"w-full py-3 px-4 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#0099cc] focus:border-transparent transition-all"},[r[3]||(r[3]=e("option",{value:""},"Toutes catégories",-1)),(t(!0),s(X,null,Y(d.value,n=>(t(),s("option",{key:n.id,value:n.id},o(n.name),9,w0))),128))],512),[[re,u.value]])]),e("div",$0,[Z(e("select",{"onUpdate:modelValue":r[2]||(r[2]=n=>P.value=n),class:"w-full py-3 px-4 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#0099cc] focus:border-transparent transition-all"},r[4]||(r[4]=[e("option",{value:"newest"},"Plus récents",-1),e("option",{value:"price-asc"},"Prix croissant",-1),e("option",{value:"price-desc"},"Prix décroissant",-1),e("option",{value:"popular"},"Plus populaires",-1)]),512),[[re,P.value]])])])])]),e("section",k0,[e("div",C0,[l(y)?(t(),s("div",j0,[(t(),s(X,null,Y(12,n=>e("div",{key:n,class:"animate-pulse"},r[5]||(r[5]=[se('<div class="bg-white rounded-2xl p-6 shadow-sm" data-v-4ec350db><div class="w-full h-48 bg-gray-200 rounded-xl mb-4" data-v-4ec350db></div><div class="h-4 bg-gray-200 rounded mb-2" data-v-4ec350db></div><div class="h-4 bg-gray-200 rounded w-2/3 mb-4" data-v-4ec350db></div><div class="h-6 bg-gray-200 rounded w-1/3" data-v-4ec350db></div></div>',1)]))),64))])):(t(),s("div",A0,[(t(!0),s(X,null,Y(T.value,n=>(t(),s("div",{key:n.id,onClick:c=>D(n),class:"bg-white rounded-2xl p-6 shadow-sm hover:shadow-xl transition-all duration-300 cursor-pointer group"},[e("div",M0,[e("img",{src:n.image_url||n.main_image||l(ye),alt:n.name,class:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300"},null,8,D0),e("div",I0,[e("span",T0,o(f(n.active_lottery?.ticket_price||n.ticket_price||1e3))+" FCFA ",1)]),n.featured?(t(),s("div",L0,r[6]||(r[6]=[e("span",{class:"bg-blue-500 text-white px-3 py-1 rounded-full text-xs font-medium"}," Vedette ",-1)]))):B("",!0)]),e("div",E0,[e("h3",S0,o(n.name),1),e("p",V0,o(n.description),1),e("div",F0,[e("div",R0,o(f(n.price)),1),r[7]||(r[7]=e("div",{class:"text-sm text-gray-500"}," Valeur du lot ",-1))]),e("div",N0,[e("div",q0,[r[8]||(r[8]=e("span",{class:"text-gray-600"},"Progression",-1)),e("span",z0,o($(n))+"%",1)]),e("div",U0,[e("div",{class:"bg-gradient-to-r from-[#0099cc] to-cyan-500 h-2 rounded-full transition-all duration-500",style:he({width:$(n)+"%"})},null,4)]),n.active_lottery?(t(),s("div",B0,[e("span",null,o(n.active_lottery.sold_tickets||0)+" vendus",1),e("span",null,o(n.active_lottery.total_tickets||1e3)+" tickets total",1)])):B("",!0)]),r[9]||(r[9]=e("button",{class:"w-full mt-4 bg-[#0099cc] hover:bg-[#0088bb] text-white font-medium py-3 rounded-xl transition-all duration-200 group-hover:scale-[1.02]"}," Participer maintenant ",-1))])],8,P0))),128))])),!l(y)&&T.value.length===0?(t(),s("div",O0,[e("div",H0,[b(l(Je),{class:"w-16 h-16 text-gray-400"})]),r[10]||(r[10]=e("h3",{class:"text-xl font-semibold text-gray-900 mb-2"},"Aucun produit trouvé",-1)),r[11]||(r[11]=e("p",{class:"text-gray-600 mb-6"},"Essayez de modifier vos critères de recherche",-1)),e("button",{onClick:E,class:"bg-[#0099cc] hover:bg-[#0088bb] text-white px-6 py-3 rounded-xl transition-colors"}," Réinitialiser les filtres ")])):B("",!0)])]),e("section",G0,[e("div",K0,[r[14]||(r[14]=e("h2",{class:"text-3xl md:text-4xl font-bold text-white mb-4"}," Prêt à tenter votre chance ? ",-1)),r[15]||(r[15]=e("p",{class:"text-xl text-blue-100 mb-8"}," Inscrivez-vous gratuitement et participez à vos premiers tirages ",-1)),e("div",Z0,[b(F,{to:"/register",class:"bg-white text-[#0099cc] px-8 py-4 rounded-xl font-semibold hover:bg-gray-50 transition-colors"},{default:ee(()=>r[12]||(r[12]=[K(" S'inscrire gratuitement ",-1)])),_:1,__:[12]}),b(F,{to:"/login",class:"border-2 border-white text-white px-8 py-4 rounded-xl font-semibold hover:bg-white hover:text-[#0099cc] transition-all"},{default:ee(()=>r[13]||(r[13]=[K(" Se connecter ",-1)])),_:1,__:[13]})])])])])}}},J0=Le(W0,[["__scopeId","data-v-4ec350db"]]),X0={class:"min-h-screen bg-gray-50"},Y0={key:0,class:"animate-pulse"},Q0={key:1,class:"bg-white"},em={class:"bg-gray-50 border-b"},tm={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4"},sm={class:"flex items-center space-x-2 text-sm"},om={class:"text-gray-900 font-medium"},rm={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16"},am={class:"grid grid-cols-1 lg:grid-cols-2 gap-12"},im={class:"space-y-4"},nm={class:"relative overflow-hidden rounded-2xl bg-gray-100"},lm=["src","alt"],dm={key:0,class:"absolute top-4 right-4"},cm={class:"bg-[#0099cc] text-white px-4 py-2 rounded-full font-semibold"},um={key:1,class:"absolute top-4 right-4"},mm={key:2,class:"absolute top-4 left-4"},pm={class:"grid grid-cols-4 gap-4"},gm=["src","alt"],vm={class:"space-y-8"},xm={class:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4"},fm={class:"flex items-center gap-4 mb-6"},bm={class:"bg-[#0099cc]/10 text-[#0099cc] px-4 py-2 rounded-full font-semibold"},hm={class:"flex items-center text-yellow-500"},ym={class:"bg-gradient-to-r from-[#0099cc]/5 to-[#0099cc]/10 rounded-2xl p-6"},_m={class:"text-center"},wm={class:"text-sm text-gray-600 mb-2"},$m={class:"text-4xl font-bold text-[#0099cc] mb-2"},km={key:0,class:"text-sm text-gray-600"},Cm={class:"font-semibold text-[#0099cc]"},jm={key:1,class:"text-sm text-gray-600"},Am={key:0,class:"space-y-4"},Pm={class:"space-y-3"},Mm={class:"flex justify-between text-sm"},Dm={class:"font-semibold"},Im={class:"w-full bg-gray-200 rounded-full h-4"},Tm={class:"flex justify-between text-sm"},Lm={class:"text-[#0099cc] font-medium"},Em={class:"text-gray-600"},Sm={key:1,class:"bg-gray-50 rounded-2xl p-6 space-y-4"},Vm={class:"grid grid-cols-2 gap-4 text-sm"},Fm={class:"font-semibold"},Rm={class:"font-semibold"},Nm={key:2,class:"bg-green-50 rounded-2xl p-6 space-y-4"},qm={class:"space-y-3"},zm={class:"flex items-center gap-3"},Um={class:"flex items-center gap-3"},Bm={class:"flex items-center gap-3"},Om={class:"flex items-center gap-3"},Hm={class:"space-y-4"},Gm={class:"grid grid-cols-2 gap-4"},Km=["title"],Zm={class:"flex items-center gap-6 pt-6 border-t"},Wm={class:"flex items-center gap-2 text-sm text-gray-600"},Jm={class:"flex items-center gap-2 text-sm text-gray-600"},Xm={class:"flex items-center gap-2 text-sm text-gray-600"},Ym={class:"mt-16 grid grid-cols-1 lg:grid-cols-3 gap-8"},Qm={class:"lg:col-span-2"},ep={class:"prose max-w-none text-gray-700"},tp={class:"text-lg leading-relaxed mb-6"},sp={class:"space-y-2 mb-6"},op={class:"flex items-start gap-3"},rp={class:"flex items-start gap-3"},ap={class:"flex items-start gap-3"},ip={class:"flex items-start gap-3"},np={class:"space-y-6"},lp={class:"bg-gray-50 rounded-2xl p-6"},dp={class:"space-y-3 text-sm"},cp={class:"flex justify-between"},up={class:"font-medium"},mp={class:"flex justify-between"},pp={class:"font-medium"},gp={class:"flex justify-between"},vp={class:"font-medium text-[#0099cc]"},xp={class:"bg-[#0099cc]/5 rounded-2xl p-6"},fp={class:"space-y-3 text-sm"},bp={class:"flex items-start gap-3"},hp={class:"flex items-start gap-3"},yp={class:"flex items-start gap-3"},_p={class:"flex items-start gap-3"},wp={class:"bg-gray-50 py-16"},$p={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},kp={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},Cp=["onClick"],jp={class:"relative overflow-hidden rounded-xl mb-4"},Ap=["src","alt"],Pp={class:"absolute top-2 right-2"},Mp={class:"bg-[#0099cc] text-white px-2 py-1 rounded-full text-xs"},Dp={class:"font-semibold text-gray-900 mb-2"},Ip={class:"text-lg font-bold text-[#0099cc]"},Tp={key:2,class:"min-h-screen flex items-center justify-center"},Lp={class:"text-center"},Ep={class:"w-32 h-32 mx-auto mb-6 bg-gray-100 rounded-full flex items-center justify-center"},Sp={class:"text-xl font-semibold text-gray-900 mb-2"},Vp={class:"text-gray-600 mb-6"},Fp={class:"space-y-3"},Rp={__name:"ProductDetail",setup(h){const v=qe(),A=$e(),{get:y}=de(),g=ve(),u=R(!0),P=R(null),i=R(null),d=te(()=>P.value&&P.value.activeLottery&&P.value.activeLottery.id),w=R([{id:2,name:"MacBook Pro M3",value:25e5,ticketPrice:2500,image:ye},{id:3,name:"PlayStation 5",value:65e4,ticketPrice:1e3,image:ye},{id:4,name:"AirPods Pro 2",value:35e4,ticketPrice:500,image:ye},{id:5,name:"Tesla Model Y",value:45e6,ticketPrice:5e4,image:ye}]),C=c=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XAF",minimumFractionDigits:0}).format(c).replace("XAF","FCFA"),T=c=>c?new Date(c).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Non définie",f=c=>({electronics:"Électronique",fashion:"Mode",automotive:"Automobile",home:"Maison"})[c]||"Autre",$=()=>"5j 12h",D=()=>{g.isAuthenticated?g.isCustomer?A.push({name:"customer.product.detail",params:{id:v.params.id}}):g.isMerchant?A.push({name:"merchant.dashboard"}):A.push({name:"customer.product.detail",params:{id:v.params.id}}):A.push({name:"login",query:{redirect:`/products/${v.params.id}`,action:"participate"}})},E=()=>{g.isAuthenticated?g.isCustomer?A.push({name:"customer.product.detail",params:{id:v.params.id}}):g.isMerchant?A.push({name:"merchant.dashboard"}):A.push({name:"customer.product.detail",params:{id:v.params.id}}):A.push({name:"login",query:{redirect:`/products/${v.params.id}`,action:"buy"}})},a=()=>{if(!g.isAuthenticated){A.push({name:"login",query:{redirect:`/products/${v.params.id}`,action:"wishlist"}});return}window.$toast&&window.$toast.success("Produit ajouté aux favoris !","Favoris")},r=()=>{navigator.share?navigator.share({title:P.value.name,text:P.value.description,url:window.location.href}):(navigator.clipboard.writeText(window.location.href),window.$toast&&window.$toast.success("Lien copié dans le presse-papier !","Partage"))},F=c=>{A.push({name:"public.product.detail",params:{id:c.id}})},n=async()=>{try{u.value=!0,i.value=null;const c=v.params.id,x=await y(`/products/${c}`);console.log("🔍 API Response structure:",x);let O=x.data?.product||x.product;if(console.log("📦 Product data:",O),!O)throw console.error("❌ Product data is null/undefined"),console.error("📋 Full response:",JSON.stringify(x,null,2)),new Error("Produit non trouvé dans la réponse API");const W=O.id%2===1;P.value={id:O.id,name:O.name||(W?"iPhone 15 Pro":"MacBook Pro M3"),description:O.description||(W?"Le dernier flagship d'Apple avec une caméra révolutionnaire et la puce A17 Pro":"Le MacBook Pro le plus puissant avec la puce M3 et un écran Liquid Retina XDR"),value:O.price||(W?75e4:12e5),ticketPrice:O.ticket_price||(W?1e3:0),image:O.image_url||O.main_image||ye,category:O.category?.name||"electronics",soldTickets:W?O.active_lottery?.sold_tickets||637:0,participants:W?O.active_lottery?.sold_tickets||637:0,drawDate:W?O.active_lottery?.end_date||new Date(Date.now()+10080*60*1e3):null,isNew:O.created_at?new Date(O.created_at)>new Date(Date.now()-720*60*60*1e3):!1,activeLottery:W?O.active_lottery||{id:1,sold_tickets:637,end_date:new Date(Date.now()+10080*60*1e3)}:null,lotteries:O.lotteries||[]},console.log("✅ Product loaded successfully:",P.value.name)}catch(c){console.error("Erreur lors du chargement du produit:",c),i.value=c.response?.data?.message||"Erreur lors du chargement du produit",P.value=null}finally{u.value=!1}};return ne(()=>{n()}),(c,x)=>{const O=me("router-link");return t(),s("div",X0,[u.value?(t(),s("div",Y0,x[0]||(x[0]=[se('<div class="bg-white"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16"><div class="grid grid-cols-1 lg:grid-cols-2 gap-12"><div class="h-96 bg-gray-200 rounded-2xl"></div><div class="space-y-4"><div class="h-8 bg-gray-200 rounded"></div><div class="h-4 bg-gray-200 rounded w-3/4"></div><div class="h-20 bg-gray-200 rounded"></div></div></div></div></div>',1)]))):P.value?(t(),s("div",Q0,[e("div",em,[e("div",tm,[e("nav",sm,[b(O,{to:"/",class:"text-gray-500 hover:text-gray-700"},{default:ee(()=>x[1]||(x[1]=[K("Accueil",-1)])),_:1,__:[1]}),x[3]||(x[3]=e("span",{class:"text-gray-400"},"/",-1)),b(O,{to:"/products",class:"text-gray-500 hover:text-gray-700"},{default:ee(()=>x[2]||(x[2]=[K("Produits",-1)])),_:1,__:[2]}),x[4]||(x[4]=e("span",{class:"text-gray-400"},"/",-1)),e("span",om,o(P.value.name),1)])])]),e("div",rm,[e("div",am,[e("div",im,[e("div",nm,[e("img",{src:P.value.image||l(ye),alt:P.value.name,class:"w-full h-96 lg:h-[500px] object-cover"},null,8,lm),d.value?(t(),s("div",dm,[e("span",cm,o(C(P.value.ticketPrice))+" / ticket ",1)])):(t(),s("div",um,x[5]||(x[5]=[e("span",{class:"bg-green-600 text-white px-4 py-2 rounded-full font-semibold"}," Achat direct ",-1)]))),P.value.isNew?(t(),s("div",mm,x[6]||(x[6]=[e("span",{class:"bg-[#0099cc] text-white px-4 py-2 rounded-full font-semibold"}," Nouveau ",-1)]))):B("",!0)]),e("div",pm,[(t(),s(X,null,Y(4,W=>e("div",{key:W,class:"relative overflow-hidden rounded-xl bg-gray-100 cursor-pointer hover:ring-2 hover:ring-[#0099cc] transition-all"},[e("img",{src:P.value.image||l(ye),alt:`${P.value.name} - Vue ${W}`,class:"w-full h-20 object-cover"},null,8,gm)])),64))])]),e("div",vm,[e("div",null,[e("h1",xm,o(P.value.name),1),e("div",fm,[e("span",bm,o(f(P.value.category)),1),e("div",hm,[(t(),s(X,null,Y(5,W=>b(l(Ye),{key:W,class:"h-5 w-5 fill-current"})),64)),x[7]||(x[7]=e("span",{class:"ml-2 text-gray-600"},"(4.8)",-1))])])]),e("div",ym,[e("div",_m,[e("div",wm,o(d.value?"Valeur du produit":"Prix"),1),e("div",$m,o(C(P.value.value)),1),d.value?(t(),s("div",km,[x[8]||(x[8]=K(" Prix d'un ticket : ",-1)),e("span",Cm,o(C(P.value.ticketPrice)),1)])):(t(),s("div",jm,x[9]||(x[9]=[e("span",{class:"font-semibold text-green-600"},"Disponible à l'achat direct",-1)])))])]),d.value?(t(),s("div",Am,[x[11]||(x[11]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Progression du tirage",-1)),e("div",Pm,[e("div",Mm,[x[10]||(x[10]=e("span",{class:"text-gray-600"},"Tickets vendus",-1)),e("span",Dm,o(P.value.soldTickets)+" / 1000",1)]),e("div",Im,[e("div",{class:"bg-gradient-to-r from-[#0099cc] to-[#0088bb] h-4 rounded-full transition-all duration-500",style:he({width:Math.round(P.value.soldTickets/1e3*100)+"%"})},null,4)]),e("div",Tm,[e("span",Lm,o(Math.round(P.value.soldTickets/1e3*100))+"% vendu",1),e("span",Em,o(1e3-P.value.soldTickets)+" tickets restants",1)])])])):B("",!0),d.value?(t(),s("div",Sm,[x[16]||(x[16]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Informations du tirage",-1)),e("div",Vm,[e("div",null,[x[12]||(x[12]=e("span",{class:"text-gray-600"},"Date limite :",-1)),e("p",Fm,o(T(P.value.drawDate)),1)]),e("div",null,[x[13]||(x[13]=e("span",{class:"text-gray-600"},"Participants :",-1)),e("p",Rm,o(P.value.participants||0),1)]),x[14]||(x[14]=e("div",null,[e("span",{class:"text-gray-600"},"Chances de gagner :"),e("p",{class:"font-semibold text-[#0099cc]"},"1 sur 1000")],-1)),x[15]||(x[15]=e("div",null,[e("span",{class:"text-gray-600"},"Statut :"),e("span",{class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-[#0099cc]/10 text-[#0099cc]"}," En cours ")],-1))])])):(t(),s("div",Nm,[x[21]||(x[21]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Achat direct",-1)),e("div",qm,[e("div",zm,[b(l(ie),{class:"h-5 w-5 text-green-600"}),x[17]||(x[17]=e("span",{class:"text-sm text-gray-700"},"Disponible immédiatement",-1))]),e("div",Um,[b(l(ie),{class:"h-5 w-5 text-green-600"}),x[18]||(x[18]=e("span",{class:"text-sm text-gray-700"},"Pas de tirage au sort",-1))]),e("div",Bm,[b(l(ie),{class:"h-5 w-5 text-green-600"}),x[19]||(x[19]=e("span",{class:"text-sm text-gray-700"},"Livraison garantie",-1))]),e("div",Om,[b(l(ie),{class:"h-5 w-5 text-green-600"}),x[20]||(x[20]=e("span",{class:"text-sm text-gray-700"},"Paiement sécurisé",-1))])])])),e("div",Hm,[d.value?(t(),s("button",{key:0,onClick:D,class:"w-full bg-[#0099cc] hover:bg-[#0088bb] text-white font-bold py-4 px-8 rounded-xl text-lg transition-all duration-200 hover:scale-[1.02] shadow-lg hover:shadow-xl"},o(l(g).isAuthenticated?`🍀 Participer maintenant - ${C(P.value.ticketPrice)}`:`Se connecter pour participer - ${C(P.value.ticketPrice)}`),1)):(t(),s("button",{key:1,onClick:E,class:"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-4 px-8 rounded-xl text-lg transition-all duration-200 hover:scale-[1.02] shadow-lg hover:shadow-xl"},o(l(g).isAuthenticated?`🛒 Acheter maintenant - ${C(P.value.value)}`:`Se connecter pour acheter - ${C(P.value.value)}`),1)),e("div",Gm,[e("button",{onClick:a,class:"flex items-center justify-center gap-2 border-2 border-gray-200 hover:border-[#0099cc] text-gray-700 hover:text-[#0099cc] py-3 rounded-xl transition-all",title:l(g).isAuthenticated?"Ajouter aux favoris":"Se connecter pour ajouter aux favoris"},[b(l(us),{class:"h-5 w-5"}),K(" "+o((l(g).isAuthenticated,"Favoris")),1)],8,Km),e("button",{onClick:r,class:"flex items-center justify-center gap-2 border-2 border-gray-200 hover:border-[#0099cc] text-gray-700 hover:text-[#0099cc] py-3 rounded-xl transition-all"},[b(l(gs),{class:"h-5 w-5"}),x[22]||(x[22]=K(" Partager ",-1))])])]),e("div",Zm,[e("div",Wm,[b(l(ct),{class:"h-5 w-5 text-[#0099cc]"}),x[23]||(x[23]=e("span",null,"Produit garanti",-1))]),e("div",Jm,[b(l(yt),{class:"h-5 w-5 text-[#0099cc]"}),x[24]||(x[24]=e("span",null,"Livraison gratuite",-1))]),e("div",Xm,[b(l(Ft),{class:"h-5 w-5 text-[#0099cc]"}),x[25]||(x[25]=e("span",null,"Authentique",-1))])])])]),e("div",Ym,[e("div",Qm,[x[32]||(x[32]=e("h2",{class:"text-2xl font-bold text-gray-900 mb-6"},"Description",-1)),e("div",ep,[e("p",tp,o(P.value.description),1),x[30]||(x[30]=e("h3",{class:"text-xl font-semibold text-gray-900 mb-4"},"Caractéristiques principales",-1)),e("ul",sp,[e("li",op,[b(l(ie),{class:"h-5 w-5 text-[#0099cc] mt-0.5"}),x[26]||(x[26]=e("span",null,"Produit neuf avec garantie constructeur",-1))]),e("li",rp,[b(l(ie),{class:"h-5 w-5 text-[#0099cc] mt-0.5"}),x[27]||(x[27]=e("span",null,"Livraison express partout au Cameroun",-1))]),e("li",ap,[b(l(ie),{class:"h-5 w-5 text-[#0099cc] mt-0.5"}),x[28]||(x[28]=e("span",null,"Service client disponible 24h/7j",-1))]),e("li",ip,[b(l(ie),{class:"h-5 w-5 text-[#0099cc] mt-0.5"}),x[29]||(x[29]=e("span",null,"Certification d'authenticité incluse",-1))])]),x[31]||(x[31]=se('<h3 class="text-xl font-semibold text-gray-900 mb-4">Comment participer ?</h3><div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8"><div class="text-center p-4 bg-[#0099cc]/5 rounded-xl"><div class="w-12 h-12 bg-[#0099cc] text-white rounded-full flex items-center justify-center mx-auto mb-3 font-bold text-lg">1</div><h4 class="font-semibold mb-2">Achetez vos tickets</h4><p class="text-sm text-gray-600">Choisissez le nombre de tickets que vous souhaitez</p></div><div class="text-center p-4 bg-[#0099cc]/5 rounded-xl"><div class="w-12 h-12 bg-[#0099cc] text-white rounded-full flex items-center justify-center mx-auto mb-3 font-bold text-lg">2</div><h4 class="font-semibold mb-2">Attendez le tirage</h4><p class="text-sm text-gray-600">Le tirage se fait automatiquement à la date prévue</p></div><div class="text-center p-4 bg-[#0099cc]/5 rounded-xl"><div class="w-12 h-12 bg-[#0099cc] text-white rounded-full flex items-center justify-center mx-auto mb-3 font-bold text-lg">3</div><h4 class="font-semibold mb-2">Récupérez votre lot</h4><p class="text-sm text-gray-600">Si vous gagnez, nous vous livrons gratuitement</p></div></div>',2))])]),e("div",np,[e("div",lp,[x[36]||(x[36]=e("h3",{class:"font-semibold text-gray-900 mb-4"},"Statistiques",-1)),e("div",dp,[e("div",cp,[x[33]||(x[33]=e("span",{class:"text-gray-600"},"Participants uniques",-1)),e("span",up,o(P.value.participants||0),1)]),e("div",mp,[x[34]||(x[34]=e("span",{class:"text-gray-600"},"Tickets moyens/personne",-1)),e("span",pp,o(Math.round(P.value.soldTickets/Math.max(P.value.participants||1,1))),1)]),e("div",gp,[x[35]||(x[35]=e("span",{class:"text-gray-600"},"Temps restant",-1)),e("span",vp,o($()),1)])])]),e("div",xp,[x[41]||(x[41]=e("h3",{class:"font-semibold text-gray-900 mb-4"},"Pourquoi Koumbaya ?",-1)),e("div",fp,[e("div",bp,[b(l(ie),{class:"h-4 w-4 text-[#0099cc] mt-0.5"}),x[37]||(x[37]=e("span",null,"Tirages transparents et vérifiables",-1))]),e("div",hp,[b(l(ie),{class:"h-4 w-4 text-[#0099cc] mt-0.5"}),x[38]||(x[38]=e("span",null,"Paiement 100% sécurisé",-1))]),e("div",yp,[b(l(ie),{class:"h-4 w-4 text-[#0099cc] mt-0.5"}),x[39]||(x[39]=e("span",null,"Support client réactif",-1))]),e("div",_p,[b(l(ie),{class:"h-4 w-4 text-[#0099cc] mt-0.5"}),x[40]||(x[40]=e("span",null,"Plus de 10 000+ gagnants",-1))])])])])])]),e("section",wp,[e("div",$p,[x[42]||(x[42]=e("h2",{class:"text-2xl font-bold text-gray-900 mb-8"},"Produits similaires",-1)),e("div",kp,[(t(!0),s(X,null,Y(w.value,W=>(t(),s("div",{key:W.id,onClick:H=>F(W),class:"bg-white rounded-2xl p-6 shadow-sm hover:shadow-lg transition-all cursor-pointer"},[e("div",jp,[e("img",{src:W.image||l(ye),alt:W.name,class:"w-full h-40 object-cover"},null,8,Ap),e("div",Pp,[e("span",Mp,o(C(W.ticketPrice)),1)])]),e("h3",Dp,o(W.name),1),e("div",Ip,o(C(W.value)),1)],8,Cp))),128))])])])])):(t(),s("div",Tp,[e("div",Lp,[e("div",Ep,[b(l(be),{class:"w-16 h-16 text-gray-400"})]),e("h3",Sp,o(i.value?"Erreur de chargement":"Produit introuvable"),1),e("p",Vp,o(i.value||"Ce produit n'existe pas ou a été supprimé"),1),e("div",Fp,[i.value?(t(),s("button",{key:0,onClick:n,class:"bg-[#0099cc] hover:bg-[#0088bb] text-white px-6 py-3 rounded-xl transition-colors mr-4"}," Réessayer ")):B("",!0),b(O,{to:"/products",class:"bg-[#0099cc] hover:bg-[#0088bb] text-white px-6 py-3 rounded-xl transition-colors"},{default:ee(()=>x[43]||(x[43]=[K(" Retour aux produits ",-1)])),_:1,__:[43]})])])]))])}}},Np={class:"min-h-screen bg-white"},qp={class:"py-20"},zp={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Up={class:"grid grid-cols-1 lg:grid-cols-3 gap-8 lg:gap-12"},Bp={class:"relative text-center group"},Op={class:"relative mx-auto w-32 h-32 mb-8"},Hp={class:"hidden lg:block absolute -right-16 top-1/2 transform -translate-y-1/2"},Gp={class:"mt-6 bg-[#0099cc]/5 rounded-xl p-4"},Kp={class:"flex items-center justify-center gap-2 text-[#0099cc] font-medium"},Zp={class:"relative text-center group"},Wp={class:"relative mx-auto w-32 h-32 mb-8"},Jp={class:"hidden lg:block absolute -right-16 top-1/2 transform -translate-y-1/2"},Xp={class:"mt-6 bg-[#0099cc]/5 rounded-xl p-4"},Yp={class:"flex items-center justify-center gap-2 text-[#0099cc] font-medium"},Qp={class:"relative text-center group"},e1={class:"mt-6 bg-yellow-50 rounded-xl p-4"},t1={class:"flex items-center justify-center gap-2 text-yellow-700 font-medium"},s1={class:"py-20 bg-gray-50"},o1={class:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8"},r1={class:"grid grid-cols-1 md:grid-cols-2 gap-12 items-center"},a1={class:"space-y-6"},i1={class:"flex gap-4"},n1={class:"flex-shrink-0"},l1={class:"w-12 h-12 bg-[#0099cc] rounded-full flex items-center justify-center"},d1={class:"flex gap-4"},c1={class:"flex-shrink-0"},u1={class:"w-12 h-12 bg-[#0099cc] rounded-full flex items-center justify-center"},m1={class:"flex gap-4"},p1={class:"flex-shrink-0"},g1={class:"w-12 h-12 bg-[#0099cc] rounded-full flex items-center justify-center"},v1={class:"flex gap-4"},x1={class:"flex-shrink-0"},f1={class:"w-12 h-12 bg-[#0099cc] rounded-full flex items-center justify-center"},b1={class:"relative"},h1={class:"bg-white rounded-2xl p-8 shadow-xl border border-gray-100"},y1={class:"text-center mb-6"},_1={class:"w-20 h-20 bg-[#0099cc]/10 rounded-full flex items-center justify-center mx-auto mb-4"},w1={class:"space-y-4"},$1={class:"bg-gray-50 rounded-lg p-4"},k1={class:"flex items-center justify-between mb-2"},C1={class:"bg-gray-50 rounded-lg p-4"},j1={class:"flex items-center justify-between mb-2"},A1={class:"bg-[#0099cc]/5 rounded-lg p-4 border border-[#0099cc]/20"},P1={class:"flex items-center justify-between mb-2"},M1={class:"py-20"},D1={class:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8"},I1={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"},T1={class:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100"},L1={class:"w-16 h-16 bg-[#0099cc]/10 rounded-full flex items-center justify-center mx-auto mb-6"},E1={class:"space-y-3 text-gray-600"},S1={class:"flex items-center gap-3"},V1={class:"flex items-center gap-3"},F1={class:"flex items-center gap-3"},R1={class:"flex items-center gap-3"},N1={class:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100"},q1={class:"w-16 h-16 bg-[#0099cc]/10 rounded-full flex items-center justify-center mx-auto mb-6"},z1={class:"space-y-3 text-gray-600"},U1={class:"flex items-center gap-3"},B1={class:"flex items-center gap-3"},O1={class:"flex items-center gap-3"},H1={class:"flex items-center gap-3"},G1={class:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100"},K1={class:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-6"},Z1={class:"space-y-3 text-gray-600"},W1={class:"flex items-center gap-3"},J1={class:"flex items-center gap-3"},X1={class:"flex items-center gap-3"},Y1={class:"flex items-center gap-3"},Q1={class:"py-20 bg-gray-50"},eg={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8"},tg={class:"space-y-6"},sg=["onClick"],og={class:"text-lg font-semibold text-gray-900"},rg={class:"py-20 bg-gradient-to-r from-[#0099cc] to-[#0088bb]"},ag={class:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8"},ig={class:"flex flex-col sm:flex-row gap-4 justify-center"},ng={__name:"HowItWorks",setup(h){const v=R(null),A=R([{question:"Comment puis-je être sûr que le tirage est équitable ?",answer:"Notre système utilise un générateur de nombres aléatoires (RNG) certifié et audité régulièrement par des organismes indépendants. Tous les tirages sont enregistrés et vérifiables publiquement."},{question:"Que se passe-t-il si je gagne ?",answer:"Vous êtes immédiatement notifié par email et SMS. Notre équipe vous contacte dans les 24h pour organiser la livraison gratuite de votre lot. Vous recevez aussi un certificat d'authenticité."},{question:"Puis-je acheter plusieurs tickets pour le même produit ?",answer:"Oui, absolument ! Plus vous achetez de tickets, plus vous augmentez vos chances de gagner. Il n'y a pas de limite au nombre de tickets que vous pouvez acheter."},{question:"Les produits sont-ils vraiment authentiques ?",answer:"Tous nos produits sont 100% authentiques et neufs. Nous travaillons directement avec les distributeurs officiels et fournissons un certificat d'authenticité avec chaque lot."},{question:"Combien de temps ai-je pour réclamer mon lot ?",answer:"Vous avez 30 jours pour réclamer votre lot après le tirage. Passé ce délai, un nouveau tirage est organisé avec les tickets non gagnants."},{question:"Y a-t-il des frais cachés ?",answer:"Aucun frais caché ! Le prix affiché est le prix final. La livraison est gratuite partout au Gabon, et il n'y a aucun frais supplémentaire."}]),y=g=>{v.value=v.value===g?null:g};return(g,u)=>{const P=me("router-link");return t(),s("div",Np,[u[47]||(u[47]=e("section",{class:"bg-gradient-to-br from-[#0099cc] via-[#0088bb] to-[#0099cc] text-white py-20"},[e("div",{class:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8"},[e("h1",{class:"text-4xl md:text-6xl font-bold mb-6"}," Comment ça marche ? "),e("p",{class:"text-xl md:text-2xl text-[#0099cc]/70 leading-relaxed max-w-3xl mx-auto"}," Découvrez comment obtenir des produits incroyables à prix réduit en quelques clics seulement. C'est simple, transparent et malin ! ")])],-1)),e("section",qp,[e("div",zp,[u[12]||(u[12]=e("div",{class:"text-center mb-16"},[e("h2",{class:"text-3xl md:text-4xl font-bold text-gray-900 mb-4"}," 3 étapes pour acheter malin "),e("p",{class:"text-xl text-gray-600 max-w-3xl mx-auto"}," Notre système de tombola est conçu pour être simple et équitable pour tous les participants ")],-1)),e("div",Up,[e("div",Bp,[e("div",Op,[u[0]||(u[0]=e("div",{class:"absolute inset-0 bg-[#0099cc]/10 rounded-full"},null,-1)),u[1]||(u[1]=e("div",{class:"absolute inset-2 bg-[#0099cc] rounded-full flex items-center justify-center group-hover:scale-110 transition-transform duration-300"},[e("span",{class:"text-4xl font-bold text-white"},"1")],-1)),e("div",Hp,[b(l(He),{class:"h-8 w-8 text-[#0099cc]/30"})])]),u[3]||(u[3]=e("h3",{class:"text-2xl font-bold text-gray-900 mb-4"},"Choisissez votre produit",-1)),u[4]||(u[4]=e("p",{class:"text-gray-600 leading-relaxed"}," Parcourez notre catalogue de produits authentiques : smartphones, ordinateurs, voitures, montres de luxe et bien plus encore. ",-1)),e("div",Gp,[e("div",Kp,[b(l(Se),{class:"h-5 w-5"}),u[2]||(u[2]=e("span",null,"Plus de 100 produits disponibles",-1))])])]),e("div",Zp,[e("div",Wp,[u[5]||(u[5]=e("div",{class:"absolute inset-0 bg-[#0099cc]/10 rounded-full"},null,-1)),u[6]||(u[6]=e("div",{class:"absolute inset-2 bg-[#0099cc] rounded-full flex items-center justify-center group-hover:scale-110 transition-transform duration-300"},[e("span",{class:"text-4xl font-bold text-white"},"2")],-1)),e("div",Jp,[b(l(He),{class:"h-8 w-8 text-[#0099cc]/30"})])]),u[8]||(u[8]=e("h3",{class:"text-2xl font-bold text-gray-900 mb-4"},"Achetez vos tickets",-1)),u[9]||(u[9]=e("p",{class:"text-gray-600 leading-relaxed"}," Chaque produit a un prix de ticket unique. Plus vous achetez de tickets, plus vous augmentez vos chances d'obtenir le produit à prix réduit. ",-1)),e("div",Xp,[e("div",Yp,[b(l(Te),{class:"h-5 w-5"}),u[7]||(u[7]=e("span",null,"Tickets à partir de 500 FCFA",-1))])])]),e("div",Qp,[u[11]||(u[11]=se('<div class="relative mx-auto w-32 h-32 mb-8"><div class="absolute inset-0 bg-yellow-100 rounded-full"></div><div class="absolute inset-2 bg-yellow-500 rounded-full flex items-center justify-center group-hover:scale-110 transition-transform duration-300"><span class="text-4xl font-bold text-white">3</span></div></div><h3 class="text-2xl font-bold text-gray-900 mb-4">Obtenez votre produit</h3><p class="text-gray-600 leading-relaxed"> Le tirage se fait automatiquement quand tous les tickets sont vendus. Si vous obtenez le produit, nous vous livrons gratuitement ! </p>',3)),e("div",e1,[e("div",t1,[b(l(Ue),{class:"h-5 w-5"}),u[10]||(u[10]=e("span",null,"Livraison gratuite partout",-1))])])])])])]),e("section",s1,[e("div",o1,[u[25]||(u[25]=e("div",{class:"text-center mb-16"},[e("h2",{class:"text-3xl md:text-4xl font-bold text-gray-900 mb-4"}," Comment fonctionne notre tombola ? "),e("p",{class:"text-xl text-gray-600"}," Notre système de tombola est 100% équitable et transparent ")],-1)),e("div",r1,[e("div",a1,[e("div",i1,[e("div",n1,[e("div",l1,[b(l(ie),{class:"h-6 w-6 text-white"})])]),u[13]||(u[13]=e("div",null,[e("h3",{class:"text-xl font-semibold text-gray-900 mb-2"},"Tirage automatique"),e("p",{class:"text-gray-600"}," Dès que tous les tickets sont vendus, le tirage se lance automatiquement. Aucune intervention humaine possible. ")],-1))]),e("div",d1,[e("div",c1,[e("div",u1,[b(l(je),{class:"h-6 w-6 text-white"})])]),u[14]||(u[14]=e("div",null,[e("h3",{class:"text-xl font-semibold text-gray-900 mb-2"},"Transparence totale"),e("p",{class:"text-gray-600"}," Tous les tirages sont enregistrés et vérifiables. Vous pouvez consulter l'historique à tout moment. ")],-1))]),e("div",m1,[e("div",p1,[e("div",g1,[b(l(ct),{class:"h-6 w-6 text-white"})])]),u[15]||(u[15]=e("div",null,[e("h3",{class:"text-xl font-semibold text-gray-900 mb-2"},"Sécurité garantie"),e("p",{class:"text-gray-600"}," Notre algorithme de tirage est certifié et audité régulièrement pour assurer une équité parfaite. ")],-1))]),e("div",v1,[e("div",x1,[e("div",f1,[b(l(nt),{class:"h-6 w-6 text-white"})])]),u[16]||(u[16]=e("div",null,[e("h3",{class:"text-xl font-semibold text-gray-900 mb-2"},"Notification immédiate"),e("p",{class:"text-gray-600"}," Les participants sélectionnés sont notifiés instantanément par email et SMS. Plus besoin d'attendre ! ")],-1))])]),e("div",b1,[e("div",h1,[e("div",y1,[e("div",_1,[b(l(is),{class:"h-10 w-10 text-[#0099cc]"})]),u[17]||(u[17]=e("h3",{class:"text-xl font-semibold text-gray-900"},"Algorithme RNG",-1)),u[18]||(u[18]=e("p",{class:"text-gray-600 text-sm mt-2"},"Générateur de nombres aléatoires certifié",-1))]),e("div",w1,[e("div",$1,[e("div",k1,[u[19]||(u[19]=e("span",{class:"text-sm text-gray-600"},"Étape 1",-1)),b(l(ie),{class:"h-4 w-4 text-[#0099cc]"})]),u[20]||(u[20]=e("div",{class:"text-sm font-medium text-gray-900"},"Collecte des tickets vendus",-1))]),e("div",C1,[e("div",j1,[u[21]||(u[21]=e("span",{class:"text-sm text-gray-600"},"Étape 2",-1)),b(l(ie),{class:"h-4 w-4 text-[#0099cc]"})]),u[22]||(u[22]=e("div",{class:"text-sm font-medium text-gray-900"},"Génération nombre aléatoire",-1))]),e("div",A1,[e("div",P1,[u[23]||(u[23]=e("span",{class:"text-sm text-[#0099cc]"},"Étape 3",-1)),b(l(xt),{class:"h-4 w-4 text-[#0099cc]"})]),u[24]||(u[24]=e("div",{class:"text-sm font-medium text-gray-900"},"Désignation du participant sélectionné",-1))])])])])])])]),e("section",M1,[e("div",D1,[u[41]||(u[41]=e("div",{class:"text-center mb-16"},[e("h2",{class:"text-3xl md:text-4xl font-bold text-gray-900 mb-4"}," Paiement sécurisé et livraison "),e("p",{class:"text-xl text-gray-600"}," Vos transactions sont protégées par les meilleurs systèmes de sécurité ")],-1)),e("div",I1,[e("div",T1,[e("div",L1,[b(l(Rt),{class:"h-8 w-8 text-[#0099cc]"})]),u[30]||(u[30]=e("h3",{class:"text-xl font-semibold text-gray-900 text-center mb-4"},"Moyens de paiement",-1)),e("ul",E1,[e("li",S1,[b(l(ie),{class:"h-4 w-4 text-[#0099cc]"}),u[26]||(u[26]=e("span",null,"Mobile Money (MTN, Orange)",-1))]),e("li",V1,[b(l(ie),{class:"h-4 w-4 text-[#0099cc]"}),u[27]||(u[27]=e("span",null,"Carte bancaire Visa/Mastercard",-1))]),e("li",F1,[b(l(ie),{class:"h-4 w-4 text-[#0099cc]"}),u[28]||(u[28]=e("span",null,"Virement bancaire",-1))]),e("li",R1,[b(l(ie),{class:"h-4 w-4 text-[#0099cc]"}),u[29]||(u[29]=e("span",null,"Portefeuille électronique",-1))])])]),e("div",N1,[e("div",q1,[b(l(Nt),{class:"h-8 w-8 text-[#0099cc]"})]),u[35]||(u[35]=e("h3",{class:"text-xl font-semibold text-gray-900 text-center mb-4"},"Sécurité des données",-1)),e("ul",z1,[e("li",U1,[b(l(ie),{class:"h-4 w-4 text-[#0099cc]"}),u[31]||(u[31]=e("span",null,"Chiffrement SSL 256 bits",-1))]),e("li",B1,[b(l(ie),{class:"h-4 w-4 text-[#0099cc]"}),u[32]||(u[32]=e("span",null,"Conformité PCI DSS",-1))]),e("li",O1,[b(l(ie),{class:"h-4 w-4 text-[#0099cc]"}),u[33]||(u[33]=e("span",null,"Authentification 2 facteurs",-1))]),e("li",H1,[b(l(ie),{class:"h-4 w-4 text-[#0099cc]"}),u[34]||(u[34]=e("span",null,"Protection anti-fraude",-1))])])]),e("div",G1,[e("div",K1,[b(l(yt),{class:"h-8 w-8 text-yellow-500"})]),u[40]||(u[40]=e("h3",{class:"text-xl font-semibold text-gray-900 text-center mb-4"},"Livraison gratuite",-1)),e("ul",Z1,[e("li",W1,[b(l(ie),{class:"h-4 w-4 text-[#0099cc]"}),u[36]||(u[36]=e("span",null,"Livraison partout au Gabon",-1))]),e("li",J1,[b(l(ie),{class:"h-4 w-4 text-[#0099cc]"}),u[37]||(u[37]=e("span",null,"Suivi en temps réel",-1))]),e("li",X1,[b(l(ie),{class:"h-4 w-4 text-[#0099cc]"}),u[38]||(u[38]=e("span",null,"Délai 24-48h en ville",-1))]),e("li",Y1,[b(l(ie),{class:"h-4 w-4 text-[#0099cc]"}),u[39]||(u[39]=e("span",null,"Assurance colis incluse",-1))])])])])])]),e("section",Q1,[e("div",eg,[u[42]||(u[42]=e("div",{class:"text-center mb-16"},[e("h2",{class:"text-3xl md:text-4xl font-bold text-gray-900 mb-4"}," Questions fréquentes "),e("p",{class:"text-xl text-gray-600"}," Trouvez rapidement les réponses à vos questions ")],-1)),e("div",tg,[(t(!0),s(X,null,Y(A.value,(i,d)=>(t(),s("div",{key:d,class:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden"},[e("button",{onClick:w=>y(d),class:"w-full px-8 py-6 text-left flex items-center justify-between hover:bg-gray-50 transition-colors"},[e("span",og,o(i.question),1),b(l(dt),{class:J(["h-6 w-6 text-gray-400 transition-transform",v.value===d?"rotate-180":""])},null,8,["class"])],8,sg),Z(e("div",{class:"px-8 pb-6 text-gray-600 leading-relaxed"},o(i.answer),513),[[Ht,v.value===d]])]))),128))])])]),e("section",rg,[e("div",ag,[u[45]||(u[45]=e("h2",{class:"text-3xl md:text-4xl font-bold text-white mb-6"}," Prêt à acheter malin ? ",-1)),u[46]||(u[46]=e("p",{class:"text-xl text-[#0099cc]/70 mb-8"}," Rejoignez les milliers de participants qui ont déjà acheté malin ",-1)),e("div",ig,[b(P,{to:"/products",class:"bg-white text-[#0099cc] px-8 py-4 rounded-xl font-semibold hover:bg-gray-50 transition-colors shadow-lg"},{default:ee(()=>u[43]||(u[43]=[K(" Voir les produits ",-1)])),_:1,__:[43]}),b(P,{to:"/register",class:"border-2 border-white text-white px-8 py-4 rounded-xl font-semibold hover:bg-white hover:text-[#0099cc] transition-all"},{default:ee(()=>u[44]||(u[44]=[K(" S'inscrire gratuitement ",-1)])),_:1,__:[44]})])])])])}}},lg={class:"min-h-screen bg-white"},dg={class:"py-20"},cg={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},ug={class:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16"},mg={class:"text-center group"},pg={class:"w-20 h-20 bg-[#0099cc]/10 rounded-full flex items-center justify-center mx-auto mb-6 group-hover:bg-[#0099cc] transition-colors"},gg={class:"text-center group"},vg={class:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6 group-hover:bg-blue-500 transition-colors"},xg={class:"text-center group"},fg={class:"w-20 h-20 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-6 group-hover:bg-yellow-500 transition-colors"},bg={class:"py-20 bg-gray-50"},hg={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},yg={class:"grid grid-cols-1 lg:grid-cols-2 gap-16"},_g={class:"bg-white rounded-2xl p-8 shadow-lg"},wg={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},$g={key:0,class:"text-red-500 text-sm mt-1"},kg={key:0,class:"text-red-500 text-sm mt-1"},Cg={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},jg={key:0,class:"text-red-500 text-sm mt-1"},Ag={key:0,class:"text-red-500 text-sm mt-1"},Pg={class:"flex items-start gap-3"},Mg={for:"agree",class:"text-sm text-gray-600"},Dg=["disabled"],Ig={key:0,class:"flex items-center justify-center gap-2"},Tg={key:1},Lg={class:"space-y-8"},Eg={class:"bg-white rounded-2xl p-8 shadow-lg"},Sg={class:"space-y-6"},Vg={class:"flex gap-4"},Fg={class:"flex-shrink-0"},Rg={class:"w-12 h-12 bg-[#0099cc]/10 rounded-full flex items-center justify-center"},Ng={class:"flex gap-4"},qg={class:"flex-shrink-0"},zg={class:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center"},Ug={class:"bg-gradient-to-br from-[#0099cc] to-cyan-600 rounded-2xl p-8 text-white"},Bg={class:"grid grid-cols-2 gap-4"},Og={href:"tel:+24107123456",class:"flex items-center gap-3 bg-white/10 backdrop-blur-sm rounded-xl p-4 hover:bg-white/20 transition-colors"},Hg={href:"https://wa.me/24107123456",target:"_blank",class:"flex items-center gap-3 bg-white/10 backdrop-blur-sm rounded-xl p-4 hover:bg-white/20 transition-colors"},Gg={class:"bg-gray-100 rounded-2xl p-8"},Kg={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},Zg={class:"flex items-center justify-center min-h-screen px-4 text-center"},Wg={class:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle bg-white shadow-xl rounded-2xl transform transition-all"},Jg={class:"text-center"},Xg={class:"w-16 h-16 bg-[#0099cc]/10 rounded-full flex items-center justify-center mx-auto mb-4"},Yg={__name:"Contact",setup(h){const v=R(!1),A=R(!1),y=le({name:"",email:"",phone:"",subject:"",message:"",agree:!1}),g=le({name:"",email:"",subject:"",message:""}),u=()=>{let i=!0;return Object.keys(g).forEach(d=>{g[d]=""}),y.name.trim()?y.name.trim().length<2&&(g.name="Le nom doit contenir au moins 2 caractères",i=!1):(g.name="Le nom est requis",i=!1),y.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(y.email)||(g.email="Format d'email invalide",i=!1):(g.email="L'email est requis",i=!1),y.subject||(g.subject="Veuillez sélectionner un sujet",i=!1),y.message.trim()?y.message.trim().length<10&&(g.message="Le message doit contenir au moins 10 caractères",i=!1):(g.message="Le message est requis",i=!1),i},P=async()=>{if(u()){v.value=!0;try{await new Promise(i=>setTimeout(i,1500)),Object.keys(y).forEach(i=>{i==="agree"?y[i]=!1:y[i]=""}),A.value=!0,window.$toast&&window.$toast.success("Message envoyé avec succès !","Contact")}catch{window.$toast&&window.$toast.error("Erreur lors de l'envoi du message","Erreur")}finally{v.value=!1}}};return(i,d)=>{const w=me("router-link");return t(),s("div",lg,[d[37]||(d[37]=e("section",{class:"bg-gradient-to-br from-[#0099cc] via-blue-500 to-cyan-600 text-white py-20"},[e("div",{class:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8"},[e("h1",{class:"text-4xl md:text-6xl font-bold mb-6"}," Contactez-nous "),e("p",{class:"text-xl md:text-2xl text-blue-100 leading-relaxed"}," Notre équipe est là pour répondre à toutes vos questions. N'hésitez pas à nous contacter ! ")])],-1)),e("section",dg,[e("div",cg,[e("div",ug,[e("div",mg,[e("div",pg,[b(l(Fe),{class:"h-10 w-10 text-[#0099cc] group-hover:text-white transition-colors"})]),d[8]||(d[8]=se('<h3 class="text-xl font-semibold text-gray-900 mb-2">Téléphone</h3><p class="text-gray-600 mb-4">Appelez-nous directement</p><div class="space-y-2"><a href="tel:+24107123456" class="block text-[#0099cc] hover:text-[#0088bb] font-medium"> +241 07 12 34 56 </a><a href="tel:+24106987654" class="block text-[#0099cc] hover:text-[#0088bb] font-medium"> +241 06 98 76 54 </a></div><p class="text-sm text-gray-500 mt-2">Lun - Ven : 8h - 20h</p>',4))]),e("div",gg,[e("div",vg,[b(l(Ze),{class:"h-10 w-10 text-blue-500 group-hover:text-white transition-colors"})]),d[9]||(d[9]=se('<h3 class="text-xl font-semibold text-gray-900 mb-2">Email</h3><p class="text-gray-600 mb-4">Écrivez-nous un message</p><div class="space-y-2"><a href="mailto:contact@koumbaya.ga" class="block text-blue-600 hover:text-blue-700 font-medium"> contact@koumbaya.ga </a><a href="mailto:support@koumbaya.ga" class="block text-blue-600 hover:text-blue-700 font-medium"> support@koumbaya.ga </a></div><p class="text-sm text-gray-500 mt-2">Réponse sous 24h</p>',4))]),e("div",xg,[e("div",fg,[b(l(At),{class:"h-10 w-10 text-yellow-500 group-hover:text-white transition-colors"})]),d[10]||(d[10]=e("h3",{class:"text-xl font-semibold text-gray-900 mb-2"},"WhatsApp",-1)),d[11]||(d[11]=e("p",{class:"text-gray-600 mb-4"},"Chat en temps réel",-1)),d[12]||(d[12]=e("a",{href:"https://wa.me/24107123456",target:"_blank",class:"inline-block bg-[#0099cc] text-white px-6 py-3 rounded-xl font-medium hover:bg-[#0088bb] transition-colors"}," Chatter maintenant ",-1)),d[13]||(d[13]=e("p",{class:"text-sm text-gray-500 mt-2"},"Disponible 24h/7j",-1))])])])]),e("section",bg,[e("div",hg,[e("div",yg,[e("div",_g,[d[24]||(d[24]=e("div",{class:"mb-8"},[e("h2",{class:"text-2xl md:text-3xl font-bold text-gray-900 mb-4"}," Envoyez-nous un message "),e("p",{class:"text-gray-600"}," Remplissez le formulaire ci-dessous et nous vous répondrons dans les plus brefs délais. ")],-1)),e("form",{onSubmit:ge(P,["prevent"]),class:"space-y-6"},[e("div",wg,[e("div",null,[d[14]||(d[14]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Nom complet * ",-1)),Z(e("input",{"onUpdate:modelValue":d[0]||(d[0]=C=>y.name=C),type:"text",required:"",class:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#0099cc] focus:border-transparent transition-all",style:{color:"#5f5f5f"},placeholder:"Votre nom"},null,512),[[Q,y.name]]),g.name?(t(),s("div",$g,o(g.name),1)):B("",!0)]),e("div",null,[d[15]||(d[15]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Adresse email * ",-1)),Z(e("input",{"onUpdate:modelValue":d[1]||(d[1]=C=>y.email=C),type:"email",required:"",class:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#0099cc] focus:border-transparent transition-all",style:{color:"#5f5f5f"},placeholder:"votre@email.com"},null,512),[[Q,y.email]]),g.email?(t(),s("div",kg,o(g.email),1)):B("",!0)])]),e("div",Cg,[e("div",null,[d[16]||(d[16]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Numéro de téléphone ",-1)),Z(e("input",{"onUpdate:modelValue":d[2]||(d[2]=C=>y.phone=C),type:"tel",class:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#0099cc] focus:border-transparent transition-all",style:{color:"#5f5f5f"},placeholder:"+241 XX XX XX XX"},null,512),[[Q,y.phone]])]),e("div",null,[d[18]||(d[18]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Sujet * ",-1)),Z(e("select",{"onUpdate:modelValue":d[3]||(d[3]=C=>y.subject=C),required:"",class:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#0099cc] focus:border-transparent transition-all",style:{color:"#5f5f5f"}},d[17]||(d[17]=[se('<option value="">Choisir un sujet</option><option value="support">Support technique</option><option value="billing">Facturation</option><option value="product">Question sur un produit</option><option value="tombola">Question sur une tombola</option><option value="delivery">Livraison</option><option value="partnership">Partenariat</option><option value="other">Autre</option>',8)]),512),[[re,y.subject]]),g.subject?(t(),s("div",jg,o(g.subject),1)):B("",!0)])]),e("div",null,[d[19]||(d[19]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Message * ",-1)),Z(e("textarea",{"onUpdate:modelValue":d[4]||(d[4]=C=>y.message=C),required:"",rows:"6",class:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all resize-none",style:{color:"#5f5f5f"},placeholder:"Décrivez votre demande en détail..."},null,512),[[Q,y.message]]),g.message?(t(),s("div",Ag,o(g.message),1)):B("",!0)]),e("div",Pg,[Z(e("input",{"onUpdate:modelValue":d[5]||(d[5]=C=>y.agree=C),type:"checkbox",id:"agree",required:"",class:"mt-1 h-4 w-4 text-[#0099cc] border-gray-200 rounded focus:ring-[#0099cc]"},null,512),[[Me,y.agree]]),e("label",Mg,[d[21]||(d[21]=K(" J'accepte que mes données soient utilisées pour traiter ma demande selon notre ",-1)),b(w,{to:"/privacy",class:"text-[#0099cc] hover:text-[#0088bb]"},{default:ee(()=>d[20]||(d[20]=[K("politique de confidentialité",-1)])),_:1,__:[20]}),d[22]||(d[22]=K(". ",-1))])]),e("button",{type:"submit",disabled:v.value,class:"w-full bg-[#0099cc] hover:bg-[#0088bb] disabled:opacity-50 text-white font-semibold py-4 rounded-xl transition-all duration-200 hover:scale-[1.02] shadow-lg hover:shadow-xl"},[v.value?(t(),s("span",Ig,d[23]||(d[23]=[e("div",{class:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"},null,-1),K(" Envoi en cours... ",-1)]))):(t(),s("span",Tg,"Envoyer le message"))],8,Dg)],32)]),e("div",Lg,[e("div",Eg,[d[27]||(d[27]=e("h3",{class:"text-2xl font-bold text-gray-900 mb-6"},"Nos bureaux",-1)),e("div",Sg,[e("div",Vg,[e("div",Fg,[e("div",Rg,[b(l(vt),{class:"h-6 w-6 text-[#0099cc]"})])]),d[25]||(d[25]=e("div",null,[e("h4",{class:"font-semibold text-gray-900 mb-2"},"Libreville (Siège social)"),e("p",{class:"text-gray-600 mb-2"},[K(" Boulevard Triomphal, Centre-ville"),e("br"),K(" Face à l'Hôtel Intercontinental"),e("br"),K(" BP 1234 Libreville, Gabon ")]),e("div",{class:"text-sm text-gray-500"},[e("p",null,"Lun - Ven : 8h00 - 18h00"),e("p",null,"Sam : 9h00 - 15h00")])],-1))]),e("div",Ng,[e("div",qg,[e("div",zg,[b(l(vt),{class:"h-6 w-6 text-blue-500"})])]),d[26]||(d[26]=e("div",null,[e("h4",{class:"font-semibold text-gray-900 mb-2"},"Port-Gentil"),e("p",{class:"text-gray-600 mb-2"},[K(" Avenue Savorgnan de Brazza"),e("br"),K(" Centre Commercial Delta"),e("br"),K(" BP 5678 Port-Gentil, Gabon ")]),e("div",{class:"text-sm text-gray-500"},[e("p",null,"Lun - Ven : 8h30 - 17h30"),e("p",null,"Sam : 9h00 - 14h00")])],-1))])])]),e("div",Ug,[d[30]||(d[30]=e("h3",{class:"text-2xl font-bold mb-4"},"Besoin d'une réponse rapide ?",-1)),d[31]||(d[31]=e("p",{class:"text-blue-100 mb-6"}," Notre équipe de support est disponible pour vous aider immédiatement. ",-1)),e("div",Bg,[e("a",Og,[b(l(Fe),{class:"h-6 w-6"}),d[28]||(d[28]=e("div",{class:"text-left"},[e("div",{class:"font-medium"},"Appelez-nous"),e("div",{class:"text-sm text-blue-100"},"24h/7j")],-1))]),e("a",Hg,[b(l(At),{class:"h-6 w-6"}),d[29]||(d[29]=e("div",{class:"text-left"},[e("div",{class:"font-medium"},"WhatsApp"),e("div",{class:"text-sm text-blue-100"},"Chat live")],-1))])])]),e("div",Gg,[d[33]||(d[33]=e("h3",{class:"text-xl font-semibold text-gray-900 mb-4"},"Consultez d'abord notre FAQ",-1)),d[34]||(d[34]=e("p",{class:"text-gray-600 mb-6"}," La plupart des questions trouvent leur réponse dans notre section FAQ. ",-1)),b(w,{to:"/how-it-works",class:"inline-flex items-center gap-2 bg-white text-gray-900 px-6 py-3 rounded-xl font-medium hover:bg-gray-50 transition-colors shadow-sm"},{default:ee(()=>[b(l(qt),{class:"h-5 w-5"}),d[32]||(d[32]=K(" Voir les questions fréquentes ",-1))]),_:1,__:[32]})])])])])]),A.value?(t(),s("div",Kg,[e("div",Zg,[e("div",{class:"fixed inset-0 bg-black bg-opacity-20 transition-opacity",onClick:d[6]||(d[6]=C=>A.value=!1)}),e("div",Wg,[e("div",Jg,[e("div",Xg,[b(l(Ce),{class:"h-8 w-8 text-[#0099cc]"})]),d[35]||(d[35]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-2"},"Message envoyé !",-1)),d[36]||(d[36]=e("p",{class:"text-gray-600 mb-6"}," Merci pour votre message. Nous vous répondrons dans les plus brefs délais. ",-1)),e("button",{onClick:d[7]||(d[7]=C=>A.value=!1),class:"bg-[#0099cc] hover:bg-[#0088bb] text-white px-6 py-3 rounded-xl font-medium transition-colors"}," Parfait ")])])])])):B("",!0)])}}};function Qg(){const{get:h,loading:v,error:A}=de(),y=R({ticketsBought:0,lotteriesParticipated:0,totalSpent:0,prizesWon:0}),g=R([]),u=R([]),P=te(()=>[{label:"Tickets achetés",value:y.value.ticketsBought.toString(),color:"bg-blue-500",icon:"TicketIcon"},{label:"Tombolas participées",value:y.value.lotteriesParticipated.toString(),color:"bg-[#0099cc]",icon:"GiftIcon"},{label:"Total dépensé",value:C(y.value.totalSpent),color:"bg-yellow-500",icon:"CurrencyDollarIcon"},{label:"Prix gagnés",value:y.value.prizesWon.toString(),color:"bg-purple-500",icon:"TrophyIcon"}]),i=async()=>{try{const $=await h("/tickets/my-tickets");if($&&$.success){const D=Array.isArray($.data)?$.data:[],E=new Set;let a=0,r=0;D.forEach(F=>{F.lottery_id&&E.add(F.lottery_id),a+=parseFloat(F.amount||0),F.status==="won"&&r++}),y.value={ticketsBought:D.length,lotteriesParticipated:E.size,totalSpent:a,prizesWon:r}}}catch($){console.error("Erreur lors du chargement des statistiques:",$),y.value={ticketsBought:0,lotteriesParticipated:0,totalSpent:0,prizesWon:0}}},d=async()=>{try{const $=await h("/tickets/my-tickets?limit=5&order=desc");$&&$.success&&Array.isArray($.data)?g.value=$.data.map(D=>({id:D.id,product:{id:D.product?.id||D.lottery?.product?.id,title:D.product?.name||D.lottery?.product?.name||"Produit inconnu",image:D.product?.image_url||D.lottery?.product?.image_url||"/images/products/placeholder.jpg"},quantity:D.quantity||1,total_price:C(D.amount||0),status:D.status||"active",purchased_at:new Date(D.created_at)})):g.value=[]}catch($){console.error("Erreur lors du chargement des tickets récents:",$),g.value=[]}},w=async()=>{try{const $=await h("/lotteries/active?limit=6");$&&$.success&&Array.isArray($.data)?u.value=$.data.map(D=>({id:D.id,product:{id:D.product?.id,title:D.product?.name||"Produit inconnu",price:C(D.product?.price||0),image:D.product?.image_url||D.product?.main_image||"/images/products/placeholder.jpg"},progress:Math.round(D.sold_tickets/D.total_tickets*100)||0,draw_date:new Date(D.end_date)})):u.value=[]}catch($){console.error("Erreur lors du chargement des tombolas actives:",$),u.value=[]}},C=$=>{const D=parseFloat($)||0;return D>=1e6?(D/1e6).toFixed(1)+"M FCFA":D>=1e3?(D/1e3).toFixed(0)+"k FCFA":D.toLocaleString()+" FCFA"};return{stats:P,recentTickets:g,activeLotteries:u,loading:v,error:A,loadDashboardData:async()=>{await Promise.all([i(),d(),w()])},loadDashboardStats:i,loadRecentTickets:d,loadActiveLotteries:w,formatCurrency:C,formatDate:$=>new Intl.DateTimeFormat("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"}).format($)}}const ev={class:"mb-8"},tv={class:"text-3xl font-bold text-gray-900"},sv={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},ov={class:"flex items-center"},rv={class:"ml-4"},av={class:"text-sm font-medium text-gray-600"},iv={class:"text-2xl font-bold text-gray-900"},nv={key:0,class:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4"},lv={class:"flex"},dv={class:"ml-3"},cv={class:"mt-1 text-sm text-red-700"},uv={class:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 mb-8"},mv={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},pv={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},gv={class:"bg-white p-6 rounded-lg shadow-sm border border-gray-200"},vv={class:"flex justify-between items-center mb-4"},xv={key:0,class:"text-center py-8"},fv={key:1,class:"space-y-4"},bv=["src","alt"],hv={class:"flex-1"},yv={class:"font-medium text-gray-900"},_v={class:"text-sm text-gray-600"},wv={class:"text-xs text-gray-500"},$v={class:"bg-white p-6 rounded-lg shadow-sm border border-gray-200"},kv={class:"flex justify-between items-center mb-4"},Cv={class:"space-y-4"},jv={class:"flex items-start space-x-4"},Av=["src","alt"],Pv={class:"flex-1"},Mv={class:"font-medium text-gray-900 mb-1"},Dv={class:"text-sm text-gray-600 mb-2"},Iv={class:"mb-3"},Tv={class:"flex justify-between text-sm text-gray-600 mb-1"},Lv={class:"w-full bg-gray-200 rounded-full h-2"},Ev={class:"flex justify-between items-center"},Sv={class:"text-xs text-gray-500"},Vv={__name:"Dashboard",setup(h){const v=ve(),{stats:A,recentTickets:y,activeLotteries:g,loading:u,error:P,loadDashboardData:i,formatDate:d}=Qg(),w={TicketIcon:Te,GiftIcon:Ue,CurrencyDollarIcon:De,TrophyIcon:Ne},C=te(()=>A.value.map($=>({...$,icon:w[$.icon]||Te}))),T=$=>({active:"Actif",won:"Gagné",lost:"Perdu",pending:"En attente"})[$]||$,f=async()=>{await i()};return ne(async()=>{await i()}),($,D)=>{const E=me("router-link");return t(),s("div",null,[e("div",ev,[e("h1",tv," Bonjour "+o(l(v).user?.first_name)+" ! ",1),D[0]||(D[0]=e("p",{class:"mt-2 text-gray-600"}," Voici un aperçu de vos activités sur la plateforme ",-1))]),e("div",sv,[l(u)?(t(),s(X,{key:0},Y(4,a=>e("div",{key:a,class:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 animate-pulse"},D[1]||(D[1]=[se('<div class="flex items-center"><div class="p-3 rounded-lg bg-gray-200"></div><div class="ml-4 flex-1"><div class="h-4 bg-gray-200 rounded w-20 mb-2"></div><div class="h-6 bg-gray-200 rounded w-16"></div></div></div>',1)]))),64)):(t(!0),s(X,{key:1},Y(C.value,a=>(t(),s("div",{key:a.label,class:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow duration-200"},[e("div",ov,[e("div",{class:J(["p-3 rounded-lg",a.color])},[(t(),oe(we(a.icon),{class:"w-6 h-6 text-white"}))],2),e("div",rv,[e("p",av,o(a.label),1),e("p",iv,o(a.value),1)])])]))),128))]),l(P)&&!l(u)?(t(),s("div",nv,[e("div",lv,[e("div",dv,[D[2]||(D[2]=e("h3",{class:"text-sm font-medium text-red-800"},"Erreur de chargement",-1)),e("p",cv,o(l(P)),1),e("button",{onClick:f,class:"mt-2 text-sm bg-red-100 hover:bg-red-200 text-red-800 px-3 py-1 rounded"}," Réessayer ")])])])):B("",!0),e("div",uv,[D[6]||(D[6]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Actions rapides",-1)),e("div",mv,[b(E,{to:"/customer/products",class:"flex items-center p-4 border border-gray-200 rounded-lg hover:border-[#0099cc] hover:bg-blue-50 transition-colors"},{default:ee(()=>[b(l(Se),{class:"w-8 h-8 text-[#0099cc] mr-3"}),D[3]||(D[3]=e("div",null,[e("p",{class:"font-medium text-gray-900"},"Acheter des tickets"),e("p",{class:"text-sm text-gray-600"},"Découvrir les produits disponibles")],-1))]),_:1,__:[3]}),b(E,{to:"/customer/tickets",class:"flex items-center p-4 border border-gray-200 rounded-lg hover:border-black hover:bg-gray-50 transition-colors"},{default:ee(()=>[b(l(Te),{class:"w-8 h-8 text-black mr-3"}),D[4]||(D[4]=e("div",null,[e("p",{class:"font-medium text-gray-900"},"Mes tickets"),e("p",{class:"text-sm text-gray-600"},"Voir mes participations")],-1))]),_:1,__:[4]}),b(E,{to:"/customer/profile",class:"flex items-center p-4 border border-gray-200 rounded-lg hover:border-[#0099cc] hover:bg-blue-50 transition-colors"},{default:ee(()=>[b(l(Pe),{class:"w-8 h-8 text-[#0099cc] mr-3"}),D[5]||(D[5]=e("div",null,[e("p",{class:"font-medium text-gray-900"},"Mon profil"),e("p",{class:"text-sm text-gray-600"},"Gérer mes informations")],-1))]),_:1,__:[5]})])]),e("div",pv,[e("div",gv,[e("div",vv,[D[8]||(D[8]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Mes derniers tickets",-1)),b(E,{to:"/customer/tickets",class:"text-sm text-[#0099cc] hover:text-blue-700"},{default:ee(()=>D[7]||(D[7]=[K(" Voir tout ",-1)])),_:1,__:[7]})]),l(y).length===0?(t(),s("div",xv,[b(l(Te),{class:"w-12 h-12 text-gray-400 mx-auto mb-4"}),D[10]||(D[10]=e("p",{class:"text-gray-600"},"Aucun ticket acheté pour le moment",-1)),b(E,{to:"/customer/products",class:"inline-block mt-2 text-[#0099cc] hover:text-blue-700"},{default:ee(()=>D[9]||(D[9]=[K(" Acheter des tickets ",-1)])),_:1,__:[9]})])):(t(),s("div",fv,[(t(!0),s(X,null,Y(l(y),a=>(t(),s("div",{key:a.id,class:"flex items-center space-x-4 p-3 border border-gray-200 rounded-lg"},[e("img",{src:a.product.image,alt:a.product.title,class:"w-12 h-12 rounded-lg object-cover"},null,8,bv),e("div",hv,[e("p",yv,o(a.product.title),1),e("p",_v,o(a.quantity)+" ticket"+o(a.quantity>1?"s":"")+" - "+o(a.total_price)+" FCFA ",1),e("p",wv,o(l(d)(a.purchased_at)),1)]),e("span",{class:J(["px-2 py-1 text-xs font-medium rounded-full",a.status==="active"?"bg-[#0099cc] text-white":a.status==="won"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"])},o(T(a.status)),3)]))),128))]))]),e("div",$v,[e("div",kv,[D[12]||(D[12]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Tombolas populaires",-1)),b(E,{to:"/customer/products",class:"text-sm text-[#0099cc] hover:text-blue-700"},{default:ee(()=>D[11]||(D[11]=[K(" Voir tout ",-1)])),_:1,__:[11]})]),e("div",Cv,[(t(!0),s(X,null,Y(l(g),a=>(t(),s("div",{key:a.id,class:"border border-gray-200 rounded-lg p-4 hover:border-[#0099cc] transition-colors"},[e("div",jv,[e("img",{src:a.product.image,alt:a.product.title,class:"w-16 h-16 rounded-lg object-cover"},null,8,Av),e("div",Pv,[e("h4",Mv,o(a.product.title),1),e("p",Dv,o(a.product.price)+" FCFA",1),e("div",Iv,[e("div",Tv,[D[13]||(D[13]=e("span",null,"Progression",-1)),e("span",null,o(a.progress)+"%",1)]),e("div",Lv,[e("div",{class:"bg-[#0099cc] h-2 rounded-full transition-all duration-300",style:he({width:a.progress+"%"})},null,4)])]),e("div",Ev,[e("span",Sv," Tirage le "+o(l(d)(a.draw_date)),1),b(E,{to:`/customer/products/${a.product.id}`,class:"text-sm bg-[#0099cc] text-white px-3 py-1 rounded-md hover:bg-blue-700 transition-colors"},{default:ee(()=>D[14]||(D[14]=[K(" Participer ",-1)])),_:2,__:[14]},1032,["to"])])])])]))),128))])])])])}}},Fv={class:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 mb-6"},Rv={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},Nv=["value"],qv={key:0,class:"text-center py-12"},zv={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},Uv={class:"relative"},Bv=["src","alt"],Ov={key:0,class:"absolute top-4 right-4"},Hv={class:"p-6"},Gv={class:"mb-4"},Kv={class:"text-xl font-semibold text-gray-900 mb-2"},Zv={class:"text-gray-600 text-sm"},Wv={class:"flex justify-between items-center mb-4"},Jv={class:"text-2xl font-bold text-blue-600"},Xv={class:"text-right"},Yv={class:"text-lg font-semibold text-gray-900"},Qv={class:"mb-4"},e2={class:"flex justify-between text-sm text-gray-600 mb-1"},t2={class:"w-full bg-gray-200 rounded-full h-2"},s2={key:0,class:"mb-4 text-sm text-gray-600"},o2={class:"flex items-center mb-1"},r2={class:"flex items-center"},a2={key:2,class:"text-center py-12"},i2={key:3,class:"text-center mt-8"},n2={__name:"Products",setup(h){const{get:v,loading:A}=de(),y=R(!0),g=R([]),u=R([]),P=R({search:"",category:"",maxPrice:""}),i=te(()=>{let a=g.value;if(P.value.search){const r=P.value.search.toLowerCase();a=a.filter(F=>F.title.toLowerCase().includes(r)||F.description.toLowerCase().includes(r))}if(P.value.category&&(a=a.filter(r=>r.category_id==P.value.category)),P.value.maxPrice){const r=parseInt(P.value.maxPrice);a=a.filter(F=>F.price<=r)}return a}),d=async()=>{try{const a=await v("/products");console.log("Products API response:",a),a&&a.success&&a.data&&a.data.products?g.value=a.data.products||[]:g.value=a.data||[]}catch(a){console.error("Erreur lors du chargement des produits:",a),g.value=[]}},w=async()=>{try{const a=await v("/categories");u.value=a.data||[]}catch(a){console.error("Erreur lors du chargement des catégories:",a)}},C=()=>{P.value={search:"",category:"",maxPrice:""}},T=a=>{if(!a)return"";const r=new Date(a);return new Intl.DateTimeFormat("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"}).format(r)},f=a=>{if(!a)return"";const r=new Date,n=new Date(a)-r,c=Math.floor(n/(1e3*60*60*24));if(c>7)return`Plus de ${c} jours restants`;if(c>0)return`${c} jour${c>1?"s":""} restant${c>1?"s":""}`;{const x=Math.floor(n/36e5);return x>0?`${x}h restantes`:"Se termine bientôt"}},$=a=>a==null||isNaN(a)?"0":new Intl.NumberFormat("fr-FR").format(Number(a)),D=a=>{if(!a.lottery)return 0;const r=a.lottery.sold_tickets||0,F=a.lottery.total_tickets||1;return Math.round(r/F*100)},E=async()=>{console.log("Loading more products..."),y.value=!1};return ne(async()=>{await Promise.all([d(),w()])}),(a,r)=>{const F=me("router-link");return t(),s("div",null,[r[17]||(r[17]=e("div",{class:"mb-8"},[e("h1",{class:"text-3xl font-bold text-gray-900"},"Produits disponibles"),e("p",{class:"mt-2 text-gray-600"},"Découvrez tous les produits que vous pouvez gagner")],-1)),e("div",Fv,[e("div",Rv,[e("div",null,[r[3]||(r[3]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Rechercher",-1)),Z(e("input",{"onUpdate:modelValue":r[0]||(r[0]=n=>P.value.search=n),type:"text",placeholder:"Nom du produit...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[Q,P.value.search]])]),e("div",null,[r[5]||(r[5]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Catégorie",-1)),Z(e("select",{"onUpdate:modelValue":r[1]||(r[1]=n=>P.value.category=n),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},[r[4]||(r[4]=e("option",{value:""},"Toutes les catégories",-1)),(t(!0),s(X,null,Y(u.value,n=>(t(),s("option",{key:n.id,value:n.id},o(n.name),9,Nv))),128))],512),[[re,P.value.category]])]),e("div",null,[r[7]||(r[7]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Prix max",-1)),Z(e("select",{"onUpdate:modelValue":r[2]||(r[2]=n=>P.value.maxPrice=n),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},r[6]||(r[6]=[se('<option value="">Tous les prix</option><option value="100000">100,000 FCFA</option><option value="500000">500,000 FCFA</option><option value="1000000">1,000,000 FCFA</option><option value="2000000">2,000,000+ FCFA</option>',5)]),512),[[re,P.value.maxPrice]])]),e("div",{class:"flex items-end"},[e("button",{onClick:C,class:"w-full px-4 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors"}," Réinitialiser ")])])]),l(A)?(t(),s("div",qv,r[8]||(r[8]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"},null,-1),e("p",{class:"mt-4 text-gray-600"},"Chargement des produits...",-1)]))):(t(),s("div",zv,[(t(!0),s(X,null,Y(i.value,n=>(t(),s("div",{key:n.id,class:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-lg transition-all duration-300"},[e("div",Uv,[e("img",{src:n.image||"/images/products/placeholder.jpg",alt:n.title,class:"w-full h-48 object-cover"},null,8,Bv),r[9]||(r[9]=e("div",{class:"absolute top-4 left-4"},[e("span",{class:J(["px-2 py-1 text-xs font-medium rounded-full","bg-blue-100 text-blue-800"])}," Actif ")],-1)),n.featured?(t(),s("div",Ov,[b(l(Ye),{class:"w-6 h-6 text-yellow-500 fill-current"})])):B("",!0)]),e("div",Hv,[e("div",Gv,[e("h3",Kv,o(n.title),1),e("p",Zv,o(n.description),1)]),e("div",Wv,[e("div",null,[e("span",Jv,o($(n.price))+" FCFA",1),r[10]||(r[10]=e("p",{class:"text-sm text-gray-500"},"Valeur du produit",-1))]),e("div",Xv,[e("span",Yv,o($(n.lottery?.ticket_price||1e3))+" FCFA",1),r[11]||(r[11]=e("p",{class:"text-sm text-gray-500"},"Par ticket",-1))])]),e("div",Qv,[e("div",e2,[r[12]||(r[12]=e("span",null,"Progression",-1)),e("span",null,o(D(n))+"%",1)]),e("div",t2,[e("div",{class:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:he({width:D(n)+"%"})},null,4)])]),n.lottery?(t(),s("div",s2,[e("div",o2,[b(l(Vt),{class:"w-4 h-4 mr-2"}),e("span",null,"Tirage le "+o(T(n.lottery.draw_date)),1)]),e("div",r2,[b(l(Ke),{class:"w-4 h-4 mr-2"}),e("span",null,o(f(n.lottery.draw_date)),1)])])):B("",!0),b(F,{to:`/customer/products/${n.id}`,class:"block w-full text-center bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors"},{default:ee(()=>r[13]||(r[13]=[K(" Voir le produit ",-1)])),_:2,__:[13]},1032,["to"])])]))),128))])),!l(A)&&i.value.length===0?(t(),s("div",a2,[b(l(Se),{class:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r[14]||(r[14]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"Aucun produit trouvé",-1)),r[15]||(r[15]=e("p",{class:"text-gray-600"},"Essayez de modifier vos filtres de recherche",-1))])):B("",!0),!l(A)&&i.value.length>0&&y.value?(t(),s("div",i2,[e("button",{onClick:E,class:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-blue-600 bg-blue-50 hover:bg-blue-100"},[r[16]||(r[16]=K(" Charger plus de produits ",-1)),b(l(it),{class:"ml-2 w-5 h-5"})])])):B("",!0)])}}},ft=(h="Image",v=400,A=300,y="#e2e8f0",g="#64748b")=>{const u=Math.min(v,A)/15,P=`
    <svg width="${v}" height="${A}" xmlns="http://www.w3.org/2000/svg">
      <rect width="100%" height="100%" fill="${y}"/>
      <text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" 
            fill="${g}" font-family="Arial, sans-serif" font-size="${u}" font-weight="bold">
        ${h}
      </text>
    </svg>
  `;return`data:image/svg+xml;base64,${btoa(P)}`},l2=(h,v="Image",A=400,y=300)=>{if(!h)return ft(v,A,y);const g=h.image_url||h.main_image||h.image||h.avatar_url||h.images&&h.images[0];return g?g.startsWith("http")||g.startsWith("/")?g:`/storage/${g}`:ft(v,A,y)},d2=(h,v="Image non disponible")=>{console.log("Image loading error, using placeholder");const A=h.target,y=A.naturalWidth||A.width||400,g=A.naturalHeight||A.height||300;A.src=ft(v,y,g)},c2={key:0,class:"text-center py-12"},u2={key:1,class:"max-w-7xl mx-auto"},m2={class:"mb-6"},p2={class:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8"},g2={class:"relative"},v2=["src","alt"],x2={class:"absolute top-4 left-4"},f2={key:0,class:"absolute top-4 right-4"},b2={key:0,class:"grid grid-cols-4 gap-2 mt-4"},h2=["src","alt","onClick"],y2={class:"mb-6"},_2={class:"text-3xl font-bold text-gray-900 mb-4"},w2={class:"text-lg text-gray-600 mb-4"},$2={class:"flex items-center space-x-4 mb-6"},k2={class:"text-center"},C2={class:"text-3xl font-bold text-blue-600"},j2={class:"text-sm text-gray-500"},A2={key:0,class:"text-center"},P2={class:"text-xl font-semibold text-gray-900"},M2={key:0,class:"mb-6"},D2={class:"flex justify-between text-sm text-gray-600 mb-2"},I2={class:"w-full bg-gray-200 rounded-full h-3"},T2={class:"flex justify-between text-xs text-gray-500 mt-1"},L2={key:1,class:"mb-6 p-4 bg-gray-50 rounded-lg"},E2={class:"flex items-center mb-2"},S2={class:"font-medium text-gray-900"},V2={class:"flex items-center"},F2={class:"text-gray-600"},R2={class:"bg-white border border-gray-200 rounded-xl p-6 mb-6"},N2={key:0},q2={class:"flex items-center space-x-4 mb-4"},z2={class:"flex items-center space-x-2"},U2=["disabled"],B2=["max"],O2=["disabled"],H2={class:"flex justify-between items-center mb-4"},G2={class:"text-2xl font-bold text-blue-600"},K2=["disabled"],Z2={key:0},W2={key:1},J2={key:2},X2={key:1},Y2={class:"mb-6 p-4 bg-green-50 rounded-lg border border-green-200"},Q2={class:"flex items-center mb-2"},ex={class:"flex justify-between items-center mb-6"},tx={class:"text-3xl font-bold text-blue-600"},sx=["disabled"],ox={key:0},rx={class:"mb-8"},ax={class:"border-b border-gray-200 mb-6"},ix={class:"flex space-x-8"},nx=["onClick"],lx={key:0,class:"prose max-w-none"},dx={class:"text-gray-600 leading-relaxed"},cx={key:0,class:"space-y-2"},ux={class:"text-gray-600"},mx={key:1,class:"prose max-w-none"},px={key:2},gx={class:"text-lg font-semibold mb-3"},vx={key:0,class:"text-center py-8"},xx={key:1,class:"space-y-3"},fx={class:"flex items-center"},bx={class:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center text-white text-sm font-medium"},hx={class:"ml-3 text-gray-900"},yx={class:"text-sm text-gray-600"},_x={key:2,class:"text-center py-12"},wx={__name:"ProductDetail",setup(h){const v=qe();$e();const{get:A,post:y,loading:g}=de(),u=ve(),P=R(!1),i=R(null),d=R(1),w=R("description"),C=R(""),T=R([]),f=[{key:"description",label:"Description"},{key:"rules",label:"Règles"},{key:"participants",label:"Participants"}],$=te(()=>i.value&&(i.value.lottery||i.value.active_lottery)&&(i.value.lottery?.total_tickets>0||i.value.active_lottery?.total_tickets>0)),D=te(()=>{if(!i.value)return 0;const L=i.value.lottery||i.value.active_lottery;return L?(L.ticket_price||i.value.ticket_price||0)*d.value:0}),E=()=>{if(!i.value)return 0;const L=i.value.lottery||i.value.active_lottery;if(!L)return 0;const S=L.sold_tickets||0,N=L.total_tickets||1;return Math.round(S/N*100)},a=L=>L==null||isNaN(L)?"0":new Intl.NumberFormat("fr-FR").format(Number(L)),r=()=>{const L=i.value.lottery||i.value.active_lottery,S=(L?.total_tickets||0)-(L?.sold_tickets||0);d.value<S&&d.value++},F=()=>{d.value>1&&d.value--},n=L=>{if(!L)return"";const S=new Date(L);return new Intl.DateTimeFormat("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(S)},c=L=>{if(!L)return"";const S=new Date,G=new Date(L)-S,_=Math.floor(G/(1e3*60*60*24));if(_>7)return`Plus de ${_} jours restants`;if(_>0)return`${_} jour${_>1?"s":""} restant${_>1?"s":""}`;{const k=Math.floor(G/36e5);return k>0?`${k}h restantes`:"Se termine bientôt"}},x=L=>l2(L,"Produit",400,300),O=L=>{d2(L,"Image non disponible")},W=L=>({active:"Actif",ending_soon:"Bientôt terminé",completed:"Terminé"})[L]||L,H=async()=>{P.value=!0;try{const L=i.value.lottery||i.value.active_lottery,N=(L?.ticket_price||i.value.ticket_price||0)*d.value,G=u.user?.phone;if(!G){window.$toast&&window.$toast.error("Veuillez ajouter un numéro de téléphone à votre profil avant d'effectuer un achat.","📱 Téléphone requis");return}const _=await y("/tickets/purchase",{lottery_id:L?.id,quantity:d.value,phone_number:G,total_amount:N});if(_&&_.success)window.$toast&&window.$toast.success("🎉 Tickets achetés avec succès ! Confirmez le paiement sur votre téléphone.","✅ Achat initié"),await m(),d.value=1;else throw new Error(_?.message||"Erreur lors de l'achat des tickets")}catch(L){console.error("Error purchasing tickets:",L);const S=L.response?.data?.message||L.message||"Erreur lors de l'achat des tickets";window.$toast&&window.$toast.error("❌ "+S,"❌ Erreur d'achat")}finally{P.value=!1}},I=async()=>{P.value=!0;try{const L=await y("/payments/initiate",{product_id:i.value.id,type:"product_purchase",amount:i.value.price});if(L&&L.success)window.$toast&&window.$toast.success("🎉 Produit acheté avec succès ! Vous recevrez une confirmation par SMS.","✅ Achat confirmé"),await m();else throw new Error(L?.message||"Erreur lors de l'achat")}catch(L){console.error("Error purchasing product directly:",L);const S=L.response?.data?.message||L.message||"Erreur lors de l'achat";window.$toast&&window.$toast.error("❌ "+S,"❌ Erreur d'achat")}finally{P.value=!1}},m=async()=>{try{const L=v.params.id;console.log("Loading product ID:",L);const S=await A(`/products/${L}`);console.log("Product API response:",S),S&&S.success&&S.data?(i.value=S.data,C.value=i.value.image||"/images/products/placeholder.jpg",(i.value.lottery||i.value.active_lottery)&&await M()):S&&S.data?(i.value=S.data,C.value=i.value.image||"/images/products/placeholder.jpg"):(console.error("Product not found in response:",S),i.value=null)}catch(L){console.error("Error loading product:",L),i.value=null}},M=async()=>{try{const L=i.value.lottery||i.value.active_lottery;L&&(console.log("Participants endpoint not available yet for lottery:",L.id),T.value=[])}catch(L){console.error("Error loading participants:",L),T.value=[]}};return ne(()=>{m()}),(L,S)=>{const N=me("router-link");return l(g)?(t(),s("div",c2,S[1]||(S[1]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"},null,-1),e("p",{class:"mt-4 text-gray-600"},"Chargement du produit...",-1)]))):i.value?(t(),s("div",u2,[e("div",m2,[b(N,{to:"/customer/products",class:"inline-flex items-center text-gray-600 hover:text-gray-900"},{default:ee(()=>[b(l(ts),{class:"w-5 h-5 mr-2"}),S[2]||(S[2]=K(" Retour aux produits ",-1))]),_:1,__:[2]})]),e("div",p2,[e("div",null,[e("div",g2,[e("img",{src:x(i.value),alt:i.value.title||i.value.name,class:"w-full h-96 object-cover rounded-xl",onError:O},null,40,v2),e("div",x2,[e("span",{class:J(["px-3 py-1 text-sm font-medium rounded-full",i.value.status==="active"?"bg-blue-100 text-blue-800":i.value.status==="ending_soon"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"])},o(W(i.value.status)),3)]),i.value.featured?(t(),s("div",f2,[b(l(Ye),{class:"w-8 h-8 text-yellow-500 fill-current"})])):B("",!0)]),i.value.gallery&&i.value.gallery.length>0?(t(),s("div",b2,[(t(!0),s(X,null,Y(i.value.gallery,(G,_)=>(t(),s("img",{key:_,src:G,alt:`${i.value.title} ${_+1}`,class:"w-full h-20 object-cover rounded-lg cursor-pointer hover:opacity-75 transition-opacity",onClick:k=>C.value=G},null,8,h2))),128))])):B("",!0)]),e("div",null,[e("div",y2,[e("h1",_2,o(i.value.title||i.value.name),1),e("p",w2,o(i.value.description),1),e("div",$2,[e("div",k2,[e("div",C2,o(a(i.value.price))+" FCFA",1),e("div",j2,o($.value?"Valeur du produit":"Prix"),1)]),$.value?(t(),s("div",A2,[e("div",P2,o(a(i.value.lottery?.ticket_price||i.value.active_lottery?.ticket_price||i.value.ticket_price||0))+" FCFA",1),S[3]||(S[3]=e("div",{class:"text-sm text-gray-500"},"Prix par ticket",-1))])):B("",!0)]),$.value?(t(),s("div",M2,[e("div",D2,[S[4]||(S[4]=e("span",null,"Progression de la tombola",-1)),e("span",null,o(E())+"% ("+o(i.value.lottery?.sold_tickets||i.value.active_lottery?.sold_tickets||0)+"/"+o(i.value.lottery?.total_tickets||i.value.active_lottery?.total_tickets||0)+")",1)]),e("div",I2,[e("div",{class:"bg-blue-600 h-3 rounded-full transition-all duration-300",style:he({width:E()+"%"})},null,4)]),e("div",T2,[S[5]||(S[5]=e("span",null,"0 tickets",-1)),e("span",null,o(i.value.lottery?.total_tickets||i.value.active_lottery?.total_tickets||0)+" tickets",1)])])):B("",!0),$.value?(t(),s("div",L2,[e("div",E2,[b(l(Vt),{class:"w-5 h-5 text-gray-600 mr-2"}),e("span",S2,"Date de tirage: "+o(n(i.value.lottery?.draw_date||i.value.active_lottery?.draw_date)),1)]),e("div",V2,[b(l(Ke),{class:"w-5 h-5 text-gray-600 mr-2"}),e("span",F2,o(c(i.value.lottery?.draw_date||i.value.active_lottery?.draw_date)),1)])])):B("",!0)]),e("div",R2,[$.value?(t(),s("div",N2,[S[8]||(S[8]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Acheter des tickets",-1)),e("div",q2,[S[6]||(S[6]=e("label",{class:"block text-sm font-medium text-gray-700"},"Nombre de tickets:",-1)),e("div",z2,[e("button",{onClick:F,class:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-50",disabled:d.value<=1},[b(l(ps),{class:"w-4 h-4"})],8,U2),Z(e("input",{"onUpdate:modelValue":S[0]||(S[0]=G=>d.value=G),type:"number",min:"1",max:(i.value.lottery?.total_tickets||i.value.active_lottery?.total_tickets||0)-(i.value.lottery?.sold_tickets||i.value.active_lottery?.sold_tickets||0),class:"w-20 text-center border border-gray-300 rounded-md py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,8,B2),[[Q,d.value]]),e("button",{onClick:r,class:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-50",disabled:d.value>=(i.value.lottery?.total_tickets||0)-(i.value.lottery?.sold_tickets||0)},[b(l(Re),{class:"w-4 h-4"})],8,O2)])]),e("div",H2,[S[7]||(S[7]=e("span",{class:"text-gray-600"},"Total à payer:",-1)),e("span",G2,o(a(D.value))+" FCFA",1)]),e("button",{onClick:H,disabled:P.value||i.value.status!=="active",class:"w-full bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed"},[P.value?(t(),s("span",Z2,"Achat en cours...")):i.value.status!=="active"?(t(),s("span",W2,"Tombola terminée")):(t(),s("span",J2,"Acheter "+o(d.value)+" ticket"+o(d.value>1?"s":""),1))],8,K2)])):(t(),s("div",X2,[S[14]||(S[14]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Acheter ce produit",-1)),e("div",Y2,[e("div",Q2,[b(l(Ce),{class:"w-5 h-5 text-green-600 mr-2"}),S[9]||(S[9]=e("span",{class:"font-medium text-green-900"},"Achat direct disponible",-1))]),S[10]||(S[10]=e("p",{class:"text-sm text-green-700"}," Ce produit peut être acheté directement sans passer par une tombola. ",-1))]),e("div",ex,[S[11]||(S[11]=e("span",{class:"text-gray-600 text-lg"},"Prix:",-1)),e("span",tx,o(i.value.price)+" FCFA",1)]),e("button",{onClick:I,disabled:P.value,class:"w-full bg-green-600 text-white py-3 rounded-lg font-medium hover:bg-green-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center justify-center space-x-2"},[P.value?(t(),s("span",ox,"Achat en cours...")):(t(),s(X,{key:1},[S[12]||(S[12]=e("span",null,"🛒",-1)),S[13]||(S[13]=e("span",null,"Acheter maintenant",-1))],64))],8,sx)]))])])]),e("div",rx,[e("div",ax,[e("nav",ix,[(t(),s(X,null,Y(f,G=>e("button",{key:G.key,onClick:_=>w.value=G.key,class:J(["py-2 px-1 border-b-2 font-medium text-sm",w.value===G.key?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"])},o(G.label),11,nx)),64))])]),w.value==="description"?(t(),s("div",lx,[S[15]||(S[15]=e("h3",{class:"text-lg font-semibold mb-3"},"Description détaillée",-1)),e("p",dx,o(i.value.detailed_description||i.value.description),1),S[16]||(S[16]=e("h4",{class:"text-md font-semibold mt-6 mb-3"},"Caractéristiques",-1)),i.value.features?(t(),s("ul",cx,[(t(!0),s(X,null,Y(i.value.features,G=>(t(),s("li",{key:G,class:"flex items-center"},[b(l(Ce),{class:"w-5 h-5 text-blue-500 mr-2 flex-shrink-0"}),e("span",ux,o(G),1)]))),128))])):B("",!0)])):B("",!0),w.value==="rules"?(t(),s("div",mx,S[17]||(S[17]=[e("h3",{class:"text-lg font-semibold mb-3"},"Règles de la tombola",-1),e("div",{class:"space-y-4 text-gray-600"},[e("p",null,"• Chaque ticket acheté vous donne une chance de gagner ce produit"),e("p",null,"• Le tirage aura lieu à la date indiquée une fois tous les tickets vendus"),e("p",null,"• Le gagnant sera choisi de manière aléatoire et équitable"),e("p",null,"• Vous serez notifié par email et SMS si vous gagnez"),e("p",null,"• Les prix non réclamés dans les 30 jours seront remis en jeu")],-1)]))):B("",!0),w.value==="participants"?(t(),s("div",px,[e("h3",gx,"Participants ("+o(i.value.sold_tickets)+")",1),T.value.length===0?(t(),s("div",vx,[b(l(et),{class:"w-12 h-12 text-gray-400 mx-auto mb-4"}),S[18]||(S[18]=e("p",{class:"text-gray-600"},"Soyez le premier à participer !",-1))])):(t(),s("div",xx,[(t(!0),s(X,null,Y(T.value,G=>(t(),s("div",{key:G.id,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},[e("div",fx,[e("div",bx,o(G.name.charAt(0).toUpperCase()),1),e("span",hx,o(G.name),1)]),e("span",yx,o(G.tickets)+" ticket"+o(G.tickets>1?"s":""),1)]))),128))]))])):B("",!0)])])):(t(),s("div",_x,[b(l(ze),{class:"w-16 h-16 text-gray-400 mx-auto mb-4"}),S[20]||(S[20]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"Produit introuvable",-1)),S[21]||(S[21]=e("p",{class:"text-gray-600 mb-4"},"Le produit que vous cherchez n'existe pas ou a été supprimé",-1)),b(N,{to:"/customer/products",class:"inline-block bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors"},{default:ee(()=>S[19]||(S[19]=[K(" Retour aux produits ",-1)])),_:1,__:[19]})]))}}},$x={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},kx={class:"lg:col-span-1"},Cx={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},jx={class:"text-center mb-6"},Ax={class:"relative inline-block"},Px=["src","alt"],Mx={class:"mt-4 text-lg font-semibold text-gray-900"},Dx={class:"text-sm text-gray-600"},Ix={class:"space-y-1"},Tx=["onClick"],Lx={class:"lg:col-span-2"},Ex={key:0,class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},Sx={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Vx={class:"mt-6 flex justify-end"},Fx=["disabled"],Rx={key:0},Nx={key:1},qx={key:1,class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},zx={class:"space-y-4"},Ux={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Bx={class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-600"},Ox={class:"mt-6 flex justify-end"},Hx=["disabled"],Gx={key:0},Kx={key:1},Zx={key:2,class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},Wx={class:"space-y-6"},Jx={class:"border-b border-gray-200 pb-6"},Xx=["disabled"],Yx={key:0},Qx={key:1},ef={class:"border-b border-gray-200 pb-6"},tf={class:"flex justify-between items-start"},sf={class:"space-y-3"},of={class:"flex items-center"},rf={class:"font-medium text-gray-900"},af={class:"text-sm text-gray-600"},nf={class:"flex items-center"},lf={key:0,class:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full mr-3"},df=["onClick"],cf={key:3,class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},uf={class:"space-y-6"},mf={class:"text-lg font-medium text-gray-900 mb-3"},pf={class:"space-y-3"},gf={class:"flex-1"},vf={class:"font-medium text-gray-900"},xf={class:"text-sm text-gray-600"},ff={class:"ml-4 flex space-x-4"},bf={class:"flex items-center"},hf=["onUpdate:modelValue"],yf={class:"flex items-center"},_f=["onUpdate:modelValue"],wf={class:"mt-6 flex justify-end"},$f=["disabled"],kf={key:0},Cf={key:1},jf={key:0,class:"fixed inset-0 bg-black bg-opacity-20 flex items-center justify-center z-50"},Af={class:"bg-white rounded-lg p-6 max-w-md w-full mx-4"},Pf={class:"mb-4"},Mf={class:"flex justify-end space-x-3"},Df=["disabled"],If={__name:"Profile",setup(h){ve();const{get:v,put:A,post:y}=de(),g=R("personal"),u=R(!1),P=R(!1),i=R(!1),d=R(!1),w=R(!1),C=R(null),T=R(null),f=[{key:"personal",label:"Informations personnelles",icon:Pe},{key:"address",label:"Adresse",icon:vt},{key:"security",label:"Sécurité",icon:ct},{key:"notifications",label:"Notifications",icon:nt}],$=le({id:null,first_name:"",last_name:"",email:"",phone:"",birth_date:"",gender:"",avatar:null,two_factor_enabled:!1,address:{address:"",city:"",postal_code:"",country_id:null,state:""}}),D=le({first_name:$.first_name,last_name:$.last_name,email:$.email,phone:$.phone,birth_date:$.birth_date,gender:$.gender}),E=le({address:$.address.address,city:$.address.city,postal_code:$.address.postal_code,country_id:$.address.country_id}),a=le({current_password:"",new_password:"",confirm_password:""}),r=R([]),F=R([]),n=[{key:"lottery",title:"Tombolas",notifications:[{key:"draw_results",title:"Résultats des tirages",description:"Être notifié des résultats des tombolas auxquelles vous participez"},{key:"new_lottery",title:"Nouvelles tombolas",description:"Être informé des nouveaux produits mis en tombola"},{key:"ending_soon",title:"Fin de tombola",description:"Rappel quand une tombola se termine bientôt"}]},{key:"account",title:"Compte",notifications:[{key:"login",title:"Nouvelle connexion",description:"Être alerté des nouvelles connexions à votre compte"},{key:"profile_update",title:"Modification du profil",description:"Confirmation des modifications de votre profil"}]}],c=le({draw_results:{email:!0,sms:!0},new_lottery:{email:!0,sms:!1},ending_soon:{email:!0,sms:!0},login:{email:!0,sms:!1},profile_update:{email:!0,sms:!1}}),x=async()=>{u.value=!0;try{console.log("Updating personal info with data:",D);const j=await A("/user/profile",D);if(console.log("Update personal info response:",j),j&&j.success)Object.assign($,D),window.$toast&&window.$toast.success("Informations personnelles mises à jour avec succès","✅ Profil mis à jour");else throw new Error(j?.message||"Erreur lors de la mise à jour")}catch(j){console.error("Error updating personal info:",j),console.error("Error details:",j.response?.data),window.$toast&&window.$toast.error("Erreur lors de la mise à jour: "+(j.response?.data?.message||j.message),"❌ Erreur")}finally{u.value=!1}},O=async()=>{P.value=!0;try{console.log("Updating address with data:",E);const j=await A("/user/profile",E);if(console.log("Update address response:",j),j&&j.success)Object.assign($,E),window.$toast&&window.$toast.success("Adresse mise à jour avec succès","✅ Adresse");else throw new Error(j?.message||"Erreur lors de la mise à jour")}catch(j){console.error("Error updating address:",j),console.error("Error details:",j.response?.data),window.$toast&&window.$toast.error("Erreur lors de la mise à jour: "+(j.response?.data?.message||j.message),"❌ Erreur")}finally{P.value=!1}},W=async()=>{if(a.new_password!==a.confirm_password){window.$toast&&window.$toast.error("Les mots de passe ne correspondent pas","❌ Erreur de validation");return}i.value=!0;try{const j=await A("/user/password",{current_password:a.current_password,new_password:a.new_password,new_password_confirmation:a.confirm_password});if(j&&j.success)Object.assign(a,{current_password:"",new_password:"",confirm_password:""}),window.$toast&&window.$toast.success("Mot de passe mis à jour avec succès","✅ Sécurité");else throw new Error(j?.message||"Erreur lors de la mise à jour")}catch(j){console.error("Error updating password:",j),window.$toast&&window.$toast.error("Erreur lors de la mise à jour du mot de passe","❌ Erreur")}finally{i.value=!1}},H=async()=>{d.value=!0;try{const j=await A("/user/preferences/detailed",{email_notifications:{lottery_results:c.draw_results.email,new_lotteries:c.new_lottery.email,ending_soon:c.ending_soon.email,account_updates:c.profile_update.email,login_alerts:c.login.email},sms_notifications:{lottery_results:c.draw_results.sms,new_lotteries:c.new_lottery.sms,ending_soon:c.ending_soon.sms,account_updates:c.profile_update.sms,login_alerts:c.login.sms},push_notifications:!0,marketing_emails:!0});if(j&&j.success)window.$toast&&window.$toast.success("Préférences de notifications mises à jour","✅ Notifications");else throw new Error(j?.message||"Erreur lors de la mise à jour")}catch(j){console.error("Error updating notifications:",j),window.$toast&&window.$toast.error("Erreur lors de la mise à jour des notifications","❌ Erreur")}finally{d.value=!1}},I=async()=>{try{const j=await y("/user/2fa/toggle",{enabled:!$.two_factor_enabled});if(j&&j.success)$.two_factor_enabled=!$.two_factor_enabled,window.$toast&&window.$toast.success(`Authentification à deux facteurs ${$.two_factor_enabled?"activée":"désactivée"}`,"✅ Sécurité mise à jour");else throw new Error(j?.message||"Erreur lors de la modification")}catch(j){console.error("Error toggling two-factor authentication:",j),window.$toast&&window.$toast.error("Erreur lors de la modification de l'authentification à deux facteurs","❌ Erreur")}},m=async j=>{try{const p=await y(`/user/sessions/${j}/revoke`);if(p&&p.success)F.value=F.value.filter(q=>q.id!==j),window.$toast&&window.$toast.success("Session révoquée avec succès","✅ Sécurité");else throw new Error(p?.message||"Erreur lors de la révocation")}catch(p){console.error("Error revoking session:",p),window.$toast&&window.$toast.error("Erreur lors de la révocation de la session","❌ Erreur")}},M=j=>{const p=j.target.files[0];p&&(C.value=p)},L=async()=>{if(C.value)try{const j=new FormData;j.append("avatar",C.value),console.log("Uploading avatar:",C.value);const p=await y("/user/avatar",j);if(console.log("Avatar upload response:",p),p&&p.success&&p.data)$.avatar=p.data.avatar_url,$.avatar_url=p.data.avatar_url,w.value=!1,C.value=null,window.$toast&&window.$toast.success("Photo de profil mise à jour avec succès","✅ Avatar"),await S();else throw new Error(p?.message||"Erreur lors du téléchargement")}catch(j){console.error("Error uploading avatar:",j),window.$toast&&window.$toast.error("Erreur lors du téléchargement de la photo","❌ Erreur")}},S=async()=>{try{const j=await v("/user/profile");if(console.log("Profile API response:",j),j&&j.success&&j.data&&j.data.user){const p=j.data.user;Object.assign($,p),Object.assign(D,{first_name:p.first_name||"",last_name:p.last_name||"",email:p.email||"",phone:p.phone||"",birth_date:p.birth_date||"",gender:p.gender||""}),Object.assign(E,{address:p.address||"",city:p.city||"",postal_code:p.postal_code||"",country_id:p.country_id||null}),console.log("User data loaded:",p),console.log("Personal form:",D),console.log("Address form:",E),setTimeout(()=>{T.value&&D.phone&&T.value.setNumber(D.phone)},100)}else if(j&&j.data){const p=j.data;Object.assign($,p),Object.assign(D,{first_name:p.first_name||"",last_name:p.last_name||"",email:p.email||"",phone:p.phone||"",birth_date:p.birth_date||"",gender:p.gender||""}),Object.assign(E,{address:p.address||"",city:p.city||"",postal_code:p.postal_code||"",country_id:p.country_id||null}),setTimeout(()=>{T.value&&D.phone&&T.value.setNumber(D.phone)},100)}}catch(j){console.error("Error loading user profile:",j)}},N=async()=>{try{const j=await v("/countries");j&&j.data&&(r.value=j.data)}catch(j){console.error("Error loading countries:",j)}},G=async()=>{try{const j=await v("/user/preferences");if(j&&j.data&&j.data.preferences){const p=j.data.preferences;p.email_notifications&&(c.draw_results.email=p.email_notifications.lottery_results||!0,c.new_lottery.email=p.email_notifications.new_lotteries||!0,c.ending_soon.email=p.email_notifications.ending_soon||!0,c.profile_update.email=p.email_notifications.account_updates||!0,c.login.email=p.email_notifications.login_alerts||!0),p.sms_notifications&&(c.draw_results.sms=p.sms_notifications.lottery_results||!1,c.new_lottery.sms=p.sms_notifications.new_lotteries||!1,c.ending_soon.sms=p.sms_notifications.ending_soon||!1,c.profile_update.sms=p.sms_notifications.account_updates||!1,c.login.sms=p.sms_notifications.login_alerts||!1)}}catch(j){console.error("Error loading user preferences:",j)}},_=j=>new Intl.DateTimeFormat("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(j)),k=async()=>{try{const j=await v("/user/sessions");j&&j.data&&j.data.sessions&&(F.value=j.data.sessions.map(p=>({id:p.id,device_name:p.user_agent?.includes("Mobile")?"Mobile":"Desktop",device_type:p.user_agent?.includes("Mobile")?"mobile":"desktop",location:`${p.city||"Inconnue"}, ${p.country||"Inconnue"}`,last_active:p.last_activity,is_current:p.is_current})))}catch(j){console.error("Error loading sessions:",j)}};return ne(async()=>{await Promise.all([S(),N(),G(),k()])}),(j,p)=>(t(),s("div",null,[p[41]||(p[41]=e("div",{class:"mb-8"},[e("h1",{class:"text-3xl font-bold text-gray-900"},"Mon profil"),e("p",{class:"mt-2 text-gray-600"},"Gérez vos informations personnelles et préférences")],-1)),e("div",$x,[e("div",kx,[e("div",Cx,[e("div",jx,[e("div",Ax,[e("img",{src:$.avatar_url?`/storage/${$.avatar_url}`:"https://ui-avatars.com/api/?name="+encodeURIComponent(($.first_name||"")+"+"+($.last_name||""))+"&background=3b82f6&color=ffffff&size=128",alt:$.first_name+" "+$.last_name,class:"w-24 h-24 rounded-full object-cover"},null,8,Px),e("button",{onClick:p[0]||(p[0]=q=>w.value=!0),class:"absolute bottom-0 right-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center hover:bg-blue-700 transition-colors"},[b(l(jt),{class:"w-4 h-4"})])]),e("h3",Mx,o($.first_name)+" "+o($.last_name),1),e("p",Dx,o($.email),1)]),e("nav",Ix,[(t(),s(X,null,Y(f,q=>e("button",{key:q.key,onClick:z=>g.value=q.key,class:J(["w-full flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors",g.value===q.key?"bg-blue-50 text-blue-600 border-r-2 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"])},[(t(),oe(we(q.icon),{class:"w-5 h-5 mr-3"})),K(" "+o(q.label),1)],10,Tx)),64))])])]),e("div",Lx,[g.value==="personal"?(t(),s("div",Ex,[p[22]||(p[22]=e("h2",{class:"text-xl font-semibold text-gray-900 mb-6"},"Informations personnelles",-1)),e("form",{onSubmit:ge(x,["prevent"])},[e("div",Sx,[e("div",null,[p[15]||(p[15]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Prénom",-1)),Z(e("input",{"onUpdate:modelValue":p[1]||(p[1]=q=>D.first_name=q),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",style:{color:"#5f5f5f"}},null,512),[[Q,D.first_name]])]),e("div",null,[p[16]||(p[16]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Nom",-1)),Z(e("input",{"onUpdate:modelValue":p[2]||(p[2]=q=>D.last_name=q),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",style:{color:"#5f5f5f"}},null,512),[[Q,D.last_name]])]),e("div",null,[p[17]||(p[17]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Email",-1)),Z(e("input",{"onUpdate:modelValue":p[3]||(p[3]=q=>D.email=q),type:"email",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",style:{color:"#5f5f5f"}},null,512),[[Q,D.email]])]),e("div",null,[p[18]||(p[18]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Téléphone",-1)),b(ut,{ref_key:"phoneInputRef",ref:T,modelValue:D.phone,"onUpdate:modelValue":p[4]||(p[4]=q=>D.phone=q),class:"w-full","initial-country":"ga","preferred-countries":["ga","cm","ci","cg","cf","td","gq","bf","bj","tg","fr","ca"]},null,8,["modelValue"])]),e("div",null,[p[19]||(p[19]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Date de naissance",-1)),Z(e("input",{"onUpdate:modelValue":p[5]||(p[5]=q=>D.birth_date=q),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",style:{color:"#5f5f5f"}},null,512),[[Q,D.birth_date]])]),e("div",null,[p[21]||(p[21]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Genre",-1)),Z(e("select",{"onUpdate:modelValue":p[6]||(p[6]=q=>D.gender=q),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",style:{color:"#5f5f5f"}},p[20]||(p[20]=[e("option",{value:""},"Sélectionner...",-1),e("option",{value:"male"},"Homme",-1),e("option",{value:"female"},"Femme",-1),e("option",{value:"other"},"Autre",-1)]),512),[[re,D.gender]])])]),e("div",Vx,[e("button",{type:"submit",disabled:u.value,class:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors disabled:bg-gray-400"},[u.value?(t(),s("span",Rx,"Mise à jour...")):(t(),s("span",Nx,"Mettre à jour"))],8,Fx)])],32)])):B("",!0),g.value==="address"?(t(),s("div",qx,[p[28]||(p[28]=e("h2",{class:"text-xl font-semibold text-gray-900 mb-6"},"Adresse",-1)),e("form",{onSubmit:ge(O,["prevent"])},[e("div",zx,[e("div",null,[p[23]||(p[23]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Adresse",-1)),Z(e("input",{"onUpdate:modelValue":p[7]||(p[7]=q=>E.address=q),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",style:{color:"#5f5f5f"}},null,512),[[Q,E.address]])]),e("div",Ux,[e("div",null,[p[24]||(p[24]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Ville",-1)),Z(e("input",{"onUpdate:modelValue":p[8]||(p[8]=q=>E.city=q),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",style:{color:"#5f5f5f"}},null,512),[[Q,E.city]])]),e("div",null,[p[25]||(p[25]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Code postal",-1)),Z(e("input",{"onUpdate:modelValue":p[9]||(p[9]=q=>E.postal_code=q),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",style:{color:"#5f5f5f"}},null,512),[[Q,E.postal_code]])])]),e("div",null,[p[27]||(p[27]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Pays",-1)),e("div",Bx,[K(o($.country?.name||"Non spécifié")+" ",1),p[26]||(p[26]=e("div",{class:"text-xs text-gray-500 mt-1"},"Le pays n'est pas modifiable après l'inscription",-1))])])]),e("div",Ox,[e("button",{type:"submit",disabled:P.value,class:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors disabled:bg-gray-400"},[P.value?(t(),s("span",Gx,"Mise à jour...")):(t(),s("span",Kx,"Mettre à jour"))],8,Hx)])],32)])):B("",!0),g.value==="security"?(t(),s("div",Zx,[p[35]||(p[35]=e("h2",{class:"text-xl font-semibold text-gray-900 mb-6"},"Sécurité",-1)),e("div",Wx,[e("div",Jx,[p[32]||(p[32]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Changer le mot de passe",-1)),e("form",{onSubmit:ge(W,["prevent"]),class:"space-y-4"},[e("div",null,[p[29]||(p[29]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Mot de passe actuel",-1)),Z(e("input",{"onUpdate:modelValue":p[10]||(p[10]=q=>a.current_password=q),type:"password",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",style:{color:"#5f5f5f"}},null,512),[[Q,a.current_password]])]),e("div",null,[p[30]||(p[30]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Nouveau mot de passe",-1)),Z(e("input",{"onUpdate:modelValue":p[11]||(p[11]=q=>a.new_password=q),type:"password",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",style:{color:"#5f5f5f"}},null,512),[[Q,a.new_password]])]),e("div",null,[p[31]||(p[31]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Confirmer le nouveau mot de passe",-1)),Z(e("input",{"onUpdate:modelValue":p[12]||(p[12]=q=>a.confirm_password=q),type:"password",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",style:{color:"#5f5f5f"}},null,512),[[Q,a.confirm_password]])]),e("button",{type:"submit",disabled:i.value,class:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors disabled:bg-gray-400"},[i.value?(t(),s("span",Yx,"Mise à jour...")):(t(),s("span",Qx,"Changer le mot de passe"))],8,Xx)],32)]),e("div",ef,[e("div",tf,[p[33]||(p[33]=e("div",null,[e("h3",{class:"text-lg font-medium text-gray-900"},"Authentification à deux facteurs"),e("p",{class:"text-sm text-gray-600 mt-1"},"Ajoutez une couche de sécurité supplémentaire à votre compte")],-1)),e("button",{onClick:I,class:J(["relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-offset-2",$.two_factor_enabled?"bg-blue-600":"bg-gray-200"])},[e("span",{class:J(["pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out",$.two_factor_enabled?"translate-x-5":"translate-x-0"])},null,2)],2)])]),e("div",null,[p[34]||(p[34]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Sessions de connexion",-1)),e("div",sf,[(t(!0),s(X,null,Y(F.value,q=>(t(),s("div",{key:q.id,class:"flex justify-between items-center p-4 border border-gray-200 rounded-lg"},[e("div",of,[q.device_type==="mobile"?(t(),oe(l(ns),{key:0,class:"w-6 h-6 text-gray-600 mr-3"})):(t(),oe(l(as),{key:1,class:"w-6 h-6 text-gray-600 mr-3"})),e("div",null,[e("p",rf,o(q.device_name),1),e("p",af,o(q.location)+" • "+o(_(q.last_active)),1)])]),e("div",nf,[q.is_current?(t(),s("span",lf," Session actuelle ")):B("",!0),q.is_current?B("",!0):(t(),s("button",{key:1,onClick:z=>m(q.id),class:"text-sm text-red-600 hover:text-red-700"}," Révoquer ",8,df))])]))),128))])])])])):B("",!0),g.value==="notifications"?(t(),s("div",cf,[p[38]||(p[38]=e("h2",{class:"text-xl font-semibold text-gray-900 mb-6"},"Préférences de notification",-1)),e("form",{onSubmit:ge(H,["prevent"])},[e("div",uf,[(t(),s(X,null,Y(n,q=>e("div",{key:q.key,class:"border-b border-gray-200 pb-6 last:border-b-0 last:pb-0"},[e("h3",mf,o(q.title),1),e("div",pf,[(t(!0),s(X,null,Y(q.notifications,z=>(t(),s("div",{key:z.key,class:"flex justify-between items-start"},[e("div",gf,[e("p",vf,o(z.title),1),e("p",xf,o(z.description),1)]),e("div",ff,[e("label",bf,[Z(e("input",{"onUpdate:modelValue":V=>c[z.key].email=V,type:"checkbox",class:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"},null,8,hf),[[Me,c[z.key].email]]),p[36]||(p[36]=e("span",{class:"ml-2 text-sm text-gray-700"},"Email",-1))]),e("label",yf,[Z(e("input",{"onUpdate:modelValue":V=>c[z.key].sms=V,type:"checkbox",class:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"},null,8,_f),[[Me,c[z.key].sms]]),p[37]||(p[37]=e("span",{class:"ml-2 text-sm text-gray-700"},"SMS",-1))])])]))),128))])])),64))]),e("div",wf,[e("button",{type:"submit",disabled:d.value,class:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors disabled:bg-gray-400"},[d.value?(t(),s("span",kf,"Mise à jour...")):(t(),s("span",Cf,"Sauvegarder les préférences"))],8,$f)])],32)])):B("",!0)])]),w.value?(t(),s("div",jf,[e("div",Af,[p[40]||(p[40]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Changer la photo de profil",-1)),e("div",Pf,[e("input",{ref:"avatarInput",type:"file",accept:"image/*",onChange:M,class:"hidden"},null,544),e("button",{onClick:p[13]||(p[13]=q=>j.$refs.avatarInput.click()),class:"w-full p-4 border-2 border-dashed border-gray-300 rounded-lg text-center hover:border-blue-500 transition-colors"},[b(l(jt),{class:"w-8 h-8 text-gray-400 mx-auto mb-2"}),p[39]||(p[39]=e("p",{class:"text-sm text-gray-600"},"Cliquez pour choisir une image",-1))])]),e("div",Mf,[e("button",{onClick:p[14]||(p[14]=q=>w.value=!1),class:"px-4 py-2 text-gray-600 hover:text-gray-900"}," Annuler "),e("button",{onClick:L,disabled:!C.value,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400"}," Sauvegarder ",8,Df)])])])):B("",!0)]))}};function Tf(){const{get:h,post:v,loading:A,error:y}=de(),g=R([]),u=R({totalTickets:0,prizesWon:0,totalSpent:0,activeTickets:0}),P=R(1),i=R(!0),d=R(10),w=R(0),C=R({search:"",status:"",period:""}),T=te(()=>{let m=g.value;if(C.value.search){const M=C.value.search.toLowerCase();m=m.filter(L=>L.product.title.toLowerCase().includes(M)||L.product.description.toLowerCase().includes(M))}if(C.value.status&&(m=m.filter(M=>M.status===C.value.status)),C.value.period){const M=new Date,L=C.value.period;m=m.filter(S=>{const N=new Date(S.purchased_at);if(L==="week"){const G=new Date(M.getTime()-6048e5);return N>=G}else if(L==="month"){const G=new Date(M.getFullYear(),M.getMonth()-1,M.getDate());return N>=G}else if(L==="quarter"){const G=new Date(M.getFullYear(),M.getMonth()-3,M.getDate());return N>=G}return!0})}return m.sort((M,L)=>new Date(L.purchased_at)-new Date(M.purchased_at))}),f=te(()=>[{label:"Total tickets",value:u.value.totalTickets.toString(),color:"bg-blue-500",icon:"TicketIcon"},{label:"Prix gagnés",value:u.value.prizesWon.toString(),color:"bg-blue-500",icon:"TrophyIcon"},{label:"Total dépensé",value:O(u.value.totalSpent),color:"bg-yellow-500",icon:"CurrencyDollarIcon"},{label:"En cours",value:u.value.activeTickets.toString(),color:"bg-purple-500",icon:"ClockIcon"}]),$=async(m=1,M=!1)=>{try{const L=new URLSearchParams({page:m.toString(),per_page:d.value.toString()});C.value.search&&L.append("search",C.value.search),C.value.status&&L.append("status",C.value.status),C.value.period&&L.append("period",C.value.period);const S=await h(`/tickets/my-tickets?${L.toString()}`);if(S&&S.success){const N=S.data||[],G=S.pagination||{},_=N.map(k=>({id:k.id,product:{id:k.product?.id||k.lottery?.product?.id,title:k.product?.name||k.lottery?.product?.name||"Produit inconnu",description:k.product?.description||k.lottery?.product?.description||"",image:k.product?.image_url||k.lottery?.product?.image_url||"/images/products/placeholder.jpg"},lottery:{id:k.lottery?.id,draw_date:new Date(k.lottery?.end_date||k.lottery?.draw_date),progress:Math.round(k.lottery?.sold_tickets/k.lottery?.total_tickets*100)||0,winning_number:k.lottery?.winning_number||null},quantity:k.quantity||1,total_price:k.amount||0,status:k.status||"active",purchased_at:new Date(k.created_at),ticket_numbers:k.ticket_numbers||[],winning_number:k.winning_number||null,prize_claimed:k.prize_claimed||!1}));M?g.value=[...g.value,..._]:g.value=_,P.value=G.current_page||m,w.value=G.total||_.length,i.value=G.current_page<G.last_page,a()}}catch(L){console.error("Erreur lors du chargement des tickets:",L)}},D=async()=>{i.value&&!A.value&&await $(P.value+1,!0)},E=async()=>{P.value=1,await $(1,!1)},a=()=>{const m=g.value.length,M=g.value.filter(N=>N.status==="won").length,L=g.value.reduce((N,G)=>{const _=parseFloat(G.total_price)||0;return N+_},0),S=g.value.filter(N=>N.status==="active"||N.status==="pending").length;u.value={totalTickets:m,prizesWon:M,totalSpent:L,activeTickets:S}},r=async m=>{try{const M=await v(`/tickets/${m}/claim-prize`);if(M&&M.success){const L=g.value.findIndex(S=>S.id===m);return L!==-1&&(g.value[L].prize_claimed=!0),M}}catch(M){throw console.error("Erreur lors de la réclamation du prix:",M),M}},F=async m=>{try{const M=await h(`/tickets/${m}/download`);if(M)if(typeof M=="string"&&M.startsWith("http")){const L=document.createElement("a");L.href=M,L.setAttribute("download",`ticket-${m}.pdf`),L.setAttribute("target","_blank"),document.body.appendChild(L),L.click(),L.remove()}else{const L=window.URL.createObjectURL(new Blob([M])),S=document.createElement("a");S.href=L,S.setAttribute("download",`ticket-${m}.pdf`),document.body.appendChild(S),S.click(),S.remove(),window.URL.revokeObjectURL(L)}}catch(M){throw console.error("Erreur lors du téléchargement du ticket:",M),M}},n=()=>{C.value={search:"",status:"",period:""},E()},c=()=>{E()};Oe(()=>C.value,()=>{clearTimeout(x),x=setTimeout(()=>{c()},500)},{deep:!0});let x=null;const O=m=>{const M=parseFloat(m)||0;return M>=1e6?(M/1e6).toFixed(1)+"M FCFA":M>=1e3?(M/1e3).toFixed(0)+"k FCFA":M.toLocaleString("fr-FR")+" FCFA"};return{tickets:g,filteredTickets:T,stats:f,filters:C,currentPage:P,hasMore:i,total:w,loading:A,error:y,loadTickets:$,loadMore:D,refreshTickets:E,claimPrize:r,downloadTicket:F,resetFilters:n,applyFilters:c,formatCurrency:O,formatDate:m=>new Intl.DateTimeFormat("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(m)),getRemainingTime:(m,M)=>{if(M==="lost"||M==="won")return"Tirage terminé";const L=new Date,N=new Date(m)-L;if(N<=0)return"Tirage en cours";const G=Math.floor(N/(1e3*60*60*24)),_=Math.floor(N%(1e3*60*60*24)/(1e3*60*60));return G>0?`Tirage dans ${G} jour${G>1?"s":""}`:_>0?`Tirage dans ${_}h`:`Tirage dans ${Math.floor(N%36e5/6e4)}min`},getStatusLabel:m=>({active:"En cours",won:"Gagné",lost:"Perdu",pending:"Tirage imminent"})[m]||m}}const Lf={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"},Ef={class:"flex items-center"},Sf={class:"ml-4"},Vf={class:"text-sm font-medium text-gray-600"},Ff={class:"text-2xl font-bold text-gray-900"},Rf={class:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 mb-6"},Nf={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},qf={class:"flex items-end"},zf={key:0,class:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6"},Uf={class:"flex"},Bf={class:"ml-3"},Of={class:"mt-2 text-sm text-red-700"},Hf={class:"mt-4"},Gf={key:1,class:"text-center py-12"},Kf={key:2,class:"text-center py-12"},Zf={class:"text-lg font-medium text-gray-900 mb-2"},Wf={class:"text-gray-600 mb-4"},Jf={key:3,class:"space-y-4"},Xf={class:"p-6"},Yf={class:"flex items-start space-x-4"},Qf={class:"flex-shrink-0"},eb=["src","alt"],tb={class:"flex-1 min-w-0"},sb={class:"flex justify-between items-start mb-2"},ob={class:"text-lg font-semibold text-gray-900"},rb={class:"text-sm text-gray-600"},ab={class:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4"},ib={class:"text-sm font-semibold text-gray-900"},nb={class:"text-sm font-semibold text-gray-900"},lb={class:"text-sm font-semibold text-gray-900"},db={class:"text-sm font-semibold text-gray-900"},cb={class:"mb-4"},ub={class:"flex flex-wrap gap-2"},mb={key:0,class:"mb-4"},pb={class:"flex justify-between text-xs text-gray-600 mb-1"},gb={class:"w-full bg-gray-200 rounded-full h-2"},vb={key:1,class:"bg-blue-50 p-4 rounded-lg mb-4"},xb={class:"flex items-center mb-2"},fb={class:"text-sm text-blue-800"},bb={class:"text-sm text-blue-800"},hb={key:0,class:"mt-3"},yb=["onClick","disabled"],_b={key:1,class:"mt-3"},wb={class:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-blue-100 text-blue-800"},$b={key:2,class:"bg-red-50 p-4 rounded-lg mb-4"},kb={class:"flex items-center mb-2"},Cb={class:"text-sm text-red-800"},jb={class:"text-sm text-red-800"},Ab={class:"flex justify-between items-center"},Pb={class:"text-sm text-gray-500"},Mb={class:"flex space-x-2"},Db=["onClick","disabled"],Ib={key:4,class:"text-center mt-8"},Tb={__name:"MyTickets",setup(h){const{filteredTickets:v,stats:A,filters:y,hasMore:g,loading:u,error:P,loadTickets:i,loadMore:d,claimPrize:w,downloadTicket:C,resetFilters:T,formatCurrency:f,formatDate:$,getRemainingTime:D,getStatusLabel:E}=Tf(),a={TicketIcon:Te,TrophyIcon:Ne,CurrencyDollarIcon:De,ClockIcon:Ke},r=async n=>{try{await w(n),console.log("Prix réclamé avec succès")}catch(c){console.error("Erreur lors de la réclamation du prix:",c),window.$toast&&window.$toast.error("Erreur lors de la réclamation du prix. Veuillez réessayer.","❌ Erreur")}},F=async n=>{try{await C(n)}catch(c){console.error("Erreur lors du téléchargement:",c),window.$toast&&window.$toast.error("Erreur lors du téléchargement. Veuillez réessayer.","❌ Erreur")}};return ne(()=>{i()}),(n,c)=>{const x=me("router-link");return t(),s("div",null,[c[25]||(c[25]=e("div",{class:"mb-8"},[e("h1",{class:"text-3xl font-bold text-gray-900"},"Mes tickets"),e("p",{class:"mt-2 text-gray-600"},"Suivez vos participations aux tombolas")],-1)),e("div",Lf,[(t(!0),s(X,null,Y(l(A),O=>(t(),s("div",{key:O.label,class:"bg-white p-6 rounded-lg shadow-sm border border-gray-200"},[e("div",Ef,[e("div",{class:J(["p-3 rounded-lg",O.color])},[(t(),oe(we(a[O.icon]),{class:"w-6 h-6 text-white"}))],2),e("div",Sf,[e("p",Vf,o(O.label),1),e("p",Ff,o(O.value),1)])])]))),128))]),e("div",Rf,[e("div",Nf,[e("div",null,[c[6]||(c[6]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Rechercher",-1)),Z(e("input",{"onUpdate:modelValue":c[0]||(c[0]=O=>l(y).search=O),type:"text",placeholder:"Nom du produit...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[Q,l(y).search]])]),e("div",null,[c[8]||(c[8]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Statut",-1)),Z(e("select",{"onUpdate:modelValue":c[1]||(c[1]=O=>l(y).status=O),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},c[7]||(c[7]=[se('<option value="">Tous les statuts</option><option value="active">En cours</option><option value="won">Gagné</option><option value="lost">Perdu</option><option value="pending">En attente</option>',5)]),512),[[re,l(y).status]])]),e("div",null,[c[10]||(c[10]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Période",-1)),Z(e("select",{"onUpdate:modelValue":c[2]||(c[2]=O=>l(y).period=O),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},c[9]||(c[9]=[e("option",{value:""},"Toutes les périodes",-1),e("option",{value:"week"},"Cette semaine",-1),e("option",{value:"month"},"Ce mois",-1),e("option",{value:"quarter"},"Ce trimestre",-1)]),512),[[re,l(y).period]])]),e("div",qf,[e("button",{onClick:c[3]||(c[3]=(...O)=>l(T)&&l(T)(...O)),class:"w-full px-4 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors"}," Réinitialiser ")])])]),l(P)?(t(),s("div",zf,[e("div",Uf,[b(l(be),{class:"h-5 w-5 text-red-400"}),e("div",Bf,[c[11]||(c[11]=e("h3",{class:"text-sm font-medium text-red-800"}," Erreur de chargement ",-1)),e("div",Of,[e("p",null,o(l(P)),1)]),e("div",Hf,[e("button",{onClick:c[4]||(c[4]=O=>l(i)()),class:"text-sm bg-red-100 text-red-800 px-3 py-1 rounded-md hover:bg-red-200 transition-colors"}," Réessayer ")])])])])):B("",!0),l(u)?(t(),s("div",Gf,c[12]||(c[12]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"},null,-1),e("p",{class:"mt-4 text-gray-600"},"Chargement de vos tickets...",-1)]))):l(v).length===0?(t(),s("div",Kf,[b(l(Te),{class:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e("h3",Zf,o(l(v).length===0&&!l(y).search&&!l(y).status&&!l(y).period?"Aucun ticket acheté":"Aucun résultat trouvé"),1),e("p",Wf,o(l(v).length===0&&!l(y).search&&!l(y).status&&!l(y).period?"Vous n'avez pas encore participé à des tombolas":"Essayez de modifier vos filtres de recherche"),1),l(v).length===0&&!l(y).search&&!l(y).status&&!l(y).period?(t(),oe(x,{key:0,to:"/customer/products",class:"inline-block bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors"},{default:ee(()=>c[13]||(c[13]=[K(" Découvrir les produits ",-1)])),_:1,__:[13]})):B("",!0)])):(t(),s("div",Jf,[(t(!0),s(X,null,Y(l(v),O=>(t(),s("div",{key:O.id,class:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden"},[e("div",Xf,[e("div",Yf,[e("div",Qf,[e("img",{src:O.product.image,alt:O.product.title,class:"w-20 h-20 rounded-lg object-cover"},null,8,eb)]),e("div",tb,[e("div",sb,[e("div",null,[e("h3",ob,o(O.product.title),1),e("p",rb,o(O.product.description),1)]),e("span",{class:J(["px-3 py-1 text-sm font-medium rounded-full",O.status==="won"?"bg-blue-100 text-blue-800":O.status==="lost"?"bg-red-100 text-red-800":O.status==="active"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"])},o(l(E)(O.status)),3)]),e("div",ab,[e("div",null,[c[14]||(c[14]=e("p",{class:"text-xs text-gray-500"},"Tickets achetés",-1)),e("p",ib,o(O.quantity),1)]),e("div",null,[c[15]||(c[15]=e("p",{class:"text-xs text-gray-500"},"Total payé",-1)),e("p",nb,o(l(f)(O.total_price)),1)]),e("div",null,[c[16]||(c[16]=e("p",{class:"text-xs text-gray-500"},"Date d'achat",-1)),e("p",lb,o(l($)(O.purchased_at)),1)]),e("div",null,[c[17]||(c[17]=e("p",{class:"text-xs text-gray-500"},"Tirage",-1)),e("p",db,o(l($)(O.lottery.draw_date)),1)])]),e("div",cb,[c[18]||(c[18]=e("p",{class:"text-xs text-gray-500 mb-2"},"Vos numéros de tickets",-1)),e("div",ub,[(t(!0),s(X,null,Y(O.ticket_numbers,W=>(t(),s("span",{key:W,class:J(["px-2 py-1 text-xs font-mono rounded border",O.winning_number===W?"bg-blue-100 text-blue-800 border-blue-300":"bg-gray-50 text-gray-700 border-gray-300"])}," #"+o(W),3))),128))])]),O.status==="active"?(t(),s("div",mb,[e("div",pb,[c[19]||(c[19]=e("span",null,"Progression de la tombola",-1)),e("span",null,o(O.lottery.progress)+"%",1)]),e("div",gb,[e("div",{class:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:he({width:O.lottery.progress+"%"})},null,4)])])):B("",!0),O.status==="won"?(t(),s("div",vb,[e("div",xb,[b(l(Ne),{class:"w-5 h-5 text-blue-600 mr-2"}),c[20]||(c[20]=e("p",{class:"font-semibold text-blue-900"},"Félicitations ! Vous avez gagné !",-1))]),e("p",fb,"Numéro gagnant: #"+o(O.winning_number),1),e("p",bb,"Tirage effectué le "+o(l($)(O.lottery.draw_date)),1),O.prize_claimed?(t(),s("div",_b,[e("span",wb,[b(l(Ce),{class:"w-4 h-4 mr-1"}),c[21]||(c[21]=K(" Prix réclamé ",-1))])])):(t(),s("div",hb,[e("button",{onClick:W=>r(O.id),disabled:l(u),class:"bg-blue-600 text-white px-4 py-2 rounded-md text-sm hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},o(l(u)?"Réclamation...":"Réclamer mon prix"),9,yb)]))])):B("",!0),O.status==="lost"?(t(),s("div",$b,[e("div",kb,[b(l(be),{class:"w-5 h-5 text-red-600 mr-2"}),c[22]||(c[22]=e("p",{class:"font-semibold text-red-900"},"Pas de chance cette fois-ci",-1))]),e("p",Cb,"Numéro gagnant: #"+o(O.winning_number),1),e("p",jb,"Tirage effectué le "+o(l($)(O.lottery.draw_date)),1)])):B("",!0),e("div",Ab,[e("div",Pb,o(l(D)(O.lottery.draw_date,O.status)),1),e("div",Mb,[b(x,{to:`/customer/products/${O.product.id}`,class:"text-sm text-blue-600 hover:text-blue-700 font-medium"},{default:ee(()=>c[23]||(c[23]=[K(" Voir le produit ",-1)])),_:2,__:[23]},1032,["to"]),e("button",{onClick:W=>F(O.id),disabled:l(u),class:"text-sm text-gray-600 hover:text-gray-700 font-medium disabled:opacity-50 disabled:cursor-not-allowed"},o(l(u)?"Téléchargement...":"Télécharger"),9,Db)])])])])])]))),128))])),!l(u)&&l(v).length>0&&l(g)?(t(),s("div",Ib,[e("button",{onClick:c[5]||(c[5]=(...O)=>l(d)&&l(d)(...O)),class:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-blue-600 bg-blue-50 hover:bg-blue-100"},[c[24]||(c[24]=K(" Charger plus de tickets ",-1)),b(l(it),{class:"ml-2 w-5 h-5"})])])):B("",!0)])}}},Lb={class:"min-h-screen bg-gray-50 py-8"},Eb={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Sb={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8"},Vb={class:"flex items-center justify-between"},Fb={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"},Rb={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},Nb={class:"flex items-center"},qb={class:"text-2xl font-bold text-gray-900"},zb={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},Ub={class:"flex items-center"},Bb={class:"text-2xl font-bold text-gray-900"},Ob={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},Hb={class:"flex items-center"},Gb={class:"text-2xl font-bold text-gray-900"},Kb={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},Zb={class:"flex items-center"},Wb={class:"text-2xl font-bold text-gray-900"},Jb={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-8"},Xb={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},Yb={class:"flex items-center space-x-4"},Qb={class:"text-sm text-gray-500"},eh={key:0,class:"text-center py-12"},th={key:1,class:"text-center py-12"},sh={key:2,class:"space-y-4"},oh={class:"flex items-start justify-between"},rh={class:"flex-1"},ah={class:"flex items-center space-x-3 mb-2"},ih={class:"font-mono text-sm text-gray-600"},nh={key:0,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800"},lh={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4"},dh={class:"text-lg font-semibold text-gray-900"},ch={class:"text-sm font-medium"},uh={class:"text-sm"},mh={key:0,class:"bg-gray-50 rounded-lg p-3 mb-4"},ph={class:"font-medium"},gh={key:1,class:"bg-red-50 border border-red-200 rounded-lg p-3 mb-4"},vh={class:"text-sm text-red-700 mt-1"},xh={key:2,class:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4"},fh={class:"text-sm text-blue-700 mt-1"},bh={class:"flex space-x-2 ml-4"},hh=["onClick"],yh=["onClick"],_h={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},wh={class:"flex items-center justify-center min-h-screen px-4"},$h={class:"relative bg-white rounded-lg max-w-lg w-full"},kh={class:"p-6"},Ch={class:"flex items-center justify-between mb-4"},jh={class:"space-y-4"},Ah=["value"],Ph={class:"flex justify-end space-x-3 mt-6"},Mh=["disabled"],Dh={key:1,class:"fixed inset-0 z-50 overflow-y-auto"},Ih={class:"flex items-center justify-center min-h-screen px-4"},Th={class:"relative bg-white rounded-lg max-w-2xl w-full max-h-screen overflow-y-auto"},Lh={class:"p-6"},Eh={class:"flex items-center justify-between mb-6"},Sh={class:"space-y-6"},Vh={class:"grid grid-cols-2 gap-4"},Fh={class:"font-mono font-medium"},Rh={class:"grid grid-cols-2 gap-4"},Nh={class:"text-xl font-semibold text-blue-600"},qh={class:"bg-gray-50 rounded-lg p-4"},zh={class:"grid grid-cols-2 gap-4"},Uh={class:"font-mono"},Bh={key:0,class:"bg-blue-50 rounded-lg p-4"},Oh={class:"mt-2"},Hh={class:"space-y-2"},Gh={class:"flex justify-between"},Kh={class:"text-sm"},Zh={key:0,class:"flex justify-between"},Wh={class:"text-sm"},Jh={key:1,class:"flex justify-between"},Xh={class:"text-sm"},Yh={key:2,class:"flex justify-between"},Qh={class:"text-sm"},ey={__name:"Refunds",setup(h){const{get:v,post:A}=de(),y=R([]),g=R({}),u=R(!1),P=R(""),i=R(!1),d=R(!1),w=R(null),C=R([]),T=R({transaction_id:"",reason:"",notes:""}),f=async()=>{u.value=!0;try{const m=new URLSearchParams({limit:50});P.value&&m.append("status",P.value);const M=await v(`/refunds?${m}`);y.value=M.data.refunds||[],g.value=M.data.stats||{}}catch(m){console.error("Error loading refunds:",m)}finally{u.value=!1}},$=async()=>{try{const m=await v("/transactions?status=completed&limit=100");C.value=m.data.transactions?.filter(M=>!M.has_refund)||[]}catch(m){console.error("Error loading transactions:",m)}},D=async()=>{d.value=!0;try{const m=await A("/refunds",T.value);y.value.unshift(m.data.refund),g.value.total_refunds=(g.value.total_refunds||0)+1,g.value.pending_refunds=(g.value.pending_refunds||0)+1,T.value={transaction_id:"",reason:"",notes:""},i.value=!1,window.$toast&&window.$toast.success("Demande de remboursement créée avec succès!","✅ Demande créée")}catch(m){console.error("Error creating refund:",m),window.$toast&&window.$toast.error("Erreur lors de la création de la demande","❌ Erreur")}finally{d.value=!1}},E=async m=>{if(confirm("Êtes-vous sûr de vouloir annuler cette demande ?"))try{await A(`/refunds/${m.id}/cancel`);const M=y.value.findIndex(L=>L.id===m.id);M!==-1&&(y.value[M].status="rejected",y.value[M].rejection_reason="Annulé par l'utilisateur"),window.$toast&&window.$toast.success("Demande annulée avec succès","✅ Annulation")}catch(M){console.error("Error cancelling refund:",M),window.$toast&&window.$toast.error("Erreur lors de l'annulation","❌ Erreur")}},a=m=>{w.value=m},r=()=>{i.value=!1,T.value={transaction_id:"",reason:"",notes:""}},F=()=>{P.value="",f()},n=m=>new Intl.NumberFormat("fr-FR",{minimumFractionDigits:0,maximumFractionDigits:0}).format(m||0)+" FCFA",c=m=>m?m>=1e6?(m/1e6).toFixed(1)+"M":m>=1e3?(m/1e3).toFixed(0)+"K":m.toString():"0",x=m=>new Intl.DateTimeFormat("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(m)),O=m=>({pending:"bg-yellow-100 text-yellow-800",approved:"bg-blue-100 text-blue-800",processed:"bg-purple-100 text-purple-800",completed:"bg-blue-100 text-blue-800",rejected:"bg-red-100 text-red-800",failed:"bg-red-100 text-red-800"})[m]||"bg-gray-100 text-gray-800",W=m=>({pending:"⏳ En attente",approved:"✅ Approuvé",processed:"🔄 En traitement",completed:"✅ Terminé",rejected:"❌ Rejeté",failed:"❌ Échec"})[m]||m,H=m=>({insufficient_participants:"Participants insuffisants",lottery_cancelled:"Tombola annulée",accidental_purchase:"Achat accidentel",changed_mind:"Changement d'avis",duplicate_purchase:"Achat en double",technical_issue:"Problème technique",system_error:"Erreur système",other:"Autre"})[m]||m,I=m=>({mobile_money:"Mobile Money",bank_transfer:"Virement bancaire",wallet_credit:"Crédit portefeuille"})[m]||m;return ne(async()=>{await Promise.all([f(),$()])}),(m,M)=>(t(),s("div",Lb,[e("div",Eb,[e("div",Sb,[e("div",Vb,[M[8]||(M[8]=e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900"},"💸 Mes Remboursements"),e("p",{class:"text-gray-600 mt-1"},"Gérez vos demandes de remboursement")],-1)),e("button",{onClick:M[0]||(M[0]=L=>i.value=!0),class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"}," ➕ Nouvelle demande ")])]),e("div",Fb,[e("div",Rb,[e("div",Nb,[M[10]||(M[10]=e("div",{class:"p-3 rounded-full bg-blue-100 text-blue-600 mr-4"}," 💰 ",-1)),e("div",null,[e("div",qb,o(g.value.total_refunds||0),1),M[9]||(M[9]=e("div",{class:"text-sm text-gray-600"},"Remboursements",-1))])])]),e("div",zb,[e("div",Ub,[M[12]||(M[12]=e("div",{class:"p-3 rounded-full bg-blue-100 text-blue-600 mr-4"}," ✅ ",-1)),e("div",null,[e("div",Bb,o(c(g.value.total_amount_refunded)),1),M[11]||(M[11]=e("div",{class:"text-sm text-gray-600"},"Montant remboursé",-1))])])]),e("div",Ob,[e("div",Hb,[M[14]||(M[14]=e("div",{class:"p-3 rounded-full bg-yellow-100 text-yellow-600 mr-4"}," ⏳ ",-1)),e("div",null,[e("div",Gb,o(g.value.pending_refunds||0),1),M[13]||(M[13]=e("div",{class:"text-sm text-gray-600"},"En attente",-1))])])]),e("div",Kb,[e("div",Zb,[M[16]||(M[16]=e("div",{class:"p-3 rounded-full bg-red-100 text-red-600 mr-4"}," ❌ ",-1)),e("div",null,[e("div",Wb,o(g.value.rejected_refunds||0),1),M[15]||(M[15]=e("div",{class:"text-sm text-gray-600"},"Rejetées",-1))])])])]),e("div",Jb,[e("div",Xb,[e("div",Yb,[Z(e("select",{"onUpdate:modelValue":M[1]||(M[1]=L=>P.value=L),onChange:f,class:"rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},M[17]||(M[17]=[se('<option value="">Tous les statuts</option><option value="pending">En attente</option><option value="approved">Approuvé</option><option value="processed">Traité</option><option value="completed">Terminé</option><option value="rejected">Rejeté</option>',6)]),544),[[re,P.value]]),e("button",{onClick:F,class:"px-3 py-2 text-gray-600 hover:text-gray-800 text-sm"}," Réinitialiser ")]),e("div",Qb,o(y.value.length)+" remboursement(s) ",1)])]),u.value?(t(),s("div",eh,M[18]||(M[18]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"},null,-1),e("p",{class:"mt-4 text-gray-600"},"Chargement des remboursements...",-1)]))):y.value.length===0?(t(),s("div",th,[b(l(bt),{class:"mx-auto h-16 w-16 text-gray-400 mb-4"}),M[19]||(M[19]=e("h3",{class:"text-xl font-medium text-gray-900 mb-2"},"Aucun remboursement",-1)),M[20]||(M[20]=e("p",{class:"text-gray-600 mb-6"},"Vous n'avez pas encore de demande de remboursement.",-1)),e("button",{onClick:M[2]||(M[2]=L=>i.value=!0),class:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700"}," Faire une demande ")])):(t(),s("div",sh,[(t(!0),s(X,null,Y(y.value,L=>(t(),s("div",{key:L.id,class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow"},[e("div",oh,[e("div",rh,[e("div",ah,[e("span",ih,o(L.refund_number),1),e("span",{class:J(["inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",O(L.status)])},o(W(L.status)),3),L.auto_processed?(t(),s("span",nh," 🤖 Automatique ")):B("",!0)]),e("div",lh,[e("div",null,[M[21]||(M[21]=e("div",{class:"text-sm text-gray-600"},"Montant",-1)),e("div",dh,o(n(L.amount)),1)]),e("div",null,[M[22]||(M[22]=e("div",{class:"text-sm text-gray-600"},"Raison",-1)),e("div",ch,o(H(L.reason)),1)]),e("div",null,[M[23]||(M[23]=e("div",{class:"text-sm text-gray-600"},"Date de demande",-1)),e("div",uh,o(x(L.created_at)),1)])]),L.lottery?(t(),s("div",mh,[M[24]||(M[24]=e("div",{class:"text-sm text-gray-600"},"Tombola concernée",-1)),e("div",ph,o(L.lottery.lottery_number)+" - "+o(L.lottery.product_title),1)])):B("",!0),L.rejection_reason?(t(),s("div",gh,[M[25]||(M[25]=e("div",{class:"text-sm font-medium text-red-800"},"Raison du rejet",-1)),e("div",vh,o(L.rejection_reason),1)])):B("",!0),L.notes?(t(),s("div",xh,[M[26]||(M[26]=e("div",{class:"text-sm font-medium text-blue-800"},"Notes",-1)),e("div",fh,o(L.notes),1)])):B("",!0)]),e("div",bh,[e("button",{onClick:S=>a(L),class:"px-3 py-2 text-blue-600 hover:text-blue-700 text-sm font-medium"}," Détails ",8,hh),L.status==="pending"?(t(),s("button",{key:0,onClick:S=>E(L),class:"px-3 py-2 text-red-600 hover:text-red-700 text-sm font-medium"}," Annuler ",8,yh)):B("",!0)])])]))),128))]))]),i.value?(t(),s("div",_h,[e("div",wh,[e("div",{class:"fixed inset-0 bg-black bg-opacity-20",onClick:r}),e("div",$h,[e("div",kh,[e("div",Ch,[M[27]||(M[27]=e("h3",{class:"text-lg font-semibold"},"Nouvelle demande de remboursement",-1)),e("button",{onClick:r,class:"text-gray-400 hover:text-gray-600"},[b(l(Ie),{class:"w-6 h-6"})])]),e("form",{onSubmit:ge(D,["prevent"])},[e("div",jh,[e("div",null,[M[29]||(M[29]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Transaction à rembourser",-1)),Z(e("select",{"onUpdate:modelValue":M[3]||(M[3]=L=>T.value.transaction_id=L),required:"",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},[M[28]||(M[28]=e("option",{value:""},"Sélectionnez une transaction",-1)),(t(!0),s(X,null,Y(C.value,L=>(t(),s("option",{key:L.id,value:L.id},o(L.reference)+" - "+o(n(L.amount))+" "+o(L.lottery?`(${L.lottery.lottery_number})`:""),9,Ah))),128))],512),[[re,T.value.transaction_id]])]),e("div",null,[M[31]||(M[31]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Raison du remboursement",-1)),Z(e("select",{"onUpdate:modelValue":M[4]||(M[4]=L=>T.value.reason=L),required:"",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},M[30]||(M[30]=[se('<option value="">Sélectionnez une raison</option><option value="accidental_purchase">Achat accidentel</option><option value="changed_mind">Changement d&#39;avis</option><option value="duplicate_purchase">Achat en double</option><option value="technical_issue">Problème technique</option><option value="other">Autre</option>',6)]),512),[[re,T.value.reason]])]),e("div",null,[M[32]||(M[32]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Explication (optionnel)",-1)),Z(e("textarea",{"onUpdate:modelValue":M[5]||(M[5]=L=>T.value.notes=L),rows:"3",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Décrivez votre situation..."},null,512),[[Q,T.value.notes]])])]),e("div",Ph,[e("button",{type:"button",onClick:r,class:"px-4 py-2 text-gray-700 bg-gray-200 hover:bg-gray-300 rounded-lg"}," Annuler "),e("button",{type:"submit",disabled:d.value,class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50"},o(d.value?"Création...":"Créer la demande"),9,Mh)])],32)])])])])):B("",!0),w.value?(t(),s("div",Dh,[e("div",Ih,[e("div",{class:"fixed inset-0 bg-black bg-opacity-20",onClick:M[6]||(M[6]=L=>w.value=null)}),e("div",Th,[e("div",Lh,[e("div",Eh,[M[33]||(M[33]=e("h3",{class:"text-lg font-semibold"},"Détails du remboursement",-1)),e("button",{onClick:M[7]||(M[7]=L=>w.value=null),class:"text-gray-400 hover:text-gray-600"},[b(l(Ie),{class:"w-6 h-6"})])]),e("div",Sh,[e("div",Vh,[e("div",null,[M[34]||(M[34]=e("div",{class:"text-sm text-gray-600"},"Numéro",-1)),e("div",Fh,o(w.value.refund_number),1)]),e("div",null,[M[35]||(M[35]=e("div",{class:"text-sm text-gray-600"},"Statut",-1)),e("span",{class:J(["inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",O(w.value.status)])},o(W(w.value.status)),3)])]),e("div",Rh,[e("div",null,[M[36]||(M[36]=e("div",{class:"text-sm text-gray-600"},"Montant",-1)),e("div",Nh,o(n(w.value.amount)),1)]),e("div",null,[M[37]||(M[37]=e("div",{class:"text-sm text-gray-600"},"Méthode de remboursement",-1)),e("div",null,o(I(w.value.refund_method)),1)])]),e("div",qh,[M[40]||(M[40]=e("h4",{class:"font-medium text-gray-900 mb-3"},"Transaction originale",-1)),e("div",zh,[e("div",null,[M[38]||(M[38]=e("div",{class:"text-sm text-gray-600"},"Référence",-1)),e("div",Uh,o(w.value.transaction.reference),1)]),e("div",null,[M[39]||(M[39]=e("div",{class:"text-sm text-gray-600"},"Montant",-1)),e("div",null,o(n(w.value.transaction.amount)),1)])])]),w.value.lottery?(t(),s("div",Bh,[M[43]||(M[43]=e("h4",{class:"font-medium text-gray-900 mb-3"},"Tombola concernée",-1)),e("div",null,[M[41]||(M[41]=e("div",{class:"text-sm text-gray-600"},"Numéro",-1)),e("div",null,o(w.value.lottery.lottery_number),1)]),e("div",Oh,[M[42]||(M[42]=e("div",{class:"text-sm text-gray-600"},"Produit",-1)),e("div",null,o(w.value.lottery.product_title),1)])])):B("",!0),e("div",null,[M[48]||(M[48]=e("h4",{class:"font-medium text-gray-900 mb-3"},"Chronologie",-1)),e("div",Hh,[e("div",Gh,[M[44]||(M[44]=e("span",{class:"text-sm text-gray-600"},"Demande créée",-1)),e("span",Kh,o(x(w.value.created_at)),1)]),w.value.approved_at?(t(),s("div",Zh,[M[45]||(M[45]=e("span",{class:"text-sm text-gray-600"},"Approuvé",-1)),e("span",Wh,o(x(w.value.approved_at)),1)])):B("",!0),w.value.processed_at?(t(),s("div",Jh,[M[46]||(M[46]=e("span",{class:"text-sm text-gray-600"},"Traité",-1)),e("span",Xh,o(x(w.value.processed_at)),1)])):B("",!0),w.value.rejected_at?(t(),s("div",Yh,[M[47]||(M[47]=e("span",{class:"text-sm text-gray-600"},"Rejeté",-1)),e("span",Qh,o(x(w.value.rejected_at)),1)])):B("",!0)])])])])])])])):B("",!0)]))}};function ty(){const{get:h,loading:v,error:A}=de(),y=R({users:{total:0,active:0,growth:0},products:{total:0,active:0,growth:0},lotteries:{total:0,active:0,growth:0},revenue:{total:0,monthly:0,growth:0}}),g=R([]),u=R([]),P=R([]),i=te(()=>[{label:"Utilisateurs actifs",value:f(y.value.users.active),change:y.value.users.growth,icon:"UsersIcon",bgColor:"bg-[#0099cc]/10",iconColor:"text-[#0099cc]"},{label:"Produits en vente",value:f(y.value.products.active),change:y.value.products.growth,icon:"ShoppingBagIcon",bgColor:"bg-blue-100",iconColor:"text-blue-600"},{label:"Tombolas actives",value:f(y.value.lotteries.active),change:y.value.lotteries.growth,icon:"GiftIcon",bgColor:"bg-yellow-100",iconColor:"text-yellow-600"},{label:"Revenus mensuel",value:$(y.value.revenue.monthly),change:y.value.revenue.growth,icon:"CurrencyDollarIcon",bgColor:"bg-purple-100",iconColor:"text-purple-600"}]),d=async()=>{try{const r=await h("/admin/dashboard/stats");r&&r.success&&(y.value={users:{total:r.data.users?.total||0,active:r.data.users?.active||0,growth:r.data.users?.growth||0},products:{total:r.data.products?.total||0,active:r.data.products?.active||0,growth:r.data.products?.growth||0},lotteries:{total:r.data.lotteries?.total||0,active:r.data.lotteries?.active||0,growth:r.data.lotteries?.growth||0},revenue:{total:r.data.revenue?.total||0,monthly:r.data.revenue?.monthly||0,growth:r.data.revenue?.growth||0}})}catch(r){console.error("Erreur lors du chargement des statistiques:",r),y.value={users:{total:2543,active:1876,growth:12.5},products:{total:186,active:134,growth:8.2},lotteries:{total:45,active:24,growth:-2.1},revenue:{total:125e6,monthly:452e5,growth:15.3}}}},w=async()=>{try{const r=await h("/admin/lotteries/recent?limit=5");r&&r.success&&(g.value=r.data.map(F=>({id:F.id,lottery_number:F.lottery_number,product:{name:F.product?.name||"Produit inconnu",image:F.product?.image_url||F.product?.main_image||"/images/products/placeholder.jpg"},status:F.status,statusLabel:D(F.status),sold_tickets:F.sold_tickets||0,total_tickets:F.total_tickets||0,end_date:F.end_date})))}catch(r){console.error("Erreur lors du chargement des tombolas récentes:",r),g.value=[]}},C=async()=>{try{const r=await h("/admin/activities/recent?limit=10");r&&r.success&&(u.value=r.data.map(F=>({id:F.id,type:F.type,icon:E(F.type),title:F.title,description:F.description,time:new Date(F.created_at)})))}catch(r){console.error("Erreur lors du chargement des activités récentes:",r),u.value=[]}},T=async()=>{try{const r=await h("/admin/products/top?limit=5");r&&r.success&&(P.value=r.data.map(F=>({id:F.id,title:F.name,sales:F.total_tickets_sold||0,growth:F.growth_percentage||0,image:F.image_url||F.main_image||"/images/products/placeholder.jpg"})))}catch(r){console.error("Erreur lors du chargement des produits populaires:",r),P.value=[]}},f=r=>r>=1e6?(r/1e6).toFixed(1)+"M":r>=1e3?(r/1e3).toFixed(1)+"k":r.toLocaleString(),$=r=>r>=1e6?(r/1e6).toFixed(1)+"M FCFA":r>=1e3?(r/1e3).toFixed(0)+"k FCFA":r.toLocaleString()+" FCFA",D=r=>({active:"Active",completed:"Terminée",pending:"En attente",cancelled:"Annulée",draft:"Brouillon"})[r]||r,E=r=>({user:"UsersIcon",product:"ShoppingBagIcon",payment:"CurrencyDollarIcon",lottery:"GiftIcon",transaction:"BanknotesIcon"})[r]||"InformationCircleIcon";return{stats:i,recentLotteries:g,recentActivities:u,topProducts:P,loading:v,error:A,loadDashboardData:async()=>{await Promise.all([d(),w(),C(),T()])},loadDashboardStats:d,loadRecentLotteries:w,loadRecentActivities:C,loadTopProducts:T,formatNumber:f,formatCurrency:$,getStatusLabel:D,getActivityIcon:E}}const sy={class:"space-y-6"},oy={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},ry={class:"flex items-center"},ay={class:"ml-4"},iy={class:"text-sm font-medium text-gray-600"},ny={class:"text-2xl font-bold text-gray-900"},ly={class:"mt-4 pt-4 border-t border-gray-100"},dy={class:"flex items-center text-sm"},cy={key:0,class:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4"},uy={class:"flex"},my={class:"ml-3"},py={class:"mt-1 text-sm text-red-700"},gy={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},vy={class:"lg:col-span-2 space-y-6"},xy={class:"admin-card"},fy={class:"h-64 flex items-center justify-center bg-gray-50 rounded-lg"},by={class:"text-center"},hy={class:"admin-card"},yy={class:"overflow-x-auto"},_y={class:"min-w-full"},wy={class:"bg-white divide-y divide-gray-200"},$y={class:"px-6 py-4 whitespace-nowrap"},ky={class:"flex items-center"},Cy=["src","alt"],jy={class:"ml-4"},Ay={class:"text-sm font-medium text-gray-900"},Py={class:"text-sm text-gray-500"},My={class:"px-6 py-4 whitespace-nowrap"},Dy={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Iy={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Ty={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},Ly={key:0,class:"text-orange-600 hover:text-orange-900"},Ey={class:"space-y-6"},Sy={class:"admin-card"},Vy={key:0,class:"space-y-4"},Fy={key:1,class:"space-y-4"},Ry={class:"flex-1 min-w-0"},Ny={class:"text-sm font-medium text-gray-900"},qy={class:"text-sm text-gray-600"},zy={class:"text-xs text-gray-500 mt-1"},Uy={key:2,class:"text-center py-6 text-gray-500"},By={class:"admin-card"},Oy={class:"space-y-4"},Hy={class:"flex-shrink-0"},Gy={class:"inline-flex items-center justify-center w-6 h-6 text-sm font-bold text-gray-600"},Ky=["src","alt"],Zy={class:"flex-1 min-w-0"},Wy={class:"text-sm font-medium text-gray-900 truncate"},Jy={class:"flex items-center space-x-2 mt-1"},Xy={class:"text-xs text-gray-500"},Yy={class:"admin-card"},Qy={class:"space-y-3"},e5={class:"admin-btn-primary w-full justify-center"},t5={class:"admin-btn-secondary w-full justify-center"},s5={class:"admin-btn-accent w-full justify-center"},o5={__name:"Dashboard",setup(h){const{stats:v,recentLotteries:A,recentActivities:y,topProducts:g,loading:u,error:P,loadDashboardData:i}=ty(),d={UsersIcon:et,ShoppingBagIcon:Se,GiftIcon:Ue,CurrencyDollarIcon:De,BanknotesIcon:bt,InformationCircleIcon:Ee},w=te(()=>v.value.map(D=>({...D,icon:d[D.icon]||Ee}))),C=te(()=>y.value.map(D=>({...D,icon:d[D.icon]||Ee}))),T=D=>new Date(D).toLocaleDateString("fr-FR",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"}),f=D=>{const a=Math.floor((new Date-D)/1e3);return a<60?`il y a ${a}s`:a<3600?`il y a ${Math.floor(a/60)}min`:a<86400?`il y a ${Math.floor(a/3600)}h`:`il y a ${Math.floor(a/86400)}j`},$=async()=>{await i()};return ne(async()=>{await i()}),(D,E)=>(t(),s("div",sy,[E[18]||(E[18]=e("div",{class:"mb-8"},[e("h1",{class:"text-3xl font-bold text-gray-900"},"Tableau de bord"),e("p",{class:"mt-2 text-gray-600"},"Vue d'ensemble des activités de la plateforme Koumbaya")],-1)),e("div",oy,[l(u)?(t(),s(X,{key:0},Y(4,a=>e("div",{key:a,class:"admin-card animate-pulse"},E[0]||(E[0]=[se('<div class="flex items-center"><div class="p-3 rounded-lg bg-gray-200"></div><div class="ml-4 flex-1"><div class="h-4 bg-gray-200 rounded w-20 mb-2"></div><div class="h-6 bg-gray-200 rounded w-16"></div></div></div><div class="mt-4 pt-4 border-t border-gray-100"><div class="h-4 bg-gray-200 rounded w-24"></div></div>',2)]))),64)):(t(!0),s(X,{key:1},Y(w.value,a=>(t(),s("div",{key:a.label,class:"admin-card hover:shadow-md transition-shadow duration-200"},[e("div",ry,[e("div",{class:J(["p-3 rounded-lg",a.bgColor])},[(t(),oe(we(a.icon),{class:J(["w-6 h-6",a.iconColor])},null,8,["class"]))],2),e("div",ay,[e("p",iy,o(a.label),1),e("p",ny,o(a.value),1)])]),e("div",ly,[e("div",dy,[e("span",{class:J(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",a.change>=0?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"])},[(t(),oe(we(a.change>=0?l(St):l(it)),{class:"w-3 h-3 mr-1"})),K(" "+o(Math.abs(a.change))+"% ",1)],2),E[1]||(E[1]=e("span",{class:"ml-2 text-gray-500"},"vs mois dernier",-1))])])]))),128))]),l(P)&&!l(u)?(t(),s("div",cy,[e("div",uy,[e("div",my,[E[2]||(E[2]=e("h3",{class:"text-sm font-medium text-red-800"},"Erreur de chargement",-1)),e("p",py,o(l(P)),1),e("button",{onClick:$,class:"mt-2 text-sm bg-red-100 hover:bg-red-200 text-red-800 px-3 py-1 rounded"}," Réessayer ")])])])):B("",!0),e("div",gy,[e("div",vy,[e("div",xy,[E[5]||(E[5]=se('<div class="admin-card-header"><div class="flex items-center justify-between"><h3 class="text-lg font-semibold text-gray-900">Revenus mensuels</h3><div class="flex items-center space-x-2"><button class="text-sm text-gray-500 hover:text-gray-700 px-3 py-1 rounded-md hover:bg-gray-100">30j</button><button class="text-sm bg-[#0099cc]/10 text-[#0099cc] px-3 py-1 rounded-md">90j</button><button class="text-sm text-gray-500 hover:text-gray-700 px-3 py-1 rounded-md hover:bg-gray-100">1an</button></div></div></div>',1)),e("div",fy,[e("div",by,[b(l(lt),{class:"w-12 h-12 text-gray-400 mx-auto mb-2"}),E[3]||(E[3]=e("p",{class:"text-gray-500"},"Graphique des revenus",-1)),E[4]||(E[4]=e("p",{class:"text-xs text-gray-400"},"Données en cours de chargement...",-1))])])]),e("div",hy,[E[8]||(E[8]=e("div",{class:"admin-card-header"},[e("h3",{class:"text-lg font-semibold text-gray-900"},"Tombolas récentes")],-1)),e("div",yy,[e("table",_y,[E[7]||(E[7]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Produit"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Statut"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Tickets"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Date de fin"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),e("tbody",wy,[(t(!0),s(X,null,Y(l(A),a=>(t(),s("tr",{key:a.id,class:"hover:bg-gray-50"},[e("td",$y,[e("div",ky,[e("img",{class:"h-10 w-10 rounded-lg object-cover",src:a.product.image,alt:a.product.name},null,8,Cy),e("div",jy,[e("div",Ay,o(a.product.name),1),e("div",Py,o(a.lottery_number),1)])])]),e("td",My,[e("span",{class:J(["inline-flex px-2 py-1 text-xs font-medium rounded-full",a.status==="active"?"admin-badge-success":a.status==="completed"?"bg-gray-100 text-gray-800":"admin-badge-warning"])},o(a.statusLabel),3)]),e("td",Dy,o(a.sold_tickets)+"/"+o(a.total_tickets),1),e("td",Iy,o(T(a.end_date)),1),e("td",Ty,[E[6]||(E[6]=e("button",{class:"text-[#0099cc] hover:text-[#0088bb] mr-3"},"Voir",-1)),a.status==="active"?(t(),s("button",Ly,"Modifier")):B("",!0)])]))),128))])])])])]),e("div",Ey,[e("div",Sy,[E[11]||(E[11]=e("div",{class:"admin-card-header"},[e("h3",{class:"text-lg font-semibold text-gray-900"},"Activités récentes")],-1)),l(u)?(t(),s("div",Vy,[(t(),s(X,null,Y(4,a=>e("div",{key:a,class:"flex items-start space-x-3 p-3 animate-pulse"},E[9]||(E[9]=[se('<div class="w-8 h-8 bg-gray-200 rounded-full flex-shrink-0"></div><div class="flex-1 min-w-0 space-y-2"><div class="h-4 bg-gray-200 rounded w-32"></div><div class="h-3 bg-gray-200 rounded w-48"></div><div class="h-3 bg-gray-200 rounded w-16"></div></div>',2)]))),64))])):C.value.length>0?(t(),s("div",Fy,[(t(!0),s(X,null,Y(C.value,a=>(t(),s("div",{key:a.id,class:"flex items-start space-x-3 p-3 hover:bg-gray-50 rounded-lg transition-colors"},[e("div",{class:J(["w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0",a.type==="user"?"bg-[#0099cc]/10 text-[#0099cc]":a.type==="product"?"bg-blue-100 text-blue-600":a.type==="payment"?"bg-yellow-100 text-yellow-600":"bg-purple-100 text-purple-600"])},[(t(),oe(we(a.icon),{class:"w-4 h-4"}))],2),e("div",Ry,[e("p",Ny,o(a.title),1),e("p",qy,o(a.description),1),e("p",zy,o(f(a.time)),1)])]))),128))])):(t(),s("div",Uy,[b(l(Ee),{class:"w-8 h-8 mx-auto mb-2 text-gray-400"}),E[10]||(E[10]=e("p",{class:"text-sm"},"Aucune activité récente",-1))])),E[12]||(E[12]=e("div",{class:"mt-4 pt-4 border-t border-gray-100"},[e("button",{class:"admin-btn-secondary w-full text-sm"}," Voir toutes les activités ")],-1))]),e("div",By,[E[13]||(E[13]=e("div",{class:"admin-card-header"},[e("h3",{class:"text-lg font-semibold text-gray-900"},"Produits populaires")],-1)),e("div",Oy,[(t(!0),s(X,null,Y(l(g),(a,r)=>(t(),s("div",{key:a.id,class:"flex items-center space-x-3"},[e("div",Hy,[e("span",Gy,o(r+1),1)]),e("img",{src:a.image,alt:a.title,class:"w-10 h-10 rounded-lg object-cover flex-shrink-0"},null,8,Ky),e("div",Zy,[e("p",Wy,o(a.title),1),e("div",Jy,[e("p",Xy,o(a.sales)+" tickets",1),e("span",{class:J(["text-xs font-medium",a.growth>0?"text-blue-600":"text-red-600"])},o(a.growth>0?"+":"")+o(a.growth)+"% ",3)])])]))),128))])]),e("div",Yy,[E[17]||(E[17]=e("div",{class:"admin-card-header"},[e("h3",{class:"text-lg font-semibold text-gray-900"},"Actions rapides")],-1)),e("div",Qy,[e("button",e5,[b(l(Re),{class:"w-4 h-4 mr-2"}),E[14]||(E[14]=K(" Nouveau produit ",-1))]),e("button",t5,[b(l(zt),{class:"w-4 h-4 mr-2"}),E[15]||(E[15]=K(" Ajouter utilisateur ",-1))]),e("button",s5,[b(l(ds),{class:"w-4 h-4 mr-2"}),E[16]||(E[16]=K(" Générer rapport ",-1))])])])])])]))}},r5={class:"px-6"},a5={class:"mb-8"},i5={class:"flex justify-between items-center"},n5={class:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 mb-6"},l5={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},d5={class:"bg-white rounded-lg shadow-sm border border-gray-200"},c5={class:"px-6 py-4 border-b border-gray-200"},u5={class:"flex justify-between items-center"},m5={class:"text-lg font-semibold text-gray-900"},p5={class:"flex space-x-2"},g5={class:"p-2 text-gray-400 hover:text-gray-600"},v5={key:0,class:"p-8 text-center"},x5={key:1,class:"overflow-x-auto"},f5={class:"min-w-full divide-y divide-gray-200"},b5={class:"bg-white divide-y divide-gray-200"},h5={class:"px-6 py-4 whitespace-nowrap"},y5={class:"flex items-center"},_5={class:"w-10 h-10 bg-gray-300 rounded-full flex items-center justify-center"},w5={class:"text-sm font-medium text-gray-700"},$5={class:"ml-4"},k5={class:"text-sm font-medium text-gray-900"},C5={key:0,class:"text-sm text-gray-500"},j5={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},A5={class:"px-6 py-4 whitespace-nowrap"},P5={class:"px-6 py-4 whitespace-nowrap"},M5={class:"flex items-center space-x-2"},D5={key:0,class:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800"},I5={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},T5={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},L5={class:"flex space-x-2"},E5=["onClick"],S5=["onClick"],V5={class:"px-6 py-3 border-t border-gray-200"},F5={class:"flex items-center justify-between"},R5={class:"text-sm text-gray-700"},N5={class:"flex space-x-2"},q5=["disabled"],z5=["disabled"],Be=10,U5={__name:"UserManagement",setup(h){const v=R([]),A=R(!1),y=R(!1),g=R(1),u=R({search:"",role:"",status:""}),P=[{id:1,first_name:"Jean",last_name:"Dupont",email:"jean.dupont@email.com",phone:"+237 123 456 789",role:"CUSTOMER",is_active:!0,verified_at:new Date,created_at:new Date(Date.now()-720*60*60*1e3)},{id:2,first_name:"Marie",last_name:"Claire",email:"marie.claire@email.com",phone:"+237 987 654 321",role:"MERCHANT",is_active:!0,verified_at:null,created_at:new Date(Date.now()-360*60*60*1e3)},{id:3,first_name:"Paul",last_name:"Martin",email:"paul.martin@email.com",phone:"+237 555 123 456",role:"ADMIN",is_active:!1,verified_at:new Date,created_at:new Date(Date.now()-10080*60*1e3)}],i=te(()=>{let E=v.value;if(u.value.search){const a=u.value.search.toLowerCase();E=E.filter(r=>r.first_name.toLowerCase().includes(a)||r.last_name.toLowerCase().includes(a)||r.email.toLowerCase().includes(a))}return u.value.role&&(E=E.filter(a=>a.role===u.value.role)),u.value.status&&(E=E.filter(a=>{switch(u.value.status){case"active":return a.is_active;case"inactive":return!a.is_active;case"verified":return a.verified_at!==null;case"unverified":return a.verified_at===null;default:return!0}})),E}),d=te(()=>{const E=(g.value-1)*Be,a=E+Be;return i.value.slice(E,a)}),w=te(()=>Math.ceil(i.value.length/Be)),C=async()=>{A.value=!0;try{setTimeout(()=>{v.value=P,A.value=!1},1e3)}catch(E){console.error("Erreur lors du chargement des utilisateurs:",E),A.value=!1}},T=()=>{u.value={search:"",role:"",status:""},g.value=1},f=E=>{console.log("Éditer utilisateur:",E)},$=async E=>{try{E.is_active=!E.is_active,console.log("Statut modifié pour:",E)}catch(a){console.error("Erreur lors de la modification du statut:",a)}},D=E=>new Intl.DateTimeFormat("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"}).format(new Date(E));return ne(()=>{C()}),(E,a)=>(t(),s("div",r5,[e("div",a5,[e("div",i5,[a[7]||(a[7]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900"},"Gestion des Utilisateurs"),e("p",{class:"mt-2 text-gray-600"},"Gérez tous les utilisateurs de la plateforme")],-1)),e("button",{onClick:a[0]||(a[0]=r=>y.value=!0),class:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors"},[b(l(Re),{class:"w-5 h-5 inline mr-2"}),a[6]||(a[6]=K(" Nouvel Utilisateur ",-1))])])]),e("div",n5,[e("div",l5,[e("div",null,[a[8]||(a[8]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Rechercher",-1)),Z(e("input",{"onUpdate:modelValue":a[1]||(a[1]=r=>u.value.search=r),type:"text",placeholder:"Nom, email...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[Q,u.value.search]])]),e("div",null,[a[10]||(a[10]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Rôle",-1)),Z(e("select",{"onUpdate:modelValue":a[2]||(a[2]=r=>u.value.role=r),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},a[9]||(a[9]=[e("option",{value:""},"Tous les rôles",-1),e("option",{value:"CUSTOMER"},"Client",-1),e("option",{value:"MERCHANT"},"Marchand",-1),e("option",{value:"ADMIN"},"Administrateur",-1)]),512),[[re,u.value.role]])]),e("div",null,[a[12]||(a[12]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Statut",-1)),Z(e("select",{"onUpdate:modelValue":a[3]||(a[3]=r=>u.value.status=r),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},a[11]||(a[11]=[se('<option value="">Tous les statuts</option><option value="active">Actif</option><option value="inactive">Inactif</option><option value="verified">Vérifié</option><option value="unverified">Non vérifié</option>',5)]),512),[[re,u.value.status]])]),e("div",{class:"flex items-end"},[e("button",{onClick:T,class:"w-full px-4 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors"}," Réinitialiser ")])])]),e("div",d5,[e("div",c5,[e("div",u5,[e("h3",m5," Utilisateurs ("+o(i.value.length)+") ",1),e("div",p5,[e("button",g5,[b(l(Et),{class:"w-5 h-5"})])])])]),A.value?(t(),s("div",v5,a[13]||(a[13]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"},null,-1),e("p",{class:"mt-2 text-gray-600"},"Chargement...",-1)]))):(t(),s("div",x5,[e("table",f5,[a[14]||(a[14]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Utilisateur "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Email "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Rôle "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Statut "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Inscription "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",b5,[(t(!0),s(X,null,Y(d.value,r=>(t(),s("tr",{key:r.id,class:"hover:bg-gray-50"},[e("td",h5,[e("div",y5,[e("div",_5,[e("span",w5,o(r.first_name[0])+o(r.last_name[0]),1)]),e("div",$5,[e("div",k5,o(r.first_name)+" "+o(r.last_name),1),r.phone?(t(),s("div",C5,o(r.phone),1)):B("",!0)])])]),e("td",j5,o(r.email),1),e("td",A5,[e("span",{class:J(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",r.role==="ADMIN"?"bg-red-100 text-red-800":(r.role==="MERCHANT","bg-blue-100 text-blue-800")])},o(r.role==="ADMIN"?"Administrateur":r.role==="MERCHANT"?"Marchand":"Client"),3)]),e("td",P5,[e("div",M5,[e("span",{class:J(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",r.is_active?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"])},o(r.is_active?"Actif":"Inactif"),3),r.verified_at?(t(),s("span",D5," Vérifié ")):B("",!0)])]),e("td",I5,o(D(r.created_at)),1),e("td",T5,[e("div",L5,[e("button",{onClick:F=>f(r),class:"text-blue-600 hover:text-blue-900"}," Modifier ",8,E5),e("button",{onClick:F=>$(r),class:J(r.is_active?"text-red-600 hover:text-red-900":"text-blue-600 hover:text-blue-900")},o(r.is_active?"Désactiver":"Activer"),11,S5)])])]))),128))])])])),e("div",V5,[e("div",F5,[e("div",R5," Affichage de "+o((g.value-1)*Be+1)+" à "+o(Math.min(g.value*Be,i.value.length))+" sur "+o(i.value.length)+" résultats ",1),e("div",N5,[e("button",{onClick:a[4]||(a[4]=r=>g.value--),disabled:g.value===1,class:"px-3 py-1 text-sm bg-gray-100 text-gray-600 rounded disabled:opacity-50"}," Précédent ",8,q5),e("button",{onClick:a[5]||(a[5]=r=>g.value++),disabled:g.value===w.value,class:"px-3 py-1 text-sm bg-gray-100 text-gray-600 rounded disabled:opacity-50"}," Suivant ",8,z5)])])])])]))}},B5={class:"mb-8 flex justify-between items-center"},O5={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"},H5={class:"flex items-center"},G5={class:"ml-4"},K5={class:"text-sm font-medium text-gray-600"},Z5={class:"text-2xl font-bold text-gray-900"},W5={class:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 mb-6"},J5={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},X5=["value"],Y5={class:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden"},Q5={key:0,class:"text-center py-12"},e_={key:1},t_={class:"px-6 py-3 bg-gray-50 border-b border-gray-200"},s_={class:"flex justify-between items-center"},o_={class:"text-lg font-semibold text-gray-900"},r_={class:"flex space-x-2"},a_={key:0,class:"overflow-x-auto"},i_={class:"min-w-full divide-y divide-gray-200"},n_={class:"bg-white divide-y divide-gray-200"},l_={class:"px-6 py-4 whitespace-nowrap"},d_={class:"flex items-center"},c_=["src","alt"],u_={class:"ml-4"},m_={class:"text-sm font-medium text-gray-900"},p_={class:"text-sm text-gray-500"},g_={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},v_={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},x_={class:"text-gray-500"},f_={class:"px-6 py-4 whitespace-nowrap"},b_={class:"text-sm text-gray-900"},h_={class:"w-full bg-gray-200 rounded-full h-2 mt-1"},y_={class:"text-xs text-gray-500 mt-1"},__={class:"px-6 py-4 whitespace-nowrap"},w_={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},$_={class:"flex space-x-2"},k_=["onClick"],C_=["onClick"],j_=["onClick"],A_={key:1,class:"p-6"},P_={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},M_={class:"relative"},D_=["src","alt"],I_={class:"absolute top-2 left-2"},T_={class:"p-4"},L_={class:"text-lg font-semibold text-gray-900 mb-2"},E_={class:"text-sm text-gray-600 mb-3"},S_={class:"flex justify-between items-center mb-3"},V_={class:"text-sm"},F_={class:"font-semibold text-gray-900"},R_={class:"text-gray-500"},N_={class:"text-sm text-gray-600"},q_={class:"mb-3"},z_={class:"flex justify-between text-sm text-gray-600 mb-1"},U_={class:"w-full bg-gray-200 rounded-full h-2"},B_={class:"flex justify-between items-center"},O_={class:"text-xs text-gray-500"},H_={class:"flex space-x-1"},G_=["onClick"],K_=["onClick"],Z_=["onClick"],W_={key:0,class:"fixed inset-0 bg-black bg-opacity-20 flex items-center justify-center z-50"},J_={class:"bg-white rounded-lg max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto"},X_={class:"px-6 py-4 border-b border-gray-200"},Y_={class:"text-lg font-semibold text-gray-900"},Q_={class:"px-6 py-4 space-y-6"},ew={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},tw=["value"],sw={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},ow={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},rw={class:"flex items-center"},aw={class:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex justify-end space-x-3"},iw=["disabled"],nw={key:0},lw={key:1},dw={__name:"ProductManagement",setup(h){const v=R(!1),A=R(!1),y=R(!1),g=R(!1),u=R("table"),P=R(null),i=R({search:"",category:"",status:""}),d=R([{label:"Total produits",value:"28",color:"bg-blue-500",icon:Se},{label:"Actifs",value:"15",color:"bg-blue-500",icon:Ne},{label:"Revenus totaux",value:"2.4M FCFA",color:"bg-yellow-500",icon:De},{label:"Taux moyen",value:"78%",color:"bg-purple-500",icon:lt}]),w=R([{id:1,name:"Électronique"},{id:2,name:"Mode"},{id:3,name:"Automobile"},{id:4,name:"Maison"},{id:5,name:"Sport"}]),C=R([{id:1,title:"iPhone 15 Pro",description:"Le dernier flagship d'Apple avec une caméra révolutionnaire",price:75e4,ticket_price:1e3,category_id:1,progress:85,sold_tickets:637,total_tickets:750,status:"active",featured:!0,draw_date:new Date(Date.now()+10080*60*1e3),image:"/images/products/iphone15.jpg"},{id:2,title:"MacBook Pro M3",description:"Puissance et performance pour les créateurs",price:12e5,ticket_price:2e3,category_id:1,progress:62,sold_tickets:372,total_tickets:600,status:"active",featured:!1,draw_date:new Date(Date.now()+336*60*60*1e3),image:"/images/products/macbook.jpg"},{id:3,title:"Nike Air Jordan",description:"Sneakers exclusives en édition limitée",price:85e3,ticket_price:200,category_id:2,progress:78,sold_tickets:332,total_tickets:425,status:"draft",featured:!1,draw_date:new Date(Date.now()+14400*60*1e3),image:"/images/products/jordan.jpg"}]),T=le({title:"",description:"",price:"",ticket_price:"",category_id:"",total_tickets:"",draw_date:"",status:"draft",featured:!1}),f=te(()=>{let H=C.value;if(i.value.search){const I=i.value.search.toLowerCase();H=H.filter(m=>m.title.toLowerCase().includes(I)||m.description.toLowerCase().includes(I))}return i.value.category&&(H=H.filter(I=>I.category_id==i.value.category)),i.value.status&&(H=H.filter(I=>I.status===i.value.status)),H}),$=()=>{i.value={search:"",category:"",status:""}},D=H=>{const I=w.value.find(m=>m.id===H);return I?I.name:"Inconnue"},E=H=>({active:"Actif",draft:"Brouillon",completed:"Terminé"})[H]||H,a=H=>new Intl.DateTimeFormat("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(H)),r=H=>{P.value=H,Object.assign(T,{title:H.title,description:H.description,price:H.price,ticket_price:H.ticket_price,category_id:H.category_id,total_tickets:H.total_tickets,draw_date:new Date(H.draw_date).toISOString().slice(0,16),status:H.status,featured:H.featured}),g.value=!0},F=H=>{console.log("View product:",H)},n=async H=>{if(confirm("Êtes-vous sûr de vouloir supprimer ce produit ?"))try{C.value=C.value.filter(I=>I.id!==H),console.log("Product deleted:",H)}catch(I){console.error("Error deleting product:",I)}},c=async()=>{A.value=!0;try{await new Promise(I=>setTimeout(I,1500));const H={id:Date.now(),...T,price:parseInt(T.price),ticket_price:parseInt(T.ticket_price),total_tickets:parseInt(T.total_tickets),progress:0,sold_tickets:0,draw_date:new Date(T.draw_date),image:"/images/products/default.jpg"};C.value.unshift(H),W(),console.log("Product created")}catch(H){console.error("Error creating product:",H)}finally{A.value=!1}},x=async()=>{A.value=!0;try{await new Promise(I=>setTimeout(I,1500));const H=C.value.findIndex(I=>I.id===P.value.id);H!==-1&&(C.value[H]={...C.value[H],...T,price:parseInt(T.price),ticket_price:parseInt(T.ticket_price),total_tickets:parseInt(T.total_tickets),draw_date:new Date(T.draw_date)}),W(),console.log("Product updated")}catch(H){console.error("Error updating product:",H)}finally{A.value=!1}},O=H=>{const I=H.target.files[0];I&&console.log("Image selected:",I.name)},W=()=>{y.value=!1,g.value=!1,P.value=null,Object.assign(T,{title:"",description:"",price:"",ticket_price:"",category_id:"",total_tickets:"",draw_date:"",status:"draft",featured:!1})};return ne(()=>{v.value=!0,setTimeout(()=>{v.value=!1},1e3)}),(H,I)=>(t(),s("div",null,[e("div",B5,[I[17]||(I[17]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900"},"Gestion des produits"),e("p",{class:"mt-2 text-gray-600"},"Gérez les produits disponibles pour les tombolas")],-1)),e("button",{onClick:I[0]||(I[0]=m=>y.value=!0),class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center"},[b(l(Re),{class:"w-5 h-5 mr-2"}),I[16]||(I[16]=K(" Ajouter un produit ",-1))])]),e("div",O5,[(t(!0),s(X,null,Y(d.value,m=>(t(),s("div",{key:m.label,class:"bg-white p-6 rounded-lg shadow-sm border border-gray-200"},[e("div",H5,[e("div",{class:J(["p-3 rounded-lg",m.color])},[(t(),oe(we(m.icon),{class:"w-6 h-6 text-white"}))],2),e("div",G5,[e("p",K5,o(m.label),1),e("p",Z5,o(m.value),1)])])]))),128))]),e("div",W5,[e("div",J5,[e("div",null,[I[18]||(I[18]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Rechercher",-1)),Z(e("input",{"onUpdate:modelValue":I[1]||(I[1]=m=>i.value.search=m),type:"text",placeholder:"Nom du produit...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[Q,i.value.search]])]),e("div",null,[I[20]||(I[20]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Catégorie",-1)),Z(e("select",{"onUpdate:modelValue":I[2]||(I[2]=m=>i.value.category=m),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},[I[19]||(I[19]=e("option",{value:""},"Toutes les catégories",-1)),(t(!0),s(X,null,Y(w.value,m=>(t(),s("option",{key:m.id,value:m.id},o(m.name),9,X5))),128))],512),[[re,i.value.category]])]),e("div",null,[I[22]||(I[22]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Statut",-1)),Z(e("select",{"onUpdate:modelValue":I[3]||(I[3]=m=>i.value.status=m),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},I[21]||(I[21]=[e("option",{value:""},"Tous les statuts",-1),e("option",{value:"active"},"Actif",-1),e("option",{value:"draft"},"Brouillon",-1),e("option",{value:"completed"},"Terminé",-1)]),512),[[re,i.value.status]])]),e("div",{class:"flex items-end"},[e("button",{onClick:$,class:"w-full px-4 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors"}," Réinitialiser ")])])]),e("div",Y5,[v.value?(t(),s("div",Q5,I[23]||(I[23]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"},null,-1),e("p",{class:"mt-4 text-gray-600"},"Chargement des produits...",-1)]))):(t(),s("div",e_,[e("div",t_,[e("div",s_,[e("h3",o_,o(f.value.length)+" produit"+o(f.value.length>1?"s":""),1),e("div",r_,[e("button",{onClick:I[4]||(I[4]=m=>u.value="table"),class:J(["px-3 py-1 rounded-md text-sm font-medium",u.value==="table"?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700"])}," Tableau ",2),e("button",{onClick:I[5]||(I[5]=m=>u.value="grid"),class:J(["px-3 py-1 rounded-md text-sm font-medium",u.value==="grid"?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700"])}," Grille ",2)])])]),u.value==="table"?(t(),s("div",a_,[e("table",i_,[I[24]||(I[24]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Produit "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Catégorie "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Prix / Ticket "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Progression "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Statut "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",n_,[(t(!0),s(X,null,Y(f.value,m=>(t(),s("tr",{key:m.id,class:"hover:bg-gray-50"},[e("td",l_,[e("div",d_,[e("img",{src:m.image,alt:m.title,class:"w-12 h-12 rounded-lg object-cover"},null,8,c_),e("div",u_,[e("div",m_,o(m.title),1),e("div",p_,o(m.description),1)])])]),e("td",g_,o(D(m.category_id)),1),e("td",v_,[e("div",null,o(m.price)+" FCFA",1),e("div",x_,o(m.ticket_price)+" FCFA/ticket",1)]),e("td",f_,[e("div",b_,o(m.progress)+"%",1),e("div",h_,[e("div",{class:"bg-blue-600 h-2 rounded-full",style:he({width:m.progress+"%"})},null,4)]),e("div",y_,o(m.sold_tickets)+"/"+o(m.total_tickets),1)]),e("td",__,[e("span",{class:J(["px-2 py-1 text-xs font-medium rounded-full",m.status==="active"?"bg-blue-100 text-blue-800":m.status==="draft"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"])},o(E(m.status)),3)]),e("td",w_,[e("div",$_,[e("button",{onClick:M=>r(m),class:"text-blue-600 hover:text-blue-900"},[b(l(Xe),{class:"w-4 h-4"})],8,k_),e("button",{onClick:M=>F(m.id),class:"text-blue-600 hover:text-blue-900"},[b(l(je),{class:"w-4 h-4"})],8,C_),e("button",{onClick:M=>n(m.id),class:"text-red-600 hover:text-red-900"},[b(l(at),{class:"w-4 h-4"})],8,j_)])])]))),128))])])])):(t(),s("div",A_,[e("div",P_,[(t(!0),s(X,null,Y(f.value,m=>(t(),s("div",{key:m.id,class:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-lg transition-shadow"},[e("div",M_,[e("img",{src:m.image,alt:m.title,class:"w-full h-48 object-cover"},null,8,D_),e("div",I_,[e("span",{class:J(["px-2 py-1 text-xs font-medium rounded-full",m.status==="active"?"bg-blue-100 text-blue-800":m.status==="draft"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"])},o(E(m.status)),3)])]),e("div",T_,[e("h3",L_,o(m.title),1),e("p",E_,o(m.description),1),e("div",S_,[e("div",V_,[e("div",F_,o(m.price)+" FCFA",1),e("div",R_,o(m.ticket_price)+" FCFA/ticket",1)]),e("div",N_,o(D(m.category_id)),1)]),e("div",q_,[e("div",z_,[I[25]||(I[25]=e("span",null,"Progression",-1)),e("span",null,o(m.progress)+"%",1)]),e("div",U_,[e("div",{class:"bg-blue-600 h-2 rounded-full",style:he({width:m.progress+"%"})},null,4)])]),e("div",B_,[e("span",O_,o(a(m.draw_date)),1),e("div",H_,[e("button",{onClick:M=>r(m),class:"p-1 text-blue-600 hover:text-blue-900"},[b(l(Xe),{class:"w-4 h-4"})],8,G_),e("button",{onClick:M=>F(m.id),class:"p-1 text-blue-600 hover:text-blue-900"},[b(l(je),{class:"w-4 h-4"})],8,K_),e("button",{onClick:M=>n(m.id),class:"p-1 text-red-600 hover:text-red-900"},[b(l(at),{class:"w-4 h-4"})],8,Z_)])])])]))),128))])]))]))]),y.value||g.value?(t(),s("div",W_,[e("div",J_,[e("div",X_,[e("h3",Y_,o(y.value?"Ajouter un produit":"Modifier le produit"),1)]),e("form",{onSubmit:I[15]||(I[15]=ge(m=>y.value?c():x(),["prevent"]))},[e("div",Q_,[e("div",ew,[e("div",null,[I[26]||(I[26]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Titre *",-1)),Z(e("input",{"onUpdate:modelValue":I[6]||(I[6]=m=>T.title=m),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[Q,T.title]])]),e("div",null,[I[28]||(I[28]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Catégorie *",-1)),Z(e("select",{"onUpdate:modelValue":I[7]||(I[7]=m=>T.category_id=m),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},[I[27]||(I[27]=e("option",{value:""},"Sélectionner une catégorie",-1)),(t(!0),s(X,null,Y(w.value,m=>(t(),s("option",{key:m.id,value:m.id},o(m.name),9,tw))),128))],512),[[re,T.category_id]])])]),e("div",null,[I[29]||(I[29]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Description",-1)),Z(e("textarea",{"onUpdate:modelValue":I[8]||(I[8]=m=>T.description=m),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[Q,T.description]])]),e("div",sw,[e("div",null,[I[30]||(I[30]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Prix du produit (FCFA) *",-1)),Z(e("input",{"onUpdate:modelValue":I[9]||(I[9]=m=>T.price=m),type:"number",required:"",min:"0",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[Q,T.price,void 0,{number:!0}]])]),e("div",null,[I[31]||(I[31]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Prix par ticket (FCFA) *",-1)),Z(e("input",{"onUpdate:modelValue":I[10]||(I[10]=m=>T.ticket_price=m),type:"number",required:"",min:"0",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[Q,T.ticket_price,void 0,{number:!0}]])]),e("div",null,[I[32]||(I[32]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Nombre total de tickets *",-1)),Z(e("input",{"onUpdate:modelValue":I[11]||(I[11]=m=>T.total_tickets=m),type:"number",required:"",min:"1",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[Q,T.total_tickets,void 0,{number:!0}]])])]),e("div",ow,[e("div",null,[I[33]||(I[33]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Date de tirage *",-1)),Z(e("input",{"onUpdate:modelValue":I[12]||(I[12]=m=>T.draw_date=m),type:"datetime-local",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[Q,T.draw_date]])]),e("div",null,[I[35]||(I[35]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Statut",-1)),Z(e("select",{"onUpdate:modelValue":I[13]||(I[13]=m=>T.status=m),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},I[34]||(I[34]=[e("option",{value:"draft"},"Brouillon",-1),e("option",{value:"active"},"Actif",-1),e("option",{value:"completed"},"Terminé",-1)]),512),[[re,T.status]])])]),e("div",null,[I[36]||(I[36]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Image du produit",-1)),e("input",{type:"file",accept:"image/*",onChange:O,class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,32)]),e("div",rw,[Z(e("input",{"onUpdate:modelValue":I[14]||(I[14]=m=>T.featured=m),type:"checkbox",class:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"},null,512),[[Me,T.featured]]),I[37]||(I[37]=e("label",{class:"ml-2 text-sm text-gray-700"},"Produit en vedette",-1))])]),e("div",aw,[e("button",{type:"button",onClick:W,class:"px-4 py-2 text-gray-600 hover:text-gray-900"}," Annuler "),e("button",{type:"submit",disabled:A.value,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400"},[A.value?(t(),s("span",nw,"Enregistrement...")):(t(),s("span",lw,o(y.value?"Créer":"Modifier"),1))],8,iw)])],32)])])):B("",!0)]))}},cw={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"},uw={class:"flex items-center"},mw={class:"ml-4"},pw={class:"text-sm font-medium text-gray-600"},gw={class:"text-2xl font-bold text-gray-900"},vw={class:"mb-8"},xw={class:"border-b border-gray-200"},fw={class:"flex space-x-8"},bw=["onClick"],hw={key:0},yw={class:"bg-white rounded-lg shadow-sm border border-gray-200"},_w={key:0,class:"text-center py-12"},ww={key:1,class:"divide-y divide-gray-200"},$w={class:"flex items-center justify-between"},kw={class:"flex items-center space-x-4"},Cw=["src","alt"],jw={class:"text-lg font-semibold text-gray-900"},Aw={class:"text-sm text-gray-600"},Pw={class:"flex items-center space-x-4 mt-2"},Mw={class:"text-sm font-medium text-blue-600"},Dw={class:"text-sm text-gray-500"},Iw={class:"flex space-x-3"},Tw=["onClick"],Lw=["onClick","disabled"],Ew={key:0},Sw={key:1},Vw={class:"mt-4"},Fw={class:"w-full bg-gray-200 rounded-full h-2"},Rw={key:1},Nw={class:"bg-white rounded-lg shadow-sm border border-gray-200"},qw={class:"px-6 py-4 border-b border-gray-200 flex justify-between items-center"},zw={class:"flex space-x-2"},Uw={class:"overflow-x-auto"},Bw={class:"min-w-full divide-y divide-gray-200"},Ow={class:"bg-white divide-y divide-gray-200"},Hw={class:"px-6 py-4 whitespace-nowrap"},Gw={class:"flex items-center"},Kw=["src","alt"],Zw={class:"ml-4"},Ww={class:"text-sm font-medium text-gray-900"},Jw={class:"text-sm text-gray-500"},Xw={class:"px-6 py-4 whitespace-nowrap"},Yw={class:"text-sm text-gray-900"},Qw={class:"w-full bg-gray-200 rounded-full h-2 mt-1"},e4={class:"text-xs text-gray-500 mt-1"},t4={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},s4={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},o4={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},r4={class:"flex space-x-2"},a4=["onClick"],i4=["onClick"],n4={key:2},l4={class:"bg-white rounded-lg shadow-sm border border-gray-200"},d4={class:"px-6 py-4 border-b border-gray-200 flex justify-between items-center"},c4={class:"flex space-x-2"},u4={class:"divide-y divide-gray-200"},m4={class:"flex items-start justify-between"},p4={class:"flex items-start space-x-4"},g4=["src","alt"],v4={class:"text-lg font-semibold text-gray-900"},x4={class:"text-sm text-gray-600"},f4={class:"flex items-center space-x-4 mt-2"},b4={class:"text-sm text-gray-500"},h4={class:"text-sm font-medium text-blue-600"},y4={class:"text-right"},_4={class:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-blue-100 text-blue-800"},w4={class:"mt-2 text-sm text-gray-600"},$4={key:0,class:"mt-4 bg-blue-50 p-4 rounded-lg"},k4={class:"flex items-center justify-between"},C4={class:"flex items-center"},j4={class:"font-semibold text-blue-900"},A4={class:"text-sm text-blue-800"},P4={class:"text-right"},M4={class:"text-sm text-blue-800"},D4={class:"text-sm text-blue-600"},I4={class:"flex justify-end space-x-2 mt-4"},T4=["onClick"],L4=["onClick"],E4={key:3,class:"fixed inset-0 bg-black bg-opacity-20 flex items-center justify-center z-50"},S4={class:"bg-white rounded-lg max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto"},V4={class:"px-6 py-4 border-b border-gray-200 flex justify-between items-center"},F4={class:"text-lg font-semibold text-gray-900"},R4={class:"px-6 py-4"},N4={class:"mb-4"},q4={class:"overflow-x-auto"},z4={class:"min-w-full divide-y divide-gray-200"},U4={class:"bg-white divide-y divide-gray-200"},B4={class:"px-6 py-4 whitespace-nowrap"},O4={class:"text-sm font-medium text-gray-900"},H4={class:"text-sm text-gray-500"},G4={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},K4={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Z4={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},W4={key:4,class:"fixed inset-0 bg-black bg-opacity-20 flex items-center justify-center z-50"},J4={class:"bg-white rounded-lg max-w-md w-full mx-4"},X4={class:"px-6 py-4"},Y4={class:"text-gray-600 mb-4"},Q4={class:"font-semibold"},e3={class:"bg-gray-50 p-4 rounded-lg mb-4"},t3={class:"text-sm text-gray-600"},s3={class:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex justify-end space-x-3"},o3=["disabled"],r3={key:0},a3={key:1},i3={__name:"LotteryManagement",setup(h){const v=R("pending"),A=R(!1),y=R(!1),g=R(!1),u=R(null),P=R(""),i=[{key:"pending",label:"Tirages en attente"},{key:"active",label:"Tombolas actives"},{key:"completed",label:"Historique"}],d=R([{label:"Tirages en attente",value:"3",color:"bg-yellow-500",icon:Ke},{label:"Actives",value:"12",color:"bg-blue-500",icon:Ne},{label:"Revenus du mois",value:"850K FCFA",color:"bg-blue-500",icon:De},{label:"Taux de participation",value:"85%",color:"bg-purple-500",icon:lt}]),w=le({search:""}),C=le({search:"",period:""}),T=R([{id:1,product:{id:1,title:"iPhone 15 Pro",description:"Le dernier flagship d'Apple",price:75e4,image:"/images/products/iphone15.jpg"},total_tickets:750,sold_tickets:750,ticket_price:1e3,progress:100,draw_date:new Date,participants:Array.from({length:150},(H,I)=>({id:I+1,name:`Utilisateur ${I+1}`,email:`user${I+1}@example.com`,tickets_count:Math.floor(Math.random()*5)+1,total_spent:(Math.floor(Math.random()*5)+1)*1e3,purchase_date:new Date(Date.now()-Math.random()*30*24*60*60*1e3)}))},{id:2,product:{id:2,title:"PlayStation 5",description:"Console de jeu nouvelle génération",price:35e4,image:"/images/products/ps5.jpg"},total_tickets:700,sold_tickets:700,ticket_price:500,progress:100,draw_date:new Date(Date.now()+1440*60*1e3),participants:Array.from({length:200},(H,I)=>({id:I+1,name:`Participant ${I+1}`,email:`participant${I+1}@example.com`,tickets_count:Math.floor(Math.random()*3)+1,total_spent:(Math.floor(Math.random()*3)+1)*500,purchase_date:new Date(Date.now()-Math.random()*15*24*60*60*1e3)}))}]),f=R([{id:3,product:{id:3,title:"MacBook Pro M3",description:"Puissance et performance pour les créateurs",price:12e5,image:"/images/products/macbook.jpg"},total_tickets:600,sold_tickets:372,ticket_price:2e3,progress:62,draw_date:new Date(Date.now()+336*60*60*1e3)},{id:4,product:{id:4,title:"AirPods Pro",description:"Audio haute qualité avec réduction de bruit",price:15e4,image:"/images/products/airpods.jpg"},total_tickets:500,sold_tickets:225,ticket_price:300,progress:45,draw_date:new Date(Date.now()+504*60*60*1e3)}]),$=R([{id:5,product:{id:5,title:"Samsung Galaxy S24",description:"Smartphone Android premium",price:65e4,image:"/images/products/samsung.jpg"},total_tickets:650,sold_tickets:650,ticket_price:1e3,progress:100,draw_date:new Date(Date.now()-10080*60*1e3),winner:{name:"Marie Dubois",email:"marie.dubois@example.com",phone:"+33 6 12 34 56 78"},winning_ticket:"001234"},{id:6,product:{id:6,title:"Nintendo Switch OLED",description:"Console de jeu portable",price:2e5,image:"/images/products/switch.jpg"},total_tickets:400,sold_tickets:400,ticket_price:500,progress:100,draw_date:new Date(Date.now()-336*60*60*1e3),winner:{name:"Pierre Martin",email:"pierre.martin@example.com",phone:"+33 6 98 76 54 32"},winning_ticket:"000987"}]),D=te(()=>{let H=f.value;if(w.search){const I=w.search.toLowerCase();H=H.filter(m=>m.product.title.toLowerCase().includes(I)||m.product.description.toLowerCase().includes(I))}return H}),E=te(()=>{let H=$.value;if(C.search){const I=C.search.toLowerCase();H=H.filter(m=>m.product.title.toLowerCase().includes(I)||m.winner?.name.toLowerCase().includes(I))}if(C.period){const I=new Date,m=C.period;H=H.filter(M=>{const L=new Date(M.draw_date);if(m==="week"){const S=new Date(I.getTime()-6048e5);return L>=S}else if(m==="month"){const S=new Date(I.getFullYear(),I.getMonth()-1,I.getDate());return L>=S}else if(m==="quarter"){const S=new Date(I.getFullYear(),I.getMonth()-3,I.getDate());return L>=S}return!0})}return H}),a=te(()=>{if(!u.value?.participants)return[];let H=u.value.participants;if(P.value){const I=P.value.toLowerCase();H=H.filter(m=>m.name.toLowerCase().includes(I)||m.email.toLowerCase().includes(I))}return H}),r=H=>new Intl.DateTimeFormat("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(H)),F=H=>{u.value=H,y.value=!0},n=H=>{u.value=H,g.value=!0},c=async()=>{A.value=!0;try{await new Promise(M=>setTimeout(M,3e3));const H=u.value.participants[Math.floor(Math.random()*u.value.participants.length)],I={...u.value,winner:H,winning_ticket:String(Math.floor(Math.random()*999999)).padStart(6,"0")};$.value.unshift(I);const m=T.value.findIndex(M=>M.id===u.value.id);m!==-1&&T.value.splice(m,1),console.log("Draw completed:",I)}catch(H){console.error("Error conducting draw:",H)}finally{A.value=!1,g.value=!1,u.value=null}},x=H=>{console.log("Edit lottery:",H.id)},O=H=>{console.log("View draw details:",H.id)},W=H=>{console.log("Export results:",H.id)};return ne(()=>{console.log("Lottery management mounted")}),(H,I)=>(t(),s("div",null,[I[21]||(I[21]=e("div",{class:"mb-8"},[e("h1",{class:"text-3xl font-bold text-gray-900"},"Gestion des tombolas"),e("p",{class:"mt-2 text-gray-600"},"Gérez les tirages et suivez les résultats des tombolas")],-1)),e("div",cw,[(t(!0),s(X,null,Y(d.value,m=>(t(),s("div",{key:m.label,class:"bg-white p-6 rounded-lg shadow-sm border border-gray-200"},[e("div",uw,[e("div",{class:J(["p-3 rounded-lg",m.color])},[(t(),oe(we(m.icon),{class:"w-6 h-6 text-white"}))],2),e("div",mw,[e("p",pw,o(m.label),1),e("p",gw,o(m.value),1)])])]))),128))]),e("div",vw,[e("div",xw,[e("nav",fw,[(t(),s(X,null,Y(i,m=>e("button",{key:m.key,onClick:M=>v.value=m.key,class:J(["py-2 px-1 border-b-2 font-medium text-sm",v.value===m.key?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"])},o(m.label),11,bw)),64))])])]),v.value==="pending"?(t(),s("div",hw,[e("div",yw,[I[8]||(I[8]=e("div",{class:"px-6 py-4 border-b border-gray-200"},[e("h3",{class:"text-lg font-semibold text-gray-900"},"Tirages en attente"),e("p",{class:"text-sm text-gray-600"},"Tombolas prêtes pour le tirage")],-1)),T.value.length===0?(t(),s("div",_w,[b(l(Ke),{class:"w-16 h-16 text-gray-400 mx-auto mb-4"}),I[6]||(I[6]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"Aucun tirage en attente",-1)),I[7]||(I[7]=e("p",{class:"text-gray-600"},"Toutes les tombolas sont à jour",-1))])):(t(),s("div",ww,[(t(!0),s(X,null,Y(T.value,m=>(t(),s("div",{key:m.id,class:"p-6 hover:bg-gray-50"},[e("div",$w,[e("div",kw,[e("img",{src:m.product.image,alt:m.product.title,class:"w-16 h-16 rounded-lg object-cover"},null,8,Cw),e("div",null,[e("h4",jw,o(m.product.title),1),e("p",Aw,o(m.product.description),1),e("div",Pw,[e("span",Mw,o(m.sold_tickets)+"/"+o(m.total_tickets)+" tickets vendus ",1),e("span",Dw," Tirage prévu: "+o(r(m.draw_date)),1)])])]),e("div",Iw,[e("button",{onClick:M=>F(m),class:"px-4 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors"}," Voir participants ",8,Tw),e("button",{onClick:M=>n(m),disabled:A.value,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors disabled:bg-gray-400"},[A.value?(t(),s("span",Ew,"Tirage...")):(t(),s("span",Sw,"Effectuer le tirage"))],8,Lw)])]),e("div",Vw,[e("div",Fw,[e("div",{class:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:he({width:m.progress+"%"})},null,4)])])]))),128))]))])])):B("",!0),v.value==="active"?(t(),s("div",Rw,[e("div",Nw,[e("div",qw,[I[9]||(I[9]=e("div",null,[e("h3",{class:"text-lg font-semibold text-gray-900"},"Tombolas actives"),e("p",{class:"text-sm text-gray-600"},"Tombolas en cours de vente")],-1)),e("div",zw,[Z(e("input",{"onUpdate:modelValue":I[0]||(I[0]=m=>w.search=m),type:"text",placeholder:"Rechercher...",class:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[Q,w.search]])])]),e("div",Uw,[e("table",Bw,[I[10]||(I[10]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Produit "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Progression "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Revenus "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Date de tirage "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",Ow,[(t(!0),s(X,null,Y(D.value,m=>(t(),s("tr",{key:m.id,class:"hover:bg-gray-50"},[e("td",Hw,[e("div",Gw,[e("img",{src:m.product.image,alt:m.product.title,class:"w-12 h-12 rounded-lg object-cover"},null,8,Kw),e("div",Zw,[e("div",Ww,o(m.product.title),1),e("div",Jw,o(m.product.price)+" FCFA",1)])])]),e("td",Xw,[e("div",Yw,o(m.progress)+"%",1),e("div",Qw,[e("div",{class:"bg-blue-600 h-2 rounded-full",style:he({width:m.progress+"%"})},null,4)]),e("div",e4,o(m.sold_tickets)+"/"+o(m.total_tickets),1)]),e("td",t4,o((m.sold_tickets*m.ticket_price).toLocaleString())+" FCFA ",1),e("td",s4,o(r(m.draw_date)),1),e("td",o4,[e("div",r4,[e("button",{onClick:M=>x(m),class:"text-blue-600 hover:text-blue-900"},[b(l(Xe),{class:"w-4 h-4"})],8,a4),e("button",{onClick:M=>F(m),class:"text-blue-600 hover:text-blue-900"},[b(l(et),{class:"w-4 h-4"})],8,i4)])])]))),128))])])])])])):B("",!0),v.value==="completed"?(t(),s("div",n4,[e("div",l4,[e("div",d4,[I[12]||(I[12]=e("div",null,[e("h3",{class:"text-lg font-semibold text-gray-900"},"Tirages terminés"),e("p",{class:"text-sm text-gray-600"},"Historique des tombolas terminées")],-1)),e("div",c4,[Z(e("input",{"onUpdate:modelValue":I[1]||(I[1]=m=>C.search=m),type:"text",placeholder:"Rechercher...",class:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[Q,C.search]]),Z(e("select",{"onUpdate:modelValue":I[2]||(I[2]=m=>C.period=m),class:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},I[11]||(I[11]=[e("option",{value:""},"Toutes les périodes",-1),e("option",{value:"week"},"Cette semaine",-1),e("option",{value:"month"},"Ce mois",-1),e("option",{value:"quarter"},"Ce trimestre",-1)]),512),[[re,C.period]])])]),e("div",u4,[(t(!0),s(X,null,Y(E.value,m=>(t(),s("div",{key:m.id,class:"p-6"},[e("div",m4,[e("div",p4,[e("img",{src:m.product.image,alt:m.product.title,class:"w-16 h-16 rounded-lg object-cover"},null,8,g4),e("div",null,[e("h4",v4,o(m.product.title),1),e("p",x4,o(m.product.description),1),e("div",f4,[e("span",b4," Tirage effectué: "+o(r(m.draw_date)),1),e("span",h4," Revenus: "+o((m.sold_tickets*m.ticket_price).toLocaleString())+" FCFA ",1)])])]),e("div",y4,[e("span",_4,[b(l(Ce),{class:"w-4 h-4 mr-1"}),I[13]||(I[13]=K(" Terminé ",-1))]),e("div",w4," Gagnant: "+o(m.winner?.name||"Non réclamé"),1)])]),m.winner?(t(),s("div",$4,[e("div",k4,[e("div",C4,[b(l(Ne),{class:"w-5 h-5 text-blue-600 mr-2"}),e("div",null,[e("p",j4,o(m.winner.name),1),e("p",A4,"Ticket gagnant: #"+o(m.winning_ticket),1)])]),e("div",P4,[e("p",M4,o(m.winner.email),1),e("p",D4,o(m.winner.phone),1)])])])):B("",!0),e("div",I4,[e("button",{onClick:M=>O(m),class:"px-3 py-1 text-sm text-blue-600 hover:text-blue-800"}," Voir détails ",8,T4),e("button",{onClick:M=>W(m),class:"px-3 py-1 text-sm text-gray-600 hover:text-gray-800"}," Exporter ",8,L4)])]))),128))])])])):B("",!0),y.value?(t(),s("div",E4,[e("div",S4,[e("div",V4,[e("h3",F4," Participants - "+o(u.value?.product.title),1),e("button",{onClick:I[3]||(I[3]=m=>y.value=!1),class:"text-gray-400 hover:text-gray-600"},[b(l(Ie),{class:"w-6 h-6"})])]),e("div",R4,[e("div",N4,[Z(e("input",{"onUpdate:modelValue":I[4]||(I[4]=m=>P.value=m),type:"text",placeholder:"Rechercher un participant...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[Q,P.value]])]),e("div",q4,[e("table",z4,[I[14]||(I[14]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Participant "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Tickets "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Total payé "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Date d'achat ")])],-1)),e("tbody",U4,[(t(!0),s(X,null,Y(a.value,m=>(t(),s("tr",{key:m.id,class:"hover:bg-gray-50"},[e("td",B4,[e("div",null,[e("div",O4,o(m.name),1),e("div",H4,o(m.email),1)])]),e("td",G4,o(m.tickets_count),1),e("td",K4,o(m.total_spent)+" FCFA ",1),e("td",Z4,o(r(m.purchase_date)),1)]))),128))])])])])])])):B("",!0),g.value?(t(),s("div",W4,[e("div",J4,[I[20]||(I[20]=e("div",{class:"px-6 py-4 border-b border-gray-200"},[e("h3",{class:"text-lg font-semibold text-gray-900"},"Confirmer le tirage")],-1)),e("div",X4,[e("p",Y4,[I[15]||(I[15]=K(" Êtes-vous sûr de vouloir effectuer le tirage pour ",-1)),e("span",Q4,o(u.value?.product.title),1),I[16]||(I[16]=K(" ? ",-1))]),e("div",e3,[e("p",t3,[K(" • "+o(u.value?.sold_tickets)+" tickets vendus",1),I[17]||(I[17]=e("br",null,null,-1)),K(" • "+o(u.value?.participants?.length)+" participants",1),I[18]||(I[18]=e("br",null,null,-1)),K(" • Revenus: "+o((u.value?.sold_tickets*u.value?.ticket_price||0).toLocaleString())+" FCFA ",1)])]),I[19]||(I[19]=e("p",{class:"text-sm text-red-600"}," ⚠️ Cette action est irréversible. Le gagnant sera choisi aléatoirement. ",-1))]),e("div",s3,[e("button",{onClick:I[5]||(I[5]=m=>g.value=!1),class:"px-4 py-2 text-gray-600 hover:text-gray-900"}," Annuler "),e("button",{onClick:c,disabled:A.value,class:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:bg-gray-400"},[A.value?(t(),s("span",r3,"Tirage en cours...")):(t(),s("span",a3,"Effectuer le tirage"))],8,o3)])])])):B("",!0)]))}},n3={class:"mb-8"},l3={class:"border-b border-gray-200"},d3={class:"flex space-x-8"},c3=["onClick"],u3={key:0},m3={class:"bg-white rounded-lg shadow-sm border border-gray-200"},p3={class:"px-6 py-4 border-b border-gray-200 flex justify-between items-center"},g3={class:"p-6"},v3={class:"mb-6"},x3={class:"overflow-x-auto"},f3={class:"min-w-full divide-y divide-gray-200"},b3={class:"bg-white divide-y divide-gray-200"},h3={class:"px-6 py-4 whitespace-nowrap"},y3={class:"flex items-center"},_3=["src","alt"],w3={class:"text-sm font-medium text-gray-900"},$3={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},k3={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},C3={class:"px-6 py-4 whitespace-nowrap"},j3={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},A3={class:"flex space-x-2"},P3=["onClick"],M3=["onClick"],D3=["onClick"],I3={key:1},T3={class:"bg-white rounded-lg shadow-sm border border-gray-200"},L3={class:"px-6 py-4 border-b border-gray-200 flex justify-between items-center"},E3={class:"p-6"},S3={class:"mb-6"},V3={class:"overflow-x-auto"},F3={class:"min-w-full divide-y divide-gray-200"},R3={class:"bg-white divide-y divide-gray-200"},N3={class:"px-6 py-4 whitespace-nowrap"},q3={class:"flex items-center"},z3={class:"text-2xl mr-3"},U3={class:"text-sm font-medium text-gray-900"},B3={class:"text-sm text-gray-500"},O3={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},H3={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},G3={class:"px-6 py-4 whitespace-nowrap"},K3={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},Z3={class:"flex space-x-2"},W3=["onClick"],J3=["onClick"],X3=["onClick"],Y3={key:2},Q3={class:"space-y-6"},e6={class:"bg-white rounded-lg shadow-sm border border-gray-200"},t6={class:"p-6"},s6={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},o6=["value"],r6=["value"],a6={class:"mt-6"},i6={class:"mt-6 flex justify-end"},n6=["disabled"],l6={key:0},d6={key:1},c6={class:"bg-white rounded-lg shadow-sm border border-gray-200"},u6={class:"p-6"},m6={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},p6={class:"mt-6 flex justify-end"},g6=["disabled"],v6={key:0},x6={key:1},f6={key:3,class:"fixed inset-0 bg-black bg-opacity-20 flex items-center justify-center z-50"},b6={class:"bg-white rounded-lg max-w-md w-full mx-4"},h6={class:"px-6 py-4 border-b border-gray-200"},y6={class:"text-lg font-semibold text-gray-900"},_6={class:"px-6 py-4 space-y-4"},w6={class:"flex items-center"},$6={class:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex justify-end space-x-3"},k6=["disabled"],C6={key:0},j6={key:1},A6={key:4,class:"fixed inset-0 bg-black bg-opacity-20 flex items-center justify-center z-50"},P6={class:"bg-white rounded-lg max-w-md w-full mx-4"},M6={class:"px-6 py-4 border-b border-gray-200"},D6={class:"text-lg font-semibold text-gray-900"},I6={class:"px-6 py-4 space-y-4"},T6={class:"flex items-center"},L6={class:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex justify-end space-x-3"},E6=["disabled"],S6={key:0},V6={key:1},F6={__name:"CountryLanguageManagement",setup(h){const v=R("countries"),A=R(!1),y=R(!1),g=R(!1),u=R(!1),P=R(!1),i=R(!1),d=R(null),w=R(null),C=[{key:"countries",label:"Pays",icon:cs},{key:"languages",label:"Langues",icon:ms},{key:"settings",label:"Paramètres",icon:rs}],T=le({search:""}),f=le({search:""}),$=R([{id:1,name:"France",code:"FR",currency:"EUR",flag:"https://flagcdn.com/w40/fr.png",is_active:!0},{id:2,name:"Sénégal",code:"SN",currency:"XOF",flag:"https://flagcdn.com/w40/sn.png",is_active:!0},{id:3,name:"Côte d'Ivoire",code:"CI",currency:"XOF",flag:"https://flagcdn.com/w40/ci.png",is_active:!0},{id:4,name:"Mali",code:"ML",currency:"XOF",flag:"https://flagcdn.com/w40/ml.png",is_active:!1}]),D=R([{id:1,name:"Français",native_name:"Français",code:"fr",flag:"🇫🇷",direction:"ltr",is_active:!0},{id:2,name:"English",native_name:"English",code:"en",flag:"🇺🇸",direction:"ltr",is_active:!0},{id:3,name:"العربية",native_name:"العربية",code:"ar",flag:"🇸🇦",direction:"rtl",is_active:!1},{id:4,name:"Español",native_name:"Español",code:"es",flag:"🇪🇸",direction:"ltr",is_active:!1}]),E=le({name:"",code:"",currency:"",flag:"",is_active:!0}),a=le({name:"",native_name:"",code:"",flag:"",direction:"ltr",is_active:!0}),r=le({app_name:"Koumbaya",app_url:"https://koumbaya.com",app_description:"Plateforme de tombolas en ligne pour gagner des produits exceptionnels",default_language:"fr",default_country:"SN"}),F=le({from_email:"noreply@koumbaya.com",from_name:"Koumbaya",support_email:"support@koumbaya.com",admin_email:"admin@koumbaya.com"}),n=te(()=>{let z=$.value;if(T.search){const V=T.search.toLowerCase();z=z.filter(U=>U.name.toLowerCase().includes(V)||U.code.toLowerCase().includes(V))}return z}),c=te(()=>{let z=D.value;if(f.search){const V=f.search.toLowerCase();z=z.filter(U=>U.name.toLowerCase().includes(V)||U.native_name.toLowerCase().includes(V)||U.code.toLowerCase().includes(V))}return z}),x=te(()=>$.value.filter(z=>z.is_active)),O=te(()=>D.value.filter(z=>z.is_active)),W=z=>{d.value=z,Object.assign(E,{name:z.name,code:z.code,currency:z.currency,flag:z.flag,is_active:z.is_active}),u.value=!0},H=z=>{w.value=z,Object.assign(a,{name:z.name,native_name:z.native_name,code:z.code,flag:z.flag,direction:z.direction,is_active:z.is_active}),i.value=!0},I=async z=>{try{z.is_active=!z.is_active,console.log("Country status toggled:",z)}catch(V){console.error("Error toggling country status:",V)}},m=async z=>{try{z.is_active=!z.is_active,console.log("Language status toggled:",z)}catch(V){console.error("Error toggling language status:",V)}},M=async z=>{if(confirm("Êtes-vous sûr de vouloir supprimer ce pays ?"))try{$.value=$.value.filter(V=>V.id!==z),console.log("Country deleted:",z)}catch(V){console.error("Error deleting country:",V)}},L=async z=>{if(confirm("Êtes-vous sûr de vouloir supprimer cette langue ?"))try{D.value=D.value.filter(V=>V.id!==z),console.log("Language deleted:",z)}catch(V){console.error("Error deleting language:",V)}},S=async()=>{A.value=!0;try{await new Promise(V=>setTimeout(V,1500));const z={id:Date.now(),...E};$.value.unshift(z),p(),console.log("Country created")}catch(z){console.error("Error creating country:",z)}finally{A.value=!1}},N=async()=>{A.value=!0;try{await new Promise(V=>setTimeout(V,1500));const z=$.value.findIndex(V=>V.id===d.value.id);z!==-1&&($.value[z]={...$.value[z],...E}),p(),console.log("Country updated")}catch(z){console.error("Error updating country:",z)}finally{A.value=!1}},G=async()=>{A.value=!0;try{await new Promise(V=>setTimeout(V,1500));const z={id:Date.now(),...a};D.value.unshift(z),q(),console.log("Language created")}catch(z){console.error("Error creating language:",z)}finally{A.value=!1}},_=async()=>{A.value=!0;try{await new Promise(V=>setTimeout(V,1500));const z=D.value.findIndex(V=>V.id===w.value.id);z!==-1&&(D.value[z]={...D.value[z],...a}),q(),console.log("Language updated")}catch(z){console.error("Error updating language:",z)}finally{A.value=!1}},k=async()=>{y.value=!0;try{await new Promise(z=>setTimeout(z,1500)),console.log("General settings updated")}catch(z){console.error("Error updating general settings:",z)}finally{y.value=!1}},j=async()=>{y.value=!0;try{await new Promise(z=>setTimeout(z,1500)),console.log("Email settings updated")}catch(z){console.error("Error updating email settings:",z)}finally{y.value=!1}},p=()=>{g.value=!1,u.value=!1,d.value=null,Object.assign(E,{name:"",code:"",currency:"",flag:"",is_active:!0})},q=()=>{P.value=!1,i.value=!1,w.value=null,Object.assign(a,{name:"",native_name:"",code:"",flag:"",direction:"ltr",is_active:!0})};return ne(()=>{console.log("Settings page mounted")}),(z,V)=>(t(),s("div",null,[V[55]||(V[55]=e("div",{class:"mb-8"},[e("h1",{class:"text-3xl font-bold text-gray-900"},"Configuration système"),e("p",{class:"mt-2 text-gray-600"},"Gérez les paramètres globaux de l'application")],-1)),e("div",n3,[e("div",l3,[e("nav",d3,[(t(),s(X,null,Y(C,U=>e("button",{key:U.key,onClick:ae=>v.value=U.key,class:J(["py-2 px-1 border-b-2 font-medium text-sm",v.value===U.key?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"])},[(t(),oe(we(U.icon),{class:"w-5 h-5 inline mr-2"})),K(" "+o(U.label),1)],10,c3)),64))])])]),v.value==="countries"?(t(),s("div",u3,[e("div",m3,[e("div",p3,[V[27]||(V[27]=e("div",null,[e("h3",{class:"text-lg font-semibold text-gray-900"},"Gestion des pays"),e("p",{class:"text-sm text-gray-600"},"Configurez les pays disponibles sur la plateforme")],-1)),e("button",{onClick:V[0]||(V[0]=U=>g.value=!0),class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center"},[b(l(Re),{class:"w-4 h-4 mr-2"}),V[26]||(V[26]=K(" Ajouter un pays ",-1))])]),e("div",g3,[e("div",v3,[Z(e("input",{"onUpdate:modelValue":V[1]||(V[1]=U=>T.search=U),type:"text",placeholder:"Rechercher un pays...",class:"w-full md:w-1/3 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[Q,T.search]])]),e("div",x3,[e("table",f3,[V[28]||(V[28]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Pays "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Code "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Devise "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Statut "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",b3,[(t(!0),s(X,null,Y(n.value,U=>(t(),s("tr",{key:U.id,class:"hover:bg-gray-50"},[e("td",h3,[e("div",y3,[U.flag?(t(),s("img",{key:0,src:U.flag,alt:U.name,class:"w-6 h-4 rounded object-cover mr-3"},null,8,_3)):B("",!0),e("div",w3,o(U.name),1)])]),e("td",$3,o(U.code),1),e("td",k3,o(U.currency),1),e("td",C3,[e("span",{class:J(["px-2 py-1 text-xs font-medium rounded-full",U.is_active?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"])},o(U.is_active?"Actif":"Inactif"),3)]),e("td",j3,[e("div",A3,[e("button",{onClick:ae=>W(U),class:"text-blue-600 hover:text-blue-900"},[b(l(Xe),{class:"w-4 h-4"})],8,P3),e("button",{onClick:ae=>I(U),class:"text-blue-600 hover:text-blue-900"},o(U.is_active?"Désactiver":"Activer"),9,M3),e("button",{onClick:ae=>M(U.id),class:"text-red-600 hover:text-red-900"},[b(l(at),{class:"w-4 h-4"})],8,D3)])])]))),128))])])])])])])):B("",!0),v.value==="languages"?(t(),s("div",I3,[e("div",T3,[e("div",L3,[V[30]||(V[30]=e("div",null,[e("h3",{class:"text-lg font-semibold text-gray-900"},"Gestion des langues"),e("p",{class:"text-sm text-gray-600"},"Configurez les langues disponibles sur la plateforme")],-1)),e("button",{onClick:V[2]||(V[2]=U=>P.value=!0),class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center"},[b(l(Re),{class:"w-4 h-4 mr-2"}),V[29]||(V[29]=K(" Ajouter une langue ",-1))])]),e("div",E3,[e("div",S3,[Z(e("input",{"onUpdate:modelValue":V[3]||(V[3]=U=>f.search=U),type:"text",placeholder:"Rechercher une langue...",class:"w-full md:w-1/3 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[Q,f.search]])]),e("div",V3,[e("table",F3,[V[31]||(V[31]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Langue "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Code "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Direction "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Statut "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",R3,[(t(!0),s(X,null,Y(c.value,U=>(t(),s("tr",{key:U.id,class:"hover:bg-gray-50"},[e("td",N3,[e("div",q3,[e("span",z3,o(U.flag),1),e("div",null,[e("div",U3,o(U.name),1),e("div",B3,o(U.native_name),1)])])]),e("td",O3,o(U.code),1),e("td",H3,o(U.direction==="rtl"?"Droite à gauche":"Gauche à droite"),1),e("td",G3,[e("span",{class:J(["px-2 py-1 text-xs font-medium rounded-full",U.is_active?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"])},o(U.is_active?"Actif":"Inactif"),3)]),e("td",K3,[e("div",Z3,[e("button",{onClick:ae=>H(U),class:"text-blue-600 hover:text-blue-900"},[b(l(Xe),{class:"w-4 h-4"})],8,W3),e("button",{onClick:ae=>m(U),class:"text-blue-600 hover:text-blue-900"},o(U.is_active?"Désactiver":"Activer"),9,J3),e("button",{onClick:ae=>L(U.id),class:"text-red-600 hover:text-red-900"},[b(l(at),{class:"w-4 h-4"})],8,X3)])])]))),128))])])])])])])):B("",!0),v.value==="settings"?(t(),s("div",Y3,[e("div",Q3,[e("div",e6,[V[37]||(V[37]=e("div",{class:"px-6 py-4 border-b border-gray-200"},[e("h3",{class:"text-lg font-semibold text-gray-900"},"Paramètres généraux")],-1)),e("div",t6,[e("form",{onSubmit:ge(k,["prevent"])},[e("div",s6,[e("div",null,[V[32]||(V[32]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Nom de l'application",-1)),Z(e("input",{"onUpdate:modelValue":V[4]||(V[4]=U=>r.app_name=U),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[Q,r.app_name]])]),e("div",null,[V[33]||(V[33]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"URL de l'application",-1)),Z(e("input",{"onUpdate:modelValue":V[5]||(V[5]=U=>r.app_url=U),type:"url",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[Q,r.app_url]])]),e("div",null,[V[34]||(V[34]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Langue par défaut",-1)),Z(e("select",{"onUpdate:modelValue":V[6]||(V[6]=U=>r.default_language=U),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},[(t(!0),s(X,null,Y(O.value,U=>(t(),s("option",{key:U.id,value:U.code},o(U.name),9,o6))),128))],512),[[re,r.default_language]])]),e("div",null,[V[35]||(V[35]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Pays par défaut",-1)),Z(e("select",{"onUpdate:modelValue":V[7]||(V[7]=U=>r.default_country=U),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},[(t(!0),s(X,null,Y(x.value,U=>(t(),s("option",{key:U.id,value:U.code},o(U.name),9,r6))),128))],512),[[re,r.default_country]])])]),e("div",a6,[V[36]||(V[36]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Description de l'application",-1)),Z(e("textarea",{"onUpdate:modelValue":V[8]||(V[8]=U=>r.app_description=U),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[Q,r.app_description]])]),e("div",i6,[e("button",{type:"submit",disabled:y.value,class:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400"},[y.value?(t(),s("span",l6,"Mise à jour...")):(t(),s("span",d6,"Sauvegarder"))],8,n6)])],32)])]),e("div",c6,[V[42]||(V[42]=e("div",{class:"px-6 py-4 border-b border-gray-200"},[e("h3",{class:"text-lg font-semibold text-gray-900"},"Paramètres email")],-1)),e("div",u6,[e("form",{onSubmit:ge(j,["prevent"])},[e("div",m6,[e("div",null,[V[38]||(V[38]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Email expéditeur",-1)),Z(e("input",{"onUpdate:modelValue":V[9]||(V[9]=U=>F.from_email=U),type:"email",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[Q,F.from_email]])]),e("div",null,[V[39]||(V[39]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Nom expéditeur",-1)),Z(e("input",{"onUpdate:modelValue":V[10]||(V[10]=U=>F.from_name=U),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[Q,F.from_name]])]),e("div",null,[V[40]||(V[40]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Email support",-1)),Z(e("input",{"onUpdate:modelValue":V[11]||(V[11]=U=>F.support_email=U),type:"email",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[Q,F.support_email]])]),e("div",null,[V[41]||(V[41]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Email admin",-1)),Z(e("input",{"onUpdate:modelValue":V[12]||(V[12]=U=>F.admin_email=U),type:"email",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[Q,F.admin_email]])])]),e("div",p6,[e("button",{type:"submit",disabled:y.value,class:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400"},[y.value?(t(),s("span",v6,"Mise à jour...")):(t(),s("span",x6,"Sauvegarder"))],8,g6)])],32)])])])])):B("",!0),g.value||u.value?(t(),s("div",f6,[e("div",b6,[e("div",h6,[e("h3",y6,o(g.value?"Ajouter un pays":"Modifier le pays"),1)]),e("form",{onSubmit:V[18]||(V[18]=ge(U=>g.value?S():N(),["prevent"]))},[e("div",_6,[e("div",null,[V[43]||(V[43]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Nom *",-1)),Z(e("input",{"onUpdate:modelValue":V[13]||(V[13]=U=>E.name=U),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[Q,E.name]])]),e("div",null,[V[44]||(V[44]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Code *",-1)),Z(e("input",{"onUpdate:modelValue":V[14]||(V[14]=U=>E.code=U),type:"text",required:"",maxlength:"2",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[Q,E.code]])]),e("div",null,[V[45]||(V[45]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Devise",-1)),Z(e("input",{"onUpdate:modelValue":V[15]||(V[15]=U=>E.currency=U),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[Q,E.currency]])]),e("div",null,[V[46]||(V[46]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"URL du drapeau",-1)),Z(e("input",{"onUpdate:modelValue":V[16]||(V[16]=U=>E.flag=U),type:"url",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[Q,E.flag]])]),e("div",w6,[Z(e("input",{"onUpdate:modelValue":V[17]||(V[17]=U=>E.is_active=U),type:"checkbox",class:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"},null,512),[[Me,E.is_active]]),V[47]||(V[47]=e("label",{class:"ml-2 text-sm text-gray-700"},"Actif",-1))])]),e("div",$6,[e("button",{type:"button",onClick:p,class:"px-4 py-2 text-gray-600 hover:text-gray-900"}," Annuler "),e("button",{type:"submit",disabled:A.value,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400"},[A.value?(t(),s("span",C6,"Enregistrement...")):(t(),s("span",j6,o(g.value?"Créer":"Modifier"),1))],8,k6)])],32)])])):B("",!0),P.value||i.value?(t(),s("div",A6,[e("div",P6,[e("div",M6,[e("h3",D6,o(P.value?"Ajouter une langue":"Modifier la langue"),1)]),e("form",{onSubmit:V[25]||(V[25]=ge(U=>P.value?G():_(),["prevent"]))},[e("div",I6,[e("div",null,[V[48]||(V[48]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Nom *",-1)),Z(e("input",{"onUpdate:modelValue":V[19]||(V[19]=U=>a.name=U),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[Q,a.name]])]),e("div",null,[V[49]||(V[49]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Nom natif",-1)),Z(e("input",{"onUpdate:modelValue":V[20]||(V[20]=U=>a.native_name=U),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[Q,a.native_name]])]),e("div",null,[V[50]||(V[50]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Code *",-1)),Z(e("input",{"onUpdate:modelValue":V[21]||(V[21]=U=>a.code=U),type:"text",required:"",maxlength:"2",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[Q,a.code]])]),e("div",null,[V[51]||(V[51]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Drapeau (emoji)",-1)),Z(e("input",{"onUpdate:modelValue":V[22]||(V[22]=U=>a.flag=U),type:"text",maxlength:"2",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[Q,a.flag]])]),e("div",null,[V[53]||(V[53]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Direction",-1)),Z(e("select",{"onUpdate:modelValue":V[23]||(V[23]=U=>a.direction=U),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},V[52]||(V[52]=[e("option",{value:"ltr"},"Gauche à droite",-1),e("option",{value:"rtl"},"Droite à gauche",-1)]),512),[[re,a.direction]])]),e("div",T6,[Z(e("input",{"onUpdate:modelValue":V[24]||(V[24]=U=>a.is_active=U),type:"checkbox",class:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"},null,512),[[Me,a.is_active]]),V[54]||(V[54]=e("label",{class:"ml-2 text-sm text-gray-700"},"Actif",-1))])]),e("div",L6,[e("button",{type:"button",onClick:q,class:"px-4 py-2 text-gray-600 hover:text-gray-900"}," Annuler "),e("button",{type:"submit",disabled:A.value,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400"},[A.value?(t(),s("span",S6,"Enregistrement...")):(t(),s("span",V6,o(P.value?"Créer":"Modifier"),1))],8,E6)])],32)])])):B("",!0)]))}},R6={class:"min-h-screen bg-gray-50 py-8"},N6={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},q6={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8"},z6={class:"flex items-center justify-between"},U6={class:"flex space-x-3"},B6={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},O6={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},H6={class:"flex items-center"},G6={class:"text-2xl font-bold text-gray-900"},K6={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},Z6={class:"flex items-center"},W6={class:"text-2xl font-bold text-gray-900"},J6={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},X6={class:"flex items-center"},Y6={class:"text-2xl font-bold text-gray-900"},Q6={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},e9={class:"flex items-center"},t9={class:"text-2xl font-bold text-gray-900"},s9={key:0,class:"bg-white rounded-lg shadow-sm border border-gray-200 mb-8"},o9={class:"p-6"},r9={key:0,class:"mb-6"},a9={class:"space-y-3"},i9={class:"font-medium"},n9={class:"text-sm text-gray-600"},l9={class:"text-sm"},d9={class:"text-right"},c9={class:"font-semibold text-orange-700"},u9=["onClick"],m9={key:1},p9={class:"space-y-3"},g9={class:"font-medium"},v9={class:"text-sm text-gray-600"},x9={class:"text-sm"},f9={class:"text-right"},b9={class:"font-semibold text-red-700"},h9=["onClick"],y9={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-8"},_9={class:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4"},w9={class:"flex flex-wrap items-center space-x-4"},$9={class:"text-sm text-gray-500"},k9={key:1,class:"text-center py-12"},C9={key:2,class:"text-center py-12"},j9={key:3,class:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden"},A9={class:"overflow-x-auto"},P9={class:"min-w-full divide-y divide-gray-200"},M9={class:"bg-white divide-y divide-gray-200"},D9={class:"px-6 py-4 whitespace-nowrap"},I9={class:"font-mono text-sm font-medium text-gray-900"},T9={class:"text-sm text-gray-500"},L9={key:0,class:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800 mt-1"},E9={class:"px-6 py-4 whitespace-nowrap"},S9={class:"text-sm font-medium text-gray-900"},V9={class:"text-sm text-gray-500"},F9={class:"px-6 py-4 whitespace-nowrap"},R9={class:"text-sm font-semibold text-gray-900"},N9={class:"text-xs text-gray-500"},q9={class:"px-6 py-4 whitespace-nowrap"},z9={class:"text-sm text-gray-900"},U9={key:0,class:"text-xs text-gray-500"},B9={class:"px-6 py-4 whitespace-nowrap"},O9={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},H9={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},G9={class:"flex space-x-2"},K9=["onClick"],Z9=["onClick"],W9=["onClick"],J9={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},X9={class:"flex items-center justify-center min-h-screen px-4"},Y9={class:"relative bg-white rounded-lg max-w-md w-full"},Q9={class:"p-6"},e$={class:"flex items-center justify-between mb-4"},t$={class:"space-y-4"},s$={class:"flex items-center"},o$={class:"flex justify-end space-x-3 mt-6"},r$=["disabled"],a$={key:1,class:"fixed inset-0 z-50 overflow-y-auto"},i$={class:"flex items-center justify-center min-h-screen px-4"},n$={class:"relative bg-white rounded-lg max-w-md w-full"},l$={class:"p-6"},d$={class:"flex items-center justify-between mb-4"},c$={class:"space-y-4"},u$={class:"flex justify-end space-x-3 mt-6"},m$=["disabled"],p$={__name:"RefundManagement",setup(h){const{get:v,post:A}=de(),y=R([]),g=R({}),u=R(!1),P=R(!1),i=R({}),d=R(!1),w=R(null),C=R(""),T=R({status:"",type:"",reason:""}),f=R({dryRun:!1}),$=async()=>{u.value=!0;try{const S=new URLSearchParams({limit:100});Object.keys(T.value).forEach(G=>{T.value[G]&&S.append(G,T.value[G])});const N=await v(`/admin/refunds?${S}`);y.value=N.data.refunds||[]}catch(S){console.error("Error loading refunds:",S),y.value=[{id:1,refund_number:"REF-2025-001",type:"automatic",auto_processed:!0,user:{full_name:"Jean Dupont",email:"jean@example.com"},lottery:{lottery_number:"KMB-2025-001",product_name:"iPhone 15 Pro"},amount:5e3,currency:"FCFA",status:"pending",reason:"lottery_cancelled",created_at:"2025-01-08T10:30:00Z"},{id:2,refund_number:"REF-2025-002",type:"manual",auto_processed:!1,user:{full_name:"Marie Martin",email:"marie@example.com"},lottery:{lottery_number:"KMB-2025-002",product_name:"MacBook Pro M3"},amount:2e4,currency:"FCFA",status:"approved",reason:"user_request",created_at:"2025-01-07T14:15:00Z"}]}finally{u.value=!1}},D=async()=>{try{const S=await v("/admin/refunds/stats");g.value=S.data}catch(S){console.error("Error loading stats:",S),g.value={total_refunds:168,total_amount_refunded:23e5,pending_refunds:12,processing_time_avg:24}}},E=async()=>{try{const S=await v("/admin/refunds/eligible-lotteries");i.value=S.data}catch(S){console.error("Error loading eligible lotteries:",S),i.value={need_refund:[{id:1,lottery_number:"KMB-2025-001",product_title:"iPhone 15 Pro",participants:45,min_participants:100,estimated_refund:225e3}],in_progress:[{id:2,lottery_number:"KMB-2025-002",product_title:"MacBook Pro M3",participants:28,estimated_refund:56e4}]}}},a=async()=>{P.value=!0;try{const S=await A("/admin/refunds/process-automatic",{dry_run:f.value.dryRun});window.$toast&&window.$toast.success("Traitement automatique terminé : "+S.data.message,"✅ Traitement"),await Promise.all([$(),D(),E()]),d.value=!1}catch(S){console.error("Error processing automatic refunds:",S),window.$toast&&window.$toast.success("Traitement automatique simulé : "+(f.value.dryRun?"Mode test activé":"3 remboursements traités"),"✅ Simulation"),await Promise.all([$(),D(),E()]),d.value=!1}finally{P.value=!1}},r=async(S,N=!1)=>{if(confirm("Traiter les remboursements pour cette tombola ?")){P.value=!0;try{const G=await A("/admin/refunds/process-automatic",{lottery_id:S,dry_run:N});window.$toast&&window.$toast.success("Traitement terminé : "+G.data.message,"✅ Traitement"),await Promise.all([$(),D(),E()])}catch(G){console.error("Error processing lottery refunds:",G),window.$toast&&window.$toast.error("Erreur lors du traitement","❌ Erreur")}finally{P.value=!1}}},F=async S=>{if(confirm("Approuver ce remboursement ?")){P.value=!0;try{const N=await A(`/admin/refunds/${S.id}/approve`);window.$toast&&window.$toast.success("Remboursement approuvé et traité","✅ Approbation");const G=y.value.findIndex(_=>_.id===S.id);G!==-1&&(y.value[G]=N.data.refund),await D()}catch(N){console.error("Error approving refund:",N),window.$toast&&window.$toast.success("Remboursement simulé : approuvé et traité","✅ Simulation");const G=y.value.findIndex(_=>_.id===S.id);G!==-1&&(y.value[G].status="approved"),await D()}finally{P.value=!1}}},n=S=>{w.value=S,C.value=""},c=async()=>{if(C.value.trim()){P.value=!0;try{const S=await A(`/admin/refunds/${w.value.id}/reject`,{reason:C.value});window.$toast&&window.$toast.warning("Remboursement rejeté","⚠️ Rejet");const N=y.value.findIndex(G=>G.id===w.value.id);N!==-1&&(y.value[N]=S.data.refund),w.value=null,C.value="",await D()}catch(S){console.error("Error rejecting refund:",S),window.$toast&&window.$toast.warning("Remboursement simulé : rejeté avec motif","⚠️ Simulation");const N=y.value.findIndex(G=>G.id===w.value.id);N!==-1&&(y.value[N].status="rejected",y.value[N].reason=C.value),w.value=null,C.value="",await D()}finally{P.value=!1}}},x=S=>{window.$toast&&window.$toast.info("Détails du remboursement : "+S.refund_number,"📝 Détails")},O=()=>{T.value={status:"",type:"",reason:""},$()},W=S=>new Intl.NumberFormat("fr-FR",{minimumFractionDigits:0,maximumFractionDigits:0}).format(S||0)+" FCFA",H=S=>S?S>=1e6?(S/1e6).toFixed(1)+"M":S>=1e3?(S/1e3).toFixed(0)+"K":S.toString():"0",I=S=>new Intl.DateTimeFormat("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(S)),m=S=>({pending:"bg-yellow-100 text-yellow-800",approved:"bg-blue-100 text-blue-800",processed:"bg-purple-100 text-purple-800",completed:"bg-blue-100 text-blue-800",rejected:"bg-red-100 text-red-800",failed:"bg-red-100 text-red-800"})[S]||"bg-gray-100 text-gray-800",M=S=>({pending:"En attente",approved:"Approuvé",processed:"Traité",completed:"Terminé",rejected:"Rejeté",failed:"Échec"})[S]||S,L=S=>({insufficient_participants:"Participants insuffisants",lottery_cancelled:"Tombola annulée",accidental_purchase:"Achat accidentel",changed_mind:"Changement d'avis",duplicate_purchase:"Achat en double",technical_issue:"Problème technique",system_error:"Erreur système",other:"Autre"})[S]||S;return ne(async()=>{await Promise.all([$(),D(),E()])}),(S,N)=>(t(),s("div",R6,[e("div",N6,[e("div",q6,[e("div",z6,[N[12]||(N[12]=e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900"},"🏦 Gestion des Remboursements"),e("p",{class:"text-gray-600 mt-1"},"Administration des remboursements automatiques et manuels")],-1)),e("div",U6,[e("button",{onClick:E,class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700"}," 🔍 Vérifier les tombolas "),e("button",{onClick:N[0]||(N[0]=G=>d.value=!0),class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700"}," 🤖 Traiter automatique ")])])]),e("div",B6,[e("div",O6,[e("div",H6,[N[14]||(N[14]=e("div",{class:"p-3 rounded-full bg-blue-100 text-blue-600 mr-4"}," 💰 ",-1)),e("div",null,[e("div",G6,o(g.value.total_refunds||0),1),N[13]||(N[13]=e("div",{class:"text-sm text-gray-600"},"Total remboursements",-1))])])]),e("div",K6,[e("div",Z6,[N[16]||(N[16]=e("div",{class:"p-3 rounded-full bg-blue-100 text-blue-600 mr-4"}," ✅ ",-1)),e("div",null,[e("div",W6,o(H(g.value.total_amount_refunded)),1),N[15]||(N[15]=e("div",{class:"text-sm text-gray-600"},"Montant remboursé",-1))])])]),e("div",J6,[e("div",X6,[N[18]||(N[18]=e("div",{class:"p-3 rounded-full bg-yellow-100 text-yellow-600 mr-4"}," ⏳ ",-1)),e("div",null,[e("div",Y6,o(g.value.pending_refunds||0),1),N[17]||(N[17]=e("div",{class:"text-sm text-gray-600"},"En attente",-1))])])]),e("div",Q6,[e("div",e9,[N[20]||(N[20]=e("div",{class:"p-3 rounded-full bg-purple-100 text-purple-600 mr-4"}," 🤖 ",-1)),e("div",null,[e("div",t9,o(g.value.auto_processed||0),1),N[19]||(N[19]=e("div",{class:"text-sm text-gray-600"},"Auto-traités",-1))])])])]),i.value.expired_insufficient?.length||i.value.cancelled?.length?(t(),s("div",s9,[N[23]||(N[23]=e("div",{class:"p-6 border-b border-gray-200"},[e("h3",{class:"text-lg font-semibold text-gray-900"},"🎯 Tombolas éligibles aux remboursements")],-1)),e("div",o9,[i.value.expired_insufficient?.length?(t(),s("div",r9,[N[21]||(N[21]=e("h4",{class:"text-md font-medium text-orange-700 mb-3"},"⏰ Expirées - Participants insuffisants",-1)),e("div",a9,[(t(!0),s(X,null,Y(i.value.expired_insufficient,G=>(t(),s("div",{key:G.id,class:"flex items-center justify-between bg-orange-50 border border-orange-200 rounded-lg p-4"},[e("div",null,[e("div",i9,o(G.lottery_number),1),e("div",n9,o(G.product_title),1),e("div",l9,o(G.participants)+"/"+o(G.min_participants)+" participants",1)]),e("div",d9,[e("div",c9,o(W(G.estimated_refund)),1),e("button",{onClick:_=>r(G.id,!1),class:"mt-2 px-3 py-1 bg-orange-600 text-white text-sm rounded hover:bg-orange-700"}," Rembourser ",8,u9)])]))),128))])])):B("",!0),i.value.cancelled?.length?(t(),s("div",m9,[N[22]||(N[22]=e("h4",{class:"text-md font-medium text-red-700 mb-3"},"❌ Tombolas annulées",-1)),e("div",p9,[(t(!0),s(X,null,Y(i.value.cancelled,G=>(t(),s("div",{key:G.id,class:"flex items-center justify-between bg-red-50 border border-red-200 rounded-lg p-4"},[e("div",null,[e("div",g9,o(G.lottery_number),1),e("div",v9,o(G.product_title),1),e("div",x9,o(G.participants)+" participants",1)]),e("div",f9,[e("div",b9,o(W(G.estimated_refund)),1),e("button",{onClick:_=>r(G.id,!1),class:"mt-2 px-3 py-1 bg-red-600 text-white text-sm rounded hover:bg-red-700"}," Rembourser ",8,h9)])]))),128))])])):B("",!0)])])):B("",!0),e("div",y9,[e("div",_9,[e("div",w9,[Z(e("select",{"onUpdate:modelValue":N[1]||(N[1]=G=>T.value.status=G),onChange:$,class:"rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},N[24]||(N[24]=[se('<option value="">Tous les statuts</option><option value="pending">En attente</option><option value="approved">Approuvé</option><option value="processed">Traité</option><option value="completed">Terminé</option><option value="rejected">Rejeté</option>',6)]),544),[[re,T.value.status]]),Z(e("select",{"onUpdate:modelValue":N[2]||(N[2]=G=>T.value.type=G),onChange:$,class:"rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},N[25]||(N[25]=[e("option",{value:""},"Tous les types",-1),e("option",{value:"automatic"},"Automatique",-1),e("option",{value:"manual"},"Manuel",-1),e("option",{value:"admin"},"Admin",-1)]),544),[[re,T.value.type]]),Z(e("select",{"onUpdate:modelValue":N[3]||(N[3]=G=>T.value.reason=G),onChange:$,class:"rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},N[26]||(N[26]=[se('<option value="">Toutes les raisons</option><option value="insufficient_participants">Participants insuffisants</option><option value="lottery_cancelled">Tombola annulée</option><option value="accidental_purchase">Achat accidentel</option><option value="technical_issue">Problème technique</option>',5)]),544),[[re,T.value.reason]]),e("button",{onClick:O,class:"px-3 py-2 text-gray-600 hover:text-gray-800 text-sm"}," Réinitialiser ")]),e("div",$9,o(y.value.length)+" remboursement(s) ",1)])]),u.value?(t(),s("div",k9,N[27]||(N[27]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"},null,-1),e("p",{class:"mt-4 text-gray-600"},"Chargement des remboursements...",-1)]))):y.value.length===0?(t(),s("div",C9,[b(l(bt),{class:"mx-auto h-16 w-16 text-gray-400 mb-4"}),N[28]||(N[28]=e("h3",{class:"text-xl font-medium text-gray-900 mb-2"},"Aucun remboursement",-1)),N[29]||(N[29]=e("p",{class:"text-gray-600"},"Aucun remboursement ne correspond aux filtres sélectionnés.",-1))])):(t(),s("div",j9,[e("div",A9,[e("table",P9,[N[30]||(N[30]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Remboursement"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Utilisateur"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Montant"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Raison"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Statut"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Date"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),e("tbody",M9,[(t(!0),s(X,null,Y(y.value,G=>(t(),s("tr",{key:G.id,class:"hover:bg-gray-50"},[e("td",D9,[e("div",null,[e("div",I9,o(G.refund_number),1),e("div",T9,o(G.type),1),G.auto_processed?(t(),s("div",L9," 🤖 Auto ")):B("",!0)])]),e("td",E9,[e("div",null,[e("div",S9,o(G.user.full_name),1),e("div",V9,o(G.user.email),1)])]),e("td",F9,[e("div",R9,o(W(G.amount)),1),e("div",N9,o(G.currency),1)]),e("td",q9,[e("div",z9,o(L(G.reason)),1),G.lottery?(t(),s("div",U9,o(G.lottery.lottery_number),1)):B("",!0)]),e("td",B9,[e("span",{class:J(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",m(G.status)])},o(M(G.status)),3)]),e("td",O9,o(I(G.created_at)),1),e("td",H9,[e("div",G9,[G.status==="pending"?(t(),s("button",{key:0,onClick:_=>F(G),class:"text-blue-600 hover:text-blue-900"}," ✅ Approuver ",8,K9)):B("",!0),G.status==="pending"?(t(),s("button",{key:1,onClick:_=>n(G),class:"text-red-600 hover:text-red-900"}," ❌ Rejeter ",8,Z9)):B("",!0),e("button",{onClick:_=>x(G),class:"text-blue-600 hover:text-blue-900"}," 👁️ Détails ",8,W9)])])]))),128))])])])]))]),d.value?(t(),s("div",J9,[e("div",X9,[e("div",{class:"fixed inset-0 bg-black bg-opacity-20",onClick:N[4]||(N[4]=G=>d.value=!1)}),e("div",Y9,[e("div",Q9,[e("div",e$,[N[31]||(N[31]=e("h3",{class:"text-lg font-semibold"},"🤖 Traitement Automatique",-1)),e("button",{onClick:N[5]||(N[5]=G=>d.value=!1),class:"text-gray-400 hover:text-gray-600"},[b(l(Ie),{class:"w-6 h-6"})])]),e("div",t$,[e("div",null,[e("label",s$,[Z(e("input",{type:"checkbox","onUpdate:modelValue":N[6]||(N[6]=G=>f.value.dryRun=G),class:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"},null,512),[[Me,f.value.dryRun]]),N[32]||(N[32]=e("span",{class:"ml-2 text-sm text-gray-700"},"Mode test (pas de changements)",-1))])]),N[33]||(N[33]=e("div",{class:"bg-yellow-50 border border-yellow-200 rounded-lg p-3"},[e("div",{class:"text-sm text-yellow-800"},[e("p",{class:"font-medium mb-1"},"⚠️ Attention"),e("p",null,"Cette action va traiter automatiquement tous les remboursements éligibles.")])],-1))]),e("div",o$,[e("button",{onClick:N[7]||(N[7]=G=>d.value=!1),class:"px-4 py-2 text-gray-700 bg-gray-200 hover:bg-gray-300 rounded-lg"}," Annuler "),e("button",{onClick:a,disabled:P.value,class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50"},o(P.value?"Traitement...":"Traiter"),9,r$)])])])])])):B("",!0),w.value?(t(),s("div",a$,[e("div",i$,[e("div",{class:"fixed inset-0 bg-black bg-opacity-20",onClick:N[8]||(N[8]=G=>w.value=null)}),e("div",n$,[e("div",l$,[e("div",d$,[N[34]||(N[34]=e("h3",{class:"text-lg font-semibold"},"❌ Rejeter le remboursement",-1)),e("button",{onClick:N[9]||(N[9]=G=>w.value=null),class:"text-gray-400 hover:text-gray-600"},[b(l(Ie),{class:"w-6 h-6"})])]),e("div",c$,[e("div",null,[N[35]||(N[35]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Raison du rejet *",-1)),Z(e("textarea",{"onUpdate:modelValue":N[10]||(N[10]=G=>C.value=G),rows:"3",required:"",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500",placeholder:"Expliquez pourquoi ce remboursement est rejeté..."},null,512),[[Q,C.value]])])]),e("div",u$,[e("button",{onClick:N[11]||(N[11]=G=>{w.value=null,C.value=""}),class:"px-4 py-2 text-gray-700 bg-gray-200 hover:bg-gray-300 rounded-lg"}," Annuler "),e("button",{onClick:c,disabled:P.value||!C.value.trim(),class:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50"},o(P.value?"Rejet...":"Rejeter"),9,m$)])])])])])):B("",!0)]))}},g$={class:"space-y-6"},v$={class:"flex justify-between items-center"},x$={class:"flex space-x-3"},f$={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},b$={class:"flex items-center"},h$={class:"ml-4"},y$={class:"text-sm font-medium text-gray-600"},_$={class:"text-2xl font-bold text-gray-900"},w$={class:"mt-4 pt-4 border-t border-gray-100"},$$={class:"flex items-center text-sm"},k$={class:"admin-card"},C$={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},j$={class:"relative"},A$={class:"admin-card"},P$={key:0,class:"flex justify-center py-12"},M$={key:1,class:"overflow-x-auto"},D$={class:"min-w-full"},I$={class:"bg-white divide-y divide-gray-200"},T$={class:"px-6 py-4 whitespace-nowrap"},L$={class:"text-sm font-medium text-gray-900"},E$={class:"text-sm text-gray-500"},S$={class:"px-6 py-4 whitespace-nowrap"},V$={class:"flex items-center"},F$={class:"flex-shrink-0 h-8 w-8"},R$={class:"h-8 w-8 rounded-full bg-gray-300 flex items-center justify-center"},N$={class:"ml-3"},q$={class:"text-sm font-medium text-gray-900"},z$={class:"text-sm text-gray-500"},U$={class:"px-6 py-4 whitespace-nowrap"},B$={class:"text-sm text-gray-900"},O$={class:"text-sm text-gray-500"},H$={class:"px-6 py-4 whitespace-nowrap"},G$={class:"text-sm font-medium text-gray-900"},K$={class:"text-sm text-gray-500"},Z$={class:"px-6 py-4 whitespace-nowrap"},W$={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},J$={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},X$={class:"flex items-center space-x-2"},Y$=["onClick"],Q$=["onClick"],e7={class:"bg-white px-6 py-3 border-t border-gray-200 flex items-center justify-between"},t7={class:"text-sm text-gray-700"},s7={class:"font-medium"},o7={class:"font-medium"},r7={class:"font-medium"},a7={class:"flex space-x-2"},i7=["disabled"],n7=["disabled"],l7={key:0,class:"fixed inset-0 bg-black bg-opacity-20 overflow-y-auto h-full w-full z-50"},d7={class:"relative top-20 mx-auto p-5 border w-11/12 md:w-1/2 shadow-lg rounded-md bg-white"},c7={class:"mt-3"},u7={class:"flex justify-between items-center mb-4"},m7={key:0,class:"space-y-4"},p7={class:"grid grid-cols-2 gap-4"},g7={class:"text-sm text-gray-900"},v7={class:"text-sm text-gray-900"},x7={class:"text-sm text-gray-900"},f7={class:"text-sm text-gray-900"},b7={class:"text-sm text-gray-900"},h7={class:"mt-6 flex justify-end space-x-3"},y7={__name:"PaymentManagement",setup(h){de();const v=R(!1),A=R([]),y=R([{label:"Total des revenus",value:"45,2M FCFA",change:15.3,icon:De,bgColor:"bg-blue-100",iconColor:"text-blue-600"},{label:"Transactions réussies",value:"2,847",change:8.7,icon:Rt,bgColor:"bg-blue-100",iconColor:"text-[#0099cc]"},{label:"Taux de réussite",value:"96.8%",change:2.1,icon:lt,bgColor:"bg-purple-100",iconColor:"text-purple-600"},{label:"Transactions échouées",value:"94",change:-12.5,icon:ze,bgColor:"bg-red-100",iconColor:"text-red-600"}]),g=le({search:"",status:"",startDate:"",endDate:""}),u=R(1),P=R(20),i=R(0),d=R(!1),w=R(null),C=R([{id:1,transaction_id:"TXN-2025-001",user_name:"Jean Dupont",user_email:"jean@example.com",product_name:"iPhone 15 Pro Max",tickets_count:2,amount:5e3,currency:"FCFA",status:"completed",payment_method:"Mobile Money",created_at:"2025-01-09T10:30:00Z"},{id:2,transaction_id:"TXN-2025-002",user_name:"Marie Martin",user_email:"marie@example.com",product_name:"MacBook Pro M3",tickets_count:1,amount:2500,currency:"FCFA",status:"pending",payment_method:"Carte bancaire",created_at:"2025-01-09T09:15:00Z"},{id:3,transaction_id:"TXN-2025-003",user_name:"Paul Durand",user_email:"paul@example.com",product_name:"PlayStation 5",tickets_count:3,amount:7500,currency:"FCFA",status:"failed",payment_method:"Mobile Money",created_at:"2025-01-09T08:45:00Z"}]),T=te(()=>Math.ceil(i.value/P.value)),f=te(()=>(u.value-1)*P.value+1),$=te(()=>Math.min(u.value*P.value,i.value)),D=async()=>{v.value=!0;try{A.value=C.value,i.value=C.value.length}catch(M){console.error("Error loading payments:",M),A.value=C.value,i.value=C.value.length}finally{v.value=!1}},E=()=>{u.value=1,D()},a=M=>new Intl.NumberFormat("fr-FR").format(M),r=M=>new Date(M).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),F=M=>({pending:"admin-badge-warning",completed:"admin-badge-success",failed:"admin-badge-danger",refunded:"bg-gray-100 text-gray-800 px-2 py-1 text-xs font-medium rounded-full"})[M]||"bg-gray-100 text-gray-800 px-2 py-1 text-xs font-medium rounded-full",n=M=>({pending:"En attente",completed:"Complété",failed:"Échoué",refunded:"Remboursé"})[M]||M,c=M=>{w.value=M,d.value=!0},x=()=>{d.value=!1,w.value=null},O=async M=>{if(confirm("Êtes-vous sûr de vouloir initier un remboursement pour cette transaction ?"))try{console.log("Initiating refund for:",M.transaction_id),window.$toast&&window.$toast.success("Remboursement initié avec succès","✅ Remboursement"),D()}catch(L){console.error("Error initiating refund:",L),window.$toast&&window.$toast.error("Erreur lors de l'initiation du remboursement","❌ Erreur")}},W=()=>{console.log("Exporting payments..."),window.$toast&&window.$toast.info("Fonctionnalité d'export en cours de développement","🚀 En développement")},H=()=>{D()},I=()=>{u.value>1&&(u.value--,D())},m=()=>{u.value<T.value&&(u.value++,D())};return ne(()=>{D()}),(M,L)=>(t(),s("div",g$,[e("div",v$,[L[7]||(L[7]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900"},"Gestion des Paiements"),e("p",{class:"mt-2 text-gray-600"},"Suivez et gérez toutes les transactions financières")],-1)),e("div",x$,[e("button",{onClick:W,class:"admin-btn-secondary"},[b(l(ls),{class:"w-4 h-4 mr-2"}),L[5]||(L[5]=K(" Exporter ",-1))]),e("button",{onClick:H,class:"admin-btn-primary"},[b(l(Et),{class:"w-4 h-4 mr-2"}),L[6]||(L[6]=K(" Actualiser ",-1))])])]),e("div",f$,[(t(!0),s(X,null,Y(y.value,S=>(t(),s("div",{key:S.label,class:"admin-card hover:shadow-md transition-shadow duration-200"},[e("div",b$,[e("div",{class:J(["p-3 rounded-lg",S.bgColor])},[(t(),oe(we(S.icon),{class:J(["w-6 h-6",S.iconColor])},null,8,["class"]))],2),e("div",h$,[e("p",y$,o(S.label),1),e("p",_$,o(S.value),1)])]),e("div",w$,[e("div",$$,[e("span",{class:J(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",S.change>=0?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"])},[(t(),oe(we(S.change>=0?l(St):l(it)),{class:"w-3 h-3 mr-1"})),K(" "+o(Math.abs(S.change))+"% ",1)],2),L[8]||(L[8]=e("span",{class:"ml-2 text-gray-500"},"vs mois dernier",-1))])])]))),128))]),e("div",k$,[e("div",C$,[e("div",null,[L[9]||(L[9]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Recherche",-1)),e("div",j$,[b(l(Je),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),Z(e("input",{"onUpdate:modelValue":L[0]||(L[0]=S=>g.search=S),type:"text",placeholder:"Transaction ID, utilisateur...",class:"admin-input pl-10",onInput:E},null,544),[[Q,g.search]])])]),e("div",null,[L[11]||(L[11]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Statut",-1)),Z(e("select",{"onUpdate:modelValue":L[1]||(L[1]=S=>g.status=S),onChange:E,class:"admin-input"},L[10]||(L[10]=[se('<option value="">Tous les statuts</option><option value="pending">En attente</option><option value="completed">Complété</option><option value="failed">Échoué</option><option value="refunded">Remboursé</option>',5)]),544),[[re,g.status]])]),e("div",null,[L[12]||(L[12]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Date début",-1)),Z(e("input",{"onUpdate:modelValue":L[2]||(L[2]=S=>g.startDate=S),type:"date",class:"admin-input",onChange:E},null,544),[[Q,g.startDate]])]),e("div",null,[L[13]||(L[13]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Date fin",-1)),Z(e("input",{"onUpdate:modelValue":L[3]||(L[3]=S=>g.endDate=S),type:"date",class:"admin-input",onChange:E},null,544),[[Q,g.endDate]])])])]),e("div",A$,[L[20]||(L[20]=e("div",{class:"admin-card-header"},[e("h3",{class:"text-lg font-semibold text-gray-900"},"Transactions récentes")],-1)),v.value?(t(),s("div",P$,L[14]||(L[14]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#0099cc]"},null,-1)]))):(t(),s("div",M$,[e("table",D$,[L[15]||(L[15]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Transaction "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Utilisateur "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Produit/Tombola "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Montant "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Statut "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Date "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",I$,[(t(!0),s(X,null,Y(A.value,S=>(t(),s("tr",{key:S.id,class:"hover:bg-gray-50"},[e("td",T$,[e("div",L$,"#"+o(S.transaction_id),1),e("div",E$,o(S.payment_method),1)]),e("td",S$,[e("div",V$,[e("div",F$,[e("div",R$,[b(l(Pe),{class:"h-4 w-4 text-gray-600"})])]),e("div",N$,[e("div",q$,o(S.user_name),1),e("div",z$,o(S.user_email),1)])])]),e("td",U$,[e("div",B$,o(S.product_name),1),e("div",O$,o(S.tickets_count)+" tickets",1)]),e("td",H$,[e("div",G$,o(a(S.amount)),1),e("div",K$,o(S.currency),1)]),e("td",Z$,[e("span",{class:J(F(S.status))},o(n(S.status)),3)]),e("td",W$,o(r(S.created_at)),1),e("td",J$,[e("div",X$,[e("button",{onClick:N=>c(S),class:"text-[#0099cc] hover:text-[#0088bb]",title:"Voir détails"},[b(l(je),{class:"w-4 h-4"})],8,Y$),S.status==="completed"?(t(),s("button",{key:0,onClick:N=>O(S),class:"text-orange-600 hover:text-orange-900",title:"Initier remboursement"},[b(l(ss),{class:"w-4 h-4"})],8,Q$)):B("",!0)])])]))),128))])])])),e("div",e7,[e("div",t7,[L[16]||(L[16]=K(" Affichage de ",-1)),e("span",s7,o(f.value),1),L[17]||(L[17]=K(" à ",-1)),e("span",o7,o($.value),1),L[18]||(L[18]=K(" sur ",-1)),e("span",r7,o(i.value),1),L[19]||(L[19]=K(" résultats ",-1))]),e("div",a7,[e("button",{onClick:I,disabled:u.value===1,class:"admin-btn-secondary disabled:opacity-50 disabled:cursor-not-allowed"}," Précédent ",8,i7),e("button",{onClick:m,disabled:u.value===T.value,class:"admin-btn-secondary disabled:opacity-50 disabled:cursor-not-allowed"}," Suivant ",8,n7)])])]),d.value?(t(),s("div",l7,[e("div",d7,[e("div",c7,[e("div",u7,[L[21]||(L[21]=e("h3",{class:"text-lg font-medium text-gray-900"},"Détails du paiement",-1)),e("button",{onClick:x,class:"text-gray-400 hover:text-gray-600"},[b(l(Ie),{class:"w-6 h-6"})])]),w.value?(t(),s("div",m7,[e("div",p7,[e("div",null,[L[22]||(L[22]=e("label",{class:"block text-sm font-medium text-gray-700"},"ID Transaction",-1)),e("p",g7,o(w.value.transaction_id),1)]),e("div",null,[L[23]||(L[23]=e("label",{class:"block text-sm font-medium text-gray-700"},"Montant",-1)),e("p",v7,o(a(w.value.amount))+" "+o(w.value.currency),1)]),e("div",null,[L[24]||(L[24]=e("label",{class:"block text-sm font-medium text-gray-700"},"Statut",-1)),e("span",{class:J(F(w.value.status))},o(n(w.value.status)),3)]),e("div",null,[L[25]||(L[25]=e("label",{class:"block text-sm font-medium text-gray-700"},"Méthode",-1)),e("p",x7,o(w.value.payment_method),1)]),e("div",null,[L[26]||(L[26]=e("label",{class:"block text-sm font-medium text-gray-700"},"Date",-1)),e("p",f7,o(r(w.value.created_at)),1)]),e("div",null,[L[27]||(L[27]=e("label",{class:"block text-sm font-medium text-gray-700"},"Utilisateur",-1)),e("p",b7,o(w.value.user_name),1)])])])):B("",!0),e("div",h7,[e("button",{onClick:x,class:"admin-btn-secondary"}," Fermer "),w.value?.status==="completed"?(t(),s("button",{key:0,onClick:L[4]||(L[4]=S=>O(w.value)),class:"admin-btn-accent"}," Initier remboursement ")):B("",!0)])])])])):B("",!0)]))}},_7=[{path:"/register",name:"register",component:Xa,meta:{requiresGuest:!0}},{path:"/verify-email",name:"verify-email",component:ci},{path:"/forgot-password",name:"forgot-password",component:qi,meta:{requiresGuest:!0}},{path:"/reset-password-verify",name:"reset-password-verify",component:_n,meta:{requiresGuest:!0}},{path:"/",component:Bs,children:[{path:"",name:"home",component:Sl},{path:"results",name:"public.results",component:Gd},{path:"verify",name:"public.verify",component:qc},{path:"history",name:"public.history",component:g0},{path:"login",name:"login",component:oa,meta:{requiresGuest:!0}},{path:"products",name:"public.products",component:J0},{path:"products/:id",name:"public.product.detail",component:Rp,props:!0},{path:"how-it-works",name:"public.how-it-works",component:ng},{path:"contact",name:"public.contact",component:Yg}]},{path:"/customer",component:ho,meta:{requiresAuth:!0},children:[{path:"",name:"customer.dashboard",component:Vv},{path:"products",name:"customer.products",component:n2},{path:"products/:id",name:"customer.product.detail",component:wx,props:!0},{path:"profile",name:"customer.profile",component:If},{path:"tickets",name:"customer.tickets",component:Tb},{path:"refunds",name:"customer.refunds",component:ey}]},{path:"/admin",component:er,meta:{requiresAuth:!0},children:[{path:"",name:"admin.dashboard",component:o5},{path:"users",name:"admin.users",component:U5},{path:"products",name:"admin.products",component:dw},{path:"lotteries",name:"admin.lotteries",component:i3},{path:"settings",name:"admin.settings",component:F6},{path:"refunds",name:"admin.refunds",component:p$},{path:"payments",name:"admin.payments",component:y7}]},{path:"/merchant",component:()=>ke(()=>import("./MerchantLayout-CtPYevHB.js"),__vite__mapDeps([0,1])),meta:{requiresAuth:!0,role:"MERCHANT"},children:[{path:"",redirect:"dashboard"},{path:"dashboard",name:"merchant.dashboard",component:()=>ke(()=>import("./Dashboard-CF-Y1C_W.js"),__vite__mapDeps([2,1]))},{path:"products",name:"merchant.products",component:()=>ke(()=>import("./Products-Ci7sunPg.js"),__vite__mapDeps([3,1,4]))},{path:"products/create",name:"merchant.products.create",component:()=>ke(()=>import("./CreateProduct-aUBK4ytg.js"),__vite__mapDeps([5,1,4]))},{path:"orders",name:"merchant.orders",component:()=>ke(()=>import("./Orders-Cw8_AB2Q.js"),__vite__mapDeps([6,1]))},{path:"lotteries",name:"merchant.lotteries",component:()=>ke(()=>import("./LotteriesSimple-fTJP8C1S.js"),__vite__mapDeps([7,1]))},{path:"lotteries/:id",name:"merchant.lottery.view",component:()=>ke(()=>import("./LotteryView-BW8gDgPU.js"),__vite__mapDeps([8,1])),props:!0},{path:"analytics",name:"merchant.analytics",component:()=>ke(()=>import("./Analytics-sZWIdwVK.js"),__vite__mapDeps([9,1]))},{path:"settings",name:"merchant.settings",component:()=>ke(()=>import("./Settings-ZLAHfTsO.js"),__vite__mapDeps([10,1]))},{path:"profile",name:"merchant.profile",component:()=>ke(()=>import("./Profile-BcrT9Cnx.js"),__vite__mapDeps([11,1]))}]}],wt=Gt({history:Kt(),routes:_7});wt.beforeEach((h,v,A)=>{const y=ve();if(h.meta.requiresAuth&&!y.isAuthenticated){A({name:"login"});return}if(h.meta.requiresGuest&&y.isAuthenticated){const g=y.getDefaultRedirect();A({name:g});return}if(h.meta.role&&y.isAuthenticated&&!w7(h.meta.role,y)){const u=y.getDefaultRedirect();A({name:u});return}A()});function w7(h,v){switch(h){case"ADMIN":return v.isAdmin;case"MERCHANT":return v.isMerchant;case"CUSTOMER":return v.isCustomer;default:return!1}}const $7={class:"fixed top-4 right-4 z-50 space-y-2"},k7={class:"flex-shrink-0"},C7={class:"ml-3 flex-1"},j7={key:0,class:"text-sm font-semibold mb-1"},A7={class:"text-sm"},P7=["onClick"],M7={__name:"Toast",setup(h,{expose:v}){const A=R([]);let y=0;const g={success:Ce,error:_t,warning:ze,info:Ee},u=a=>g[a]||Ee,P=a=>{const r="bg-white/90 border-l-4",F={success:"border-blue-500 text-blue-900",error:"border-red-500 text-red-900",warning:"border-orange-500 text-orange-900",info:"border-blue-500 text-blue-900"};return`${r} ${F[a]||F.info}`},i=a=>{const r={success:"text-blue-600",error:"text-red-600",warning:"text-orange-600",info:"text-blue-600"};return r[a]||r.info},d=a=>{const r={success:"bg-blue-500",error:"bg-red-500",warning:"bg-orange-500",info:"bg-blue-500"};return r[a]||r.info},w=({title:a,message:r,type:F="info",duration:n=5e3})=>{const c=++y,x={id:c,title:a,message:r,type:F,duration:n};return A.value.push(x),n>0&&setTimeout(()=>{C(c)},n),c},C=a=>{const r=A.value.findIndex(F=>F.id===a);r>-1&&A.value.splice(r,1)},T=()=>{A.value=[]},f=(a,r="Succès")=>w({title:r,message:a,type:"success"}),$=(a,r="Erreur")=>w({title:r,message:a,type:"error"}),D=(a,r="Attention")=>w({title:r,message:a,type:"warning"}),E=(a,r="Information")=>w({title:r,message:a,type:"info"});return v({addToast:w,removeToast:C,clearAll:T,showSuccess:f,showError:$,showWarning:D,showInfo:E}),ne(()=>{window.$toast={success:f,error:$,warning:D,info:E,add:w,remove:C,clear:T}}),Qe(()=>{delete window.$toast}),(a,r)=>(t(),oe(Wt,{to:"body"},[e("div",$7,[b(Zt,{name:"toast",tag:"div",class:"space-y-2"},{default:ee(()=>[(t(!0),s(X,null,Y(A.value,F=>(t(),s("div",{key:F.id,class:J([P(F.type),"flex items-start p-4 rounded-xl shadow-lg border backdrop-blur-sm max-w-sm transition-all duration-300"])},[e("div",k7,[(t(),oe(we(u(F.type)),{class:J([i(F.type),"w-5 h-5"])},null,8,["class"]))]),e("div",C7,[F.title?(t(),s("h4",j7,o(F.title),1)):B("",!0),e("p",A7,o(F.message),1)]),e("button",{onClick:n=>C(F.id),class:"flex-shrink-0 ml-2 p-1 rounded-lg hover:bg-black/5 transition-colors"},[b(l(Ie),{class:"w-4 h-4 text-gray-400 hover:text-gray-600"})],8,P7),F.duration?(t(),s("div",{key:0,class:J([d(F.type),"absolute bottom-0 left-0 h-1 rounded-b-xl transition-all duration-linear"]),style:he({width:"100%",animationDuration:F.duration+"ms",animationName:"toast-progress"})},null,6)):B("",!0)],2))),128))]),_:1})])]))}},D7=Le(M7,[["__scopeId","data-v-583315c0"]]),I7={id:"app"},T7={__name:"App",setup(h){const v=ve();return ne(()=>{v.checkAuth()}),(A,y)=>{const g=me("router-view");return t(),s("div",I7,[b(g),b(D7,{ref:"toastRef"},null,512)])}}},$t=Jt(T7),L7=Xt();window.router=wt;$t.use(L7);$t.use(wt);$t.mount("#app");export{He as A,Et as B,ls as C,_t as D,Ke as E,Te as F,Vt as G,Ne as H,gs as I,ps as J,Ut as K,ct as L,Lt as _,de as a,dt as b,Mt as c,Se as d,Ue as e,lt as f,rs as g,Pe as h,Ve as i,De as j,et as k,Re as l,St as m,it as n,Je as o,Ie as p,Ce as q,nt as r,je as s,Xe as t,ve as u,at as v,jt as w,Ee as x,ts as y,ie as z};
