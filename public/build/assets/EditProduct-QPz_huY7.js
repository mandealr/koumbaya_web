import{c as f,s as h,r as i,g as w,b as d,e as t,t as s,u as k,i as m,w as g,k as P,j as E,m as C,o as a,l as x}from"./vendor-CTxEzfV9.js";import{a as I}from"./app-D7nSFqD1.js";const D={class:"max-w-4xl mx-auto space-y-6"},L={class:"bg-yellow-50 border border-yellow-200 rounded-xl p-4"},N={class:"text-sm text-yellow-700"},R={class:"text-sm text-yellow-700"},V={class:"text-sm text-yellow-700"},S={class:"text-sm text-yellow-700"},A={class:"text-sm text-yellow-700"},B={key:0,class:"flex justify-center items-center py-12"},j={key:1,class:"bg-red-50 border border-red-200 rounded-xl p-6 text-center"},F={class:"text-red-600"},M={key:2,class:"bg-white rounded-xl shadow-lg border border-gray-100 p-6"},T={key:0,class:"space-y-4"},$={class:"grid grid-cols-2 gap-4"},q={class:"text-gray-900"},z={class:"text-gray-900"},G={class:"text-gray-900"},H={class:"text-gray-900"},J={class:"text-gray-600 bg-gray-50 p-3 rounded-lg"},K={class:"mt-6"},W={__name:"EditProduct",setup(O){C();const v=h(),{get:y,loading:_}=I(),c=f(()=>v.params.id),n=i(!0),p=i(!1),r=i(""),l=i(null),b=async()=>{try{console.log("Loading product with ID:",c.value),n.value=!0,r.value="";const o=await y("/products?my_products=1");if(console.log("Merchant products response:",o),o&&o.data&&o.data.products){const e=o.data.products.find(u=>u.id.toString()===c.value.toString());e?(l.value=e,p.value=!0,console.log("Product loaded:",l.value)):(r.value="Ce produit n'existe pas ou ne vous appartient pas",console.error("Product not found in merchant products"))}else r.value="Erreur lors du chargement des produits",console.error("Invalid merchant products response:",o)}catch(o){console.error("Error loading product:",o),o.response?.status===404?r.value="Produit non trouvé":o.response?.status===403?r.value="Vous n'êtes pas autorisé à modifier ce produit":r.value=`Erreur lors du chargement du produit: ${o.message}`}finally{n.value=!1}};return w(()=>{console.log("Component mounted, loading product..."),b()}),(o,e)=>{const u=P("router-link");return a(),d("div",D,[t("div",L,[e[0]||(e[0]=t("h3",{class:"font-medium text-yellow-800"},"Debug Info",-1)),t("p",N,"Product ID: "+s(c.value),1),t("p",R,"Loading Product: "+s(n.value),1),t("p",V,"Product Loaded: "+s(p.value),1),t("p",S,"Error: "+s(r.value),1),t("p",A,"API Loading: "+s(k(_)),1)]),n.value?(a(),d("div",B,e[1]||(e[1]=[t("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#0099cc]"},null,-1),t("span",{class:"ml-3 text-gray-600"},"Chargement du produit...",-1)]))):r.value?(a(),d("div",j,[e[3]||(e[3]=t("h3",{class:"text-lg font-medium text-red-800 mb-2"},"Erreur",-1)),t("p",F,s(r.value),1),m(u,{to:"/merchant/products",class:"inline-flex items-center px-4 py-2 bg-red-100 hover:bg-red-200 text-red-700 rounded-lg transition-colors mt-4"},{default:g(()=>e[2]||(e[2]=[x(" Retour aux produits ",-1)])),_:1,__:[2]})])):(a(),d("div",M,[e[10]||(e[10]=t("h1",{class:"text-2xl font-bold text-gray-900 mb-4"},"Édition du Produit",-1)),l.value?(a(),d("div",T,[t("div",$,[t("div",null,[e[4]||(e[4]=t("label",{class:"block text-sm font-medium text-gray-700"},"ID",-1)),t("p",q,s(l.value.id),1)]),t("div",null,[e[5]||(e[5]=t("label",{class:"block text-sm font-medium text-gray-700"},"Nom",-1)),t("p",z,s(l.value.name),1)]),t("div",null,[e[6]||(e[6]=t("label",{class:"block text-sm font-medium text-gray-700"},"Prix",-1)),t("p",G,s(l.value.price)+" FCFA",1)]),t("div",null,[e[7]||(e[7]=t("label",{class:"block text-sm font-medium text-gray-700"},"Statut",-1)),t("p",H,s(l.value.status),1)])]),t("div",null,[e[8]||(e[8]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Description",-1)),t("p",J,s(l.value.description),1)]),t("div",K,[m(u,{to:"/merchant/products",class:"inline-flex items-center px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors"},{default:g(()=>e[9]||(e[9]=[x(" Retour aux produits ",-1)])),_:1,__:[9]})])])):E("",!0)]))])}}};export{W as default};
