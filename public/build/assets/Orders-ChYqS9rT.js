import{r as _,c as D,Q as de,i as ce,R as ue,b as c,e,k as C,g as b,m as h,B as I,u as p,aC as me,t as n,aE as pe,F as T,y as L,W as F,O as xe,X as q,a1 as X,f as ge,H as U,x as ye,o as i,A as G,P as J,aI as ve,aA as be,s as fe,_ as he,a6 as _e,a2 as we,ah as ke,al as Ce,a8 as De,K as Se}from"./vendor-Ctfs0nQE.js";import{a as Oe,c as $e,d as Ae}from"./app-BC_X-Zwk.js";function Ee(){const{get:S,put:j,loading:M,error:V}=Oe(),f=_([]),x=_({total_orders:0,revenue:0,pending:0,conversion_rate:0}),w=_([]),P=async()=>{try{const a=await S("/merchant/dashboard/stats");return a&&a.data&&(x.value={total_orders:parseInt(a.data.tickets_sold||0),revenue:parseFloat(a.data.total_sales||0),pending:parseInt(a.data.pending_orders||0),conversion_rate:parseFloat(a.data.conversion_rate||0)}),a}catch(a){throw console.error("Erreur lors du chargement des stats:",a),x.value={total_orders:0,revenue:0,pending:0,conversion_rate:0},a}},N=async(a={})=>{try{const l=new URLSearchParams;a.search&&l.append("search",a.search),a.status&&l.append("status",a.status),a.product&&l.append("product_id",a.product),a.startDate&&l.append("start_date",a.startDate),a.endDate&&l.append("end_date",a.endDate),a.limit&&l.append("limit",a.limit);const o=l.toString(),m=`/merchant/dashboard/recent-transactions${o?"?"+o:""}`,v=await S(m);return v&&v.data&&Array.isArray(v.data)?f.value=v.data.map(d=>({id:d.id||Math.random(),order_number:d.transaction_id||`ORD-${d.id}`,customer_name:d.user?.name||"Client inconnu",customer_email:d.user?.email||"",product_name:d.product?.title||"Produit inconnu",product_image:d.product?.image_url||"/images/products/placeholder.jpg",tickets_count:parseInt(d.quantity||0),ticket_numbers:d.ticket_numbers||[],ticket_price:parseFloat(d.amount||0)/Math.max(parseInt(d.quantity||1),1),total_amount:parseFloat(d.amount||0),currency:"FCFA",payment_method:d.payment_method||"Mobile Money",status:d.status||"completed",created_at:d.completed_at||d.created_at})):f.value=[],v}catch(l){throw console.error("Erreur lors du chargement des commandes:",l),f.value=[],l}},R=async()=>{try{const a=await S("/merchant/dashboard/top-products?limit=100");return a&&a.data&&Array.isArray(a.data)?w.value=a.data.map(l=>({id:l.id,name:l.title||l.name||"Produit sans nom"})):w.value=[],a}catch(a){throw console.error("Erreur lors du chargement des produits:",a),w.value=[],a}},O=async(a,l)=>{try{const o=await j(`/transactions/${a}/status`,{status:l});if(o.success){const m=f.value.findIndex(v=>v.id===a);m!==-1&&(f.value[m].status=l)}return o}catch(o){throw console.error("Erreur lors de la mise à jour du statut:",o),o}},g=async a=>O(a.id,"confirmed"),$=async a=>O(a.id,"cancelled"),u=async(a="csv")=>{try{return await S(`/merchant/dashboard/export-orders?format=${a}`)}catch(l){throw console.error("Erreur lors de l'export:",l),l}},y=D(()=>{const a=new Date,l=new Date(a.getTime()-10080*60*1e3);f.value.filter(m=>new Date(m.created_at)>=l);const o=m=>0;return[{label:"Total commandes",value:(x.value.total_orders||0).toString(),change:o(x.value.total_orders),icon:"ShoppingBagIcon",color:"bg-[#0099cc]"},{label:"Revenus",value:Math.floor(x.value.revenue||0).toLocaleString(),change:o(x.value.revenue),icon:"CurrencyDollarIcon",color:"bg-blue-500"},{label:"En attente",value:(x.value.pending||0).toString(),change:o(x.value.pending),icon:"ClockIcon",color:"bg-yellow-500"},{label:"Taux conversion",value:`${x.value.conversion_rate||0}%`,change:o(x.value.conversion_rate),icon:"CheckIcon",color:"bg-purple-500"}]});return{orders:f,stats:x,products:w,orderStats:y,loading:M,error:V,loadStats:P,loadOrders:N,loadProducts:R,updateOrderStatus:O,confirmOrder:g,cancelOrder:$,exportOrders:u}}const Ie={class:"space-y-6"},Fe={class:"flex items-center justify-between"},Me={class:"flex space-x-3"},Pe=["disabled"],Te={class:"grid grid-cols-1 md:grid-cols-4 gap-6"},Le={class:"flex items-center justify-between"},je={class:"text-sm font-medium text-gray-600"},Ve={class:"text-2xl font-bold text-gray-900 mt-1"},Ne={class:"mt-4 pt-4 border-t border-gray-100"},Re={class:"flex items-center text-xs"},Be={class:"bg-white rounded-xl shadow-lg border border-gray-100 p-6"},qe={class:"grid grid-cols-1 md:grid-cols-5 gap-4"},Ue={class:"relative"},ze=["value"],We={class:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden"},He={key:0,class:"flex justify-center py-12"},Ke={key:1,class:"text-center py-12"},Qe={key:2,class:"overflow-x-auto"},Xe={class:"min-w-full"},Ge={class:"bg-white divide-y divide-gray-200"},Je={class:"px-6 py-4 whitespace-nowrap"},Ye={class:"text-sm font-medium text-gray-900"},Ze={class:"text-sm text-gray-500"},et={class:"px-6 py-4 whitespace-nowrap"},tt={class:"flex items-center"},st={class:"w-10 h-10 bg-gray-300 rounded-full flex items-center justify-center"},at={class:"ml-3"},rt={class:"text-sm font-medium text-gray-900"},ot={class:"text-sm text-gray-500"},nt={class:"px-6 py-4 whitespace-nowrap"},lt={class:"flex items-center"},it=["src","alt"],dt={class:"ml-3"},ct={class:"text-sm font-medium text-gray-900"},ut={class:"text-sm text-gray-500"},mt={class:"px-6 py-4 whitespace-nowrap"},pt={class:"text-sm text-gray-900"},xt={class:"text-sm text-gray-500"},gt={class:"px-6 py-4 whitespace-nowrap"},yt={class:"text-sm font-semibold text-gray-900"},vt={class:"text-sm text-gray-500"},bt={class:"px-6 py-4 whitespace-nowrap"},ft={class:"px-6 py-4 whitespace-nowrap"},ht={class:"text-sm text-gray-900"},_t={class:"text-sm text-gray-500"},wt={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},kt={class:"flex items-center space-x-2"},Ct=["onClick"],Dt=["onClick"],St=["onClick"],Ot=["onClick"],$t={class:"bg-white px-6 py-3 border-t border-gray-200 flex items-center justify-between"},At={class:"text-sm text-gray-700"},Et={class:"font-medium"},It={class:"font-medium"},Ft={class:"font-medium"},Mt={class:"flex space-x-2"},Pt=["disabled"],Tt=["disabled"],Lt={key:0,class:"fixed inset-0 bg-black/20 overflow-y-auto h-full w-full z-50"},jt={class:"relative top-20 mx-auto p-5 border w-11/12 md:w-2/3 lg:w-1/2 shadow-lg rounded-xl bg-white"},Vt={class:"flex items-center justify-between mb-6"},Nt={key:0,class:"space-y-6"},Rt={class:"grid grid-cols-2 gap-4"},Bt={class:"text-sm text-gray-900"},qt={class:"text-sm text-gray-900"},Ut={class:"text-sm text-gray-900 font-semibold"},zt={class:"bg-gray-50 p-4 rounded-lg"},Wt={class:"grid grid-cols-2 gap-4"},Ht={class:"text-sm text-gray-900"},Kt={class:"text-sm text-gray-900"},Qt={class:"bg-gray-50 p-4 rounded-lg"},Xt={class:"text-sm text-gray-700 mb-2"},Gt={class:"flex flex-wrap gap-2"},Jt={class:"mt-6 flex justify-end space-x-3"},es={__name:"Orders",setup(S){const{orders:j,products:M,orderStats:V,loading:f,loadStats:x,loadOrders:w,loadProducts:P,confirmOrder:N,cancelOrder:R,exportOrders:O}=Ee(),g=$e(),$=_(!1),u=_(null),y=_(1),a=_(10),l=_(!1),o=de({search:"",status:"",product:"",startDate:"",endDate:""}),m=D(()=>{let r=j.value;if(o.search){const t=o.search.toLowerCase();r=r.filter(s=>s.order_number.toLowerCase().includes(t)||s.customer_name.toLowerCase().includes(t)||s.product_name.toLowerCase().includes(t))}return o.status&&(r=r.filter(t=>t.status===o.status)),o.product&&(r=r.filter(t=>t.product_name.includes(M.value.find(s=>s.id==o.product)?.name||""))),o.startDate&&(r=r.filter(t=>new Date(t.created_at)>=new Date(o.startDate))),o.endDate&&(r=r.filter(t=>new Date(t.created_at)<=new Date(o.endDate))),r}),v=D(()=>Math.ceil(m.value.length/a.value)),d=D(()=>{const r=(y.value-1)*a.value,t=r+a.value;return m.value.slice(r,t)}),Y=D(()=>(y.value-1)*a.value+1),Z=D(()=>{const r=y.value*a.value;return Math.min(r,m.value.length)}),k=async()=>{y.value=1,await A()},A=async()=>{try{await w(o)}catch{g.error("Erreur lors du chargement des commandes")}},ee=()=>{y.value>1&&y.value--},te=()=>{y.value<v.value&&y.value++},z=r=>({pending:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800",awaiting_payment:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",paid:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",shipping:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",fulfilled:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",cancelled:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-red-100 text-red-800",confirmed:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",completed:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800"})[r]||"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-gray-100 text-gray-800",W=r=>({pending:"En attente",awaiting_payment:"En attente de paiement",paid:"Payé",shipping:"En cours de livraison",fulfilled:"Livré",cancelled:"Annulé",confirmed:"Confirmé",completed:"Terminé"})[r]||r,H=r=>new Date(r).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"}),se=r=>new Date(r).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"}),ae=r=>{u.value=r,$.value=!0},E=()=>{$.value=!1,u.value=null},K=async r=>{if(confirm(`Confirmer la commande ${r.order_number} ?`))try{await N(r),g.success("Commande confirmée avec succès !"),E(),await A()}catch{g.error("Erreur lors de la confirmation")}},re=async r=>{if(confirm(`Annuler la commande ${r.order_number} ? Cette action est irréversible.`))try{await R(r),g.success("Commande annulée"),E(),await A()}catch{g.error("Erreur lors de l'annulation")}},oe=async r=>{if(confirm(`Marquer la commande ${r.order_number} comme en cours de livraison ?`))try{await Ae(r.order_number,"shipping","Commande expédiée par le marchand"),g.success("Commande marquée en cours de livraison"),E(),await A()}catch{g.error("Erreur lors du changement de statut")}},ne=async()=>{l.value=!0;try{await Promise.all([x(),A(),P()]),g.success("Commandes actualisées")}catch{g.error("Erreur lors de l'actualisation")}finally{l.value=!1}},le=async()=>{try{await O("csv"),g.success("Export des commandes démarré")}catch{g.error("Erreur lors de l'export des commandes")}};ce(async()=>{try{await Promise.all([x(),w(),P()])}catch(r){console.error("Erreur lors du chargement initial:",r),g.error("Erreur lors du chargement des données")}});let Q=null;ue(()=>o.search,r=>{clearTimeout(Q),Q=setTimeout(()=>{k()},500)});const ie=r=>({ShoppingBagIcon:U,CurrencyDollarIcon:Se,ClockIcon:De,CheckIcon:Ce})[r]||U;return(r,t)=>(i(),c("div",Ie,[e("div",Fe,[t[7]||(t[7]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900"},"Mes Commandes"),e("p",{class:"mt-2 text-gray-600"},"Suivez et gérez toutes vos ventes de tickets de tombola")],-1)),e("div",Me,[e("button",{onClick:ne,disabled:l.value,class:"inline-flex items-center px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors disabled:opacity-50"},[b(p(me),{class:I(["w-4 h-4 mr-2",{"animate-spin":l.value}])},null,8,["class"]),h(" "+n(l.value?"Actualisation...":"Actualiser"),1)],8,Pe),e("button",{onClick:le,class:"inline-flex items-center px-4 py-2 bg-[#0099cc] hover:bg-[#0088bb] text-white rounded-lg transition-colors"},[b(p(pe),{class:"w-4 h-4 mr-2"}),t[6]||(t[6]=h(" Exporter ",-1))])])]),e("div",Te,[(i(!0),c(T,null,L(p(V),s=>(i(),c("div",{key:s.label,class:"bg-white p-6 rounded-xl shadow-lg border border-gray-100"},[e("div",Le,[e("div",null,[e("p",je,n(s.label),1),e("p",Ve,n(s.value),1)]),e("div",{class:I(["p-3 rounded-xl",s.color])},[(i(),G(J(ie(s.icon)),{class:"w-6 h-6 text-white"}))],2)]),e("div",Ne,[e("div",Re,[e("span",{class:I(["inline-flex items-center px-2 py-1 rounded-full font-medium",s.change>=0?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"])},[(i(),G(J(s.change>=0?p(ve):p(be)),{class:"w-3 h-3 mr-1"})),h(" "+n(Math.abs(s.change))+"% ",1)],2),t[8]||(t[8]=e("span",{class:"ml-2 text-gray-500"},"vs semaine dernière",-1))])])]))),128))]),e("div",Be,[e("div",qe,[e("div",null,[t[9]||(t[9]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Rechercher",-1)),e("div",Ue,[b(p(xe),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),F(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>o.search=s),type:"text",placeholder:"ID, client, produit...",class:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#0099cc] focus:border-transparent text-black",onInput:k},null,544),[[q,o.search]])])]),e("div",null,[t[11]||(t[11]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Statut",-1)),F(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>o.status=s),onChange:k,class:"w-full py-2 px-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#0099cc] focus:border-transparent text-black"},t[10]||(t[10]=[ge('<option value="">Tous les statuts</option><option value="pending">En attente</option><option value="awaiting_payment">En attente de paiement</option><option value="paid">Payé</option><option value="shipping">En cours de livraison</option><option value="fulfilled">Livré</option><option value="cancelled">Annulé</option>',7)]),544),[[X,o.status]])]),e("div",null,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Produit",-1)),F(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>o.product=s),onChange:k,class:"w-full py-2 px-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#0099cc] focus:border-transparent text-black"},[t[12]||(t[12]=e("option",{value:""},"Tous les produits",-1)),(i(!0),c(T,null,L(p(M),s=>(i(),c("option",{key:s.id,value:s.id},n(s.name),9,ze))),128))],544),[[X,o.product]])]),e("div",null,[t[14]||(t[14]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Date début",-1)),F(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>o.startDate=s),type:"date",onChange:k,class:"w-full py-2 px-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#0099cc] focus:border-transparent text-black"},null,544),[[q,o.startDate]])]),e("div",null,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Date fin",-1)),F(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>o.endDate=s),type:"date",onChange:k,class:"w-full py-2 px-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#0099cc] focus:border-transparent text-black"},null,544),[[q,o.endDate]])])])]),e("div",We,[t[24]||(t[24]=e("div",{class:"px-6 py-4 border-b border-gray-200 bg-gray-50"},[e("h3",{class:"text-lg font-semibold text-gray-900"},"Commandes récentes")],-1)),p(f)?(i(),c("div",He,t[16]||(t[16]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#0099cc]"},null,-1)]))):m.value.length===0?(i(),c("div",Ke,[b(p(U),{class:"w-16 h-16 text-gray-400 mx-auto mb-4"}),t[17]||(t[17]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"Aucune commande",-1)),t[18]||(t[18]=e("p",{class:"text-gray-600"},"Aucune commande ne correspond à vos critères.",-1))])):(i(),c("div",Qe,[e("table",Xe,[t[19]||(t[19]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Commande "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Client "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Produit "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Tickets "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Montant "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Statut "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Date "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",Ge,[(i(!0),c(T,null,L(d.value,s=>(i(),c("tr",{key:s.id,class:"hover:bg-gray-50 transition-colors"},[e("td",Je,[e("div",null,[e("div",Ye,"#"+n(s.order_number),1),e("div",Ze,n(s.payment_method),1)])]),e("td",et,[e("div",tt,[e("div",st,[b(p(fe),{class:"w-5 h-5 text-gray-600"})]),e("div",at,[e("div",rt,n(s.customer_name),1),e("div",ot,n(s.customer_email),1)])])]),e("td",nt,[e("div",lt,[e("img",{class:"h-12 w-12 rounded-lg object-cover",src:s.product_image,alt:s.product_name},null,8,it),e("div",dt,[e("div",ct,n(s.product_name),1),e("div",ut,n(s.ticket_price.toLocaleString())+" FCFA/ticket",1)])])]),e("td",mt,[e("div",pt,n(s.tickets_count)+" tickets",1),e("div",xt,"N° "+n(s.ticket_numbers.join(", ")),1)]),e("td",gt,[e("div",yt,n(s.total_amount.toLocaleString())+" FCFA",1),e("div",vt,n(s.currency),1)]),e("td",bt,[e("span",{class:I(z(s.status))},n(W(s.status)),3)]),e("td",ft,[e("div",ht,n(H(s.created_at)),1),e("div",_t,n(se(s.created_at)),1)]),e("td",wt,[e("div",kt,[e("button",{onClick:B=>ae(s),class:"text-[#0099cc] hover:text-[#0088bb] transition-colors",title:"Voir détails"},[b(p(he),{class:"w-4 h-4"})],8,Ct),s.status==="paid"?(i(),c("button",{key:0,onClick:B=>oe(s),class:"text-blue-600 hover:text-blue-800 transition-colors",title:"Marquer en cours de livraison"},[b(p(_e),{class:"w-4 h-4"})],8,Dt)):C("",!0),s.status==="pending"?(i(),c("button",{key:1,onClick:B=>K(s),class:"text-blue-600 hover:text-blue-800 transition-colors",title:"Confirmer"},[b(p(we),{class:"w-4 h-4"})],8,St)):C("",!0),["pending","confirmed"].includes(s.status)?(i(),c("button",{key:2,onClick:B=>re(s),class:"text-red-600 hover:text-red-800 transition-colors",title:"Annuler"},[b(p(ke),{class:"w-4 h-4"})],8,Ot)):C("",!0)])])]))),128))])])])),e("div",$t,[e("div",At,[t[20]||(t[20]=h(" Affichage de ",-1)),e("span",Et,n(Y.value),1),t[21]||(t[21]=h(" à ",-1)),e("span",It,n(Z.value),1),t[22]||(t[22]=h(" sur ",-1)),e("span",Ft,n(m.value.length),1),t[23]||(t[23]=h(" résultats ",-1))]),e("div",Mt,[e("button",{onClick:ee,disabled:y.value===1,class:"px-3 py-1 bg-gray-100 text-gray-600 rounded-md hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed"}," Précédent ",8,Pt),e("button",{onClick:te,disabled:y.value===v.value,class:"px-3 py-1 bg-gray-100 text-gray-600 rounded-md hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed"}," Suivant ",8,Tt)])])]),$.value?(i(),c("div",Lt,[e("div",jt,[e("div",Vt,[t[25]||(t[25]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Détails de la commande",-1)),e("button",{onClick:E,class:"text-gray-400 hover:text-gray-600"},[b(p(ye),{class:"w-6 h-6"})])]),u.value?(i(),c("div",Nt,[e("div",Rt,[e("div",null,[t[26]||(t[26]=e("label",{class:"block text-sm font-medium text-gray-700"},"N° de commande",-1)),e("p",Bt,n(u.value.order_number),1)]),e("div",null,[t[27]||(t[27]=e("label",{class:"block text-sm font-medium text-gray-700"},"Date",-1)),e("p",qt,n(H(u.value.created_at)),1)]),e("div",null,[t[28]||(t[28]=e("label",{class:"block text-sm font-medium text-gray-700"},"Statut",-1)),e("span",{class:I(z(u.value.status))},n(W(u.value.status)),3)]),e("div",null,[t[29]||(t[29]=e("label",{class:"block text-sm font-medium text-gray-700"},"Montant",-1)),e("p",Ut,n(u.value.total_amount.toLocaleString())+" FCFA",1)])]),e("div",null,[t[32]||(t[32]=e("h4",{class:"text-md font-semibold text-gray-900 mb-3"},"Informations client",-1)),e("div",zt,[e("div",Wt,[e("div",null,[t[30]||(t[30]=e("label",{class:"block text-sm font-medium text-gray-700"},"Nom",-1)),e("p",Ht,n(u.value.customer_name),1)]),e("div",null,[t[31]||(t[31]=e("label",{class:"block text-sm font-medium text-gray-700"},"Email",-1)),e("p",Kt,n(u.value.customer_email),1)])])])]),e("div",null,[t[33]||(t[33]=e("h4",{class:"text-md font-semibold text-gray-900 mb-3"},"Tickets achetés",-1)),e("div",Qt,[e("p",Xt,[e("strong",null,n(u.value.tickets_count)+" tickets",1),h(" pour "+n(u.value.product_name),1)]),e("div",Gt,[(i(!0),c(T,null,L(u.value.ticket_numbers,s=>(i(),c("span",{key:s,class:"inline-block bg-[#0099cc] text-white px-2 py-1 rounded text-xs font-mono"}," #"+n(s),1))),128))])])])])):C("",!0),e("div",Jt,[e("button",{onClick:E,class:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300"}," Fermer "),u.value?.status==="pending"?(i(),c("button",{key:0,onClick:t[5]||(t[5]=s=>K(u.value)),class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700"}," Confirmer la commande ")):C("",!0)])])])):C("",!0)]))}};export{es as default};
