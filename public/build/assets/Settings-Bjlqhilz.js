import{r as h,x as c,g as S,b as p,e,F as V,n as j,j as m,y as b,z as a,A as l,C as y,o as i,p as C,s as U,l as E,v as M,t as N}from"./vendor-CznQeBe4.js";import{u as P,a as A,h as z,M as B,r as D}from"./app-DXWspgtZ.js";const F={class:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8"},I={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},T={class:"lg:col-span-1"},$={class:"space-y-2"},L=["onClick"],R={class:"flex items-center"},q={class:"lg:col-span-2"},G={class:"bg-white rounded-xl shadow-sm border border-gray-200"},H={key:0,class:"p-6"},J={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},K={key:1,class:"p-6"},O={class:"space-y-6"},Q={class:"bg-gray-50 rounded-lg p-4"},W={key:2,class:"p-6"},X={class:"space-y-6"},Y={class:"flex items-center justify-between"},Z={class:"relative inline-flex items-center cursor-pointer"},ee={class:"flex items-center justify-between"},re={class:"relative inline-flex items-center cursor-pointer"},ae={__name:"Settings",setup(se){const g=P(),{put:f}=A(),d=h("account"),x=[{id:"account",name:"Compte",icon:z},{id:"security",name:"Sécurité",icon:B},{id:"preferences",name:"Préférences",icon:D}],t=c({first_name:"",last_name:"",email:"",phone:""}),o=c({current_password:"",new_password:"",confirm_password:""}),u=c({email_notifications:!0,push_notifications:!1}),v=()=>{const n=g.user;n&&(t.first_name=n.first_name||"",t.last_name=n.last_name||"",t.email=n.email||"",t.phone=n.phone||"")},w=async()=>{try{await f("/user/profile",t),await g.refreshUser(),alert("Informations mises à jour avec succès")}catch(n){console.error("Erreur lors de la mise à jour:",n),alert("Erreur lors de la mise à jour")}},k=async()=>{if(o.new_password!==o.confirm_password){alert("Les mots de passe ne correspondent pas");return}try{await f("/user/password",{current_password:o.current_password,new_password:o.new_password}),o.current_password="",o.new_password="",o.confirm_password="",alert("Mot de passe mis à jour avec succès")}catch(n){console.error("Erreur lors du changement de mot de passe:",n),alert("Erreur lors du changement de mot de passe")}},_=async()=>{try{await f("/user/preferences",u),alert("Préférences sauvegardées avec succès")}catch(n){console.error("Erreur lors de la sauvegarde:",n),alert("Erreur lors de la sauvegarde des préférences")}};return S(()=>{v()}),(n,r)=>(i(),p("div",F,[r[27]||(r[27]=e("div",{class:"mb-8"},[e("h1",{class:"text-3xl font-bold text-gray-900"},"Paramètres"),e("p",{class:"mt-2 text-gray-600"},"Gérez les paramètres de votre compte marchand")],-1)),e("div",I,[e("div",T,[e("nav",$,[(i(),p(V,null,j(x,s=>e("button",{key:s.id,onClick:te=>d.value=s.id,class:C(["w-full text-left px-4 py-3 rounded-lg text-sm font-medium transition-colors",d.value===s.id?"bg-green-100 text-green-800 border border-green-200":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"])},[e("div",R,[(i(),U(M(s.icon),{class:"w-5 h-5 mr-3"})),E(" "+N(s.name),1)])],10,L)),64))])]),e("div",q,[e("div",G,[d.value==="account"?(i(),p("div",H,[r[14]||(r[14]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-6"},"Informations du compte",-1)),e("form",{onSubmit:b(w,["prevent"]),class:"space-y-6"},[e("div",J,[e("div",null,[r[9]||(r[9]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Prénom",-1)),a(e("input",{"onUpdate:modelValue":r[0]||(r[0]=s=>t.first_name=s),type:"text",class:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-transparent"},null,512),[[l,t.first_name]])]),e("div",null,[r[10]||(r[10]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Nom",-1)),a(e("input",{"onUpdate:modelValue":r[1]||(r[1]=s=>t.last_name=s),type:"text",class:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-transparent"},null,512),[[l,t.last_name]])])]),e("div",null,[r[11]||(r[11]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Email",-1)),a(e("input",{"onUpdate:modelValue":r[2]||(r[2]=s=>t.email=s),type:"email",class:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-transparent"},null,512),[[l,t.email]])]),e("div",null,[r[12]||(r[12]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Téléphone",-1)),a(e("input",{"onUpdate:modelValue":r[3]||(r[3]=s=>t.phone=s),type:"tel",class:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-transparent"},null,512),[[l,t.phone]])]),r[13]||(r[13]=e("div",{class:"flex justify-end"},[e("button",{type:"submit",class:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition-colors"}," Sauvegarder ")],-1))],32)])):m("",!0),d.value==="security"?(i(),p("div",K,[r[21]||(r[21]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-6"},"Sécurité",-1)),e("div",O,[e("div",Q,[r[19]||(r[19]=e("h4",{class:"font-medium text-gray-900 mb-2"},"Changer le mot de passe",-1)),r[20]||(r[20]=e("p",{class:"text-sm text-gray-600 mb-4"},"Assurez-vous d'utiliser un mot de passe fort et unique.",-1)),e("form",{onSubmit:b(k,["prevent"]),class:"space-y-4"},[e("div",null,[r[15]||(r[15]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Mot de passe actuel",-1)),a(e("input",{"onUpdate:modelValue":r[4]||(r[4]=s=>o.current_password=s),type:"password",class:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-transparent"},null,512),[[l,o.current_password]])]),e("div",null,[r[16]||(r[16]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Nouveau mot de passe",-1)),a(e("input",{"onUpdate:modelValue":r[5]||(r[5]=s=>o.new_password=s),type:"password",class:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-transparent"},null,512),[[l,o.new_password]])]),e("div",null,[r[17]||(r[17]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Confirmer le nouveau mot de passe",-1)),a(e("input",{"onUpdate:modelValue":r[6]||(r[6]=s=>o.confirm_password=s),type:"password",class:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-transparent"},null,512),[[l,o.confirm_password]])]),r[18]||(r[18]=e("div",{class:"flex justify-end"},[e("button",{type:"submit",class:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"}," Mettre à jour le mot de passe ")],-1))],32)])])])):m("",!0),d.value==="preferences"?(i(),p("div",W,[r[26]||(r[26]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-6"},"Préférences",-1)),e("div",X,[e("div",Y,[r[23]||(r[23]=e("div",null,[e("h4",{class:"font-medium text-gray-900"},"Notifications par email"),e("p",{class:"text-sm text-gray-600"},"Recevoir des notifications pour les nouvelles commandes")],-1)),e("label",Z,[a(e("input",{"onUpdate:modelValue":r[7]||(r[7]=s=>u.email_notifications=s),type:"checkbox",class:"sr-only peer"},null,512),[[y,u.email_notifications]]),r[22]||(r[22]=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-green-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"},null,-1))])]),e("div",ee,[r[25]||(r[25]=e("div",null,[e("h4",{class:"font-medium text-gray-900"},"Notifications push"),e("p",{class:"text-sm text-gray-600"},"Recevoir des notifications en temps réel")],-1)),e("label",re,[a(e("input",{"onUpdate:modelValue":r[8]||(r[8]=s=>u.push_notifications=s),type:"checkbox",class:"sr-only peer"},null,512),[[y,u.push_notifications]]),r[24]||(r[24]=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-green-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"},null,-1))])])]),e("div",{class:"mt-8 flex justify-end"},[e("button",{onClick:_,class:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition-colors"}," Sauvegarder les préférences ")])])):m("",!0)])])])]))}};export{ae as default};
