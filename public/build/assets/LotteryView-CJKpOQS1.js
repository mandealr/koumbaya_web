import{b as c,l as p,o as d,e as t,O as tt,x as et,U as R,V,r as j,K as st,c as g,j as ot,z,g as l,w as S,h as at,t as o,v as nt,i as _,u as r,a7 as lt,G as E,aR as it,D as rt,I as dt,A as ut,ak as ct,a6 as N,at as mt,s as pt,an as vt,aF as xt,b3 as gt,F as _t,y as bt,aw as yt}from"./vendor-jx2CZFIM.js";import{a as ft}from"./app-ryj4nBgB.js";const wt={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},ht={__name:"LotteryDrawModal",props:{show:{type:Boolean,default:!1},lottery:{type:Object,default:()=>({})}},emits:["close","confirm"],setup(f,{emit:w}){const $=f,s=w,m=()=>{s("close")},v=()=>{s("confirm",$.lottery)};return(b,y)=>f.show?(d(),c("div",wt,[t("div",{class:"flex items-center justify-center min-h-screen px-4 text-center sm:block sm:p-0"},[t("div",{class:"fixed inset-0 bg-gray-600 bg-opacity-40 transition-opacity",onClick:m}),t("div",{class:"koumbaya-card inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle bg-white shadow-xl transform transition-all"},[y[0]||(y[0]=t("div",{class:"koumbaya-card-header"},[t("h3",{class:"koumbaya-heading-4"},"Lancer le tirage")],-1)),y[1]||(y[1]=t("div",{class:"koumbaya-card-body"},[t("p",{class:"koumbaya-text-body"}," Êtes-vous sûr de vouloir lancer le tirage pour cette tombola ? Cette action est irréversible. ")],-1)),t("div",{class:"koumbaya-card-footer"},[t("div",{class:"flex gap-4"},[t("button",{onClick:m,class:"koumbaya-btn koumbaya-btn-outline flex-1"}," Annuler "),t("button",{onClick:v,class:"koumbaya-btn koumbaya-btn-primary flex-1"}," Confirmer ")])])])])])):p("",!0)}},kt={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},$t={class:"flex items-center justify-center min-h-screen px-4 text-center"},Dt={class:"koumbaya-card inline-block w-full max-w-md my-8 overflow-hidden text-left align-middle bg-white shadow-xl transform transition-all"},jt={class:"koumbaya-form-group"},Ct={class:"koumbaya-form-group"},Mt={__name:"LotteryExtendModal",props:{show:{type:Boolean,default:!1},lottery:{type:Object,default:()=>({})}},emits:["close","submit"],setup(f,{emit:w}){const $=f,s=w,m=tt({newDrawDate:"",reason:""}),v=()=>{s("close")},b=()=>{s("submit",{lotteryId:$.lottery.id,...m})};return(y,i)=>f.show?(d(),c("div",kt,[t("div",$t,[t("div",{class:"fixed inset-0 bg-gray-600 bg-opacity-40 transition-opacity",onClick:v}),t("div",Dt,[i[5]||(i[5]=t("div",{class:"koumbaya-card-header"},[t("h3",{class:"koumbaya-heading-4"},"Prolonger la tombola")],-1)),t("form",{onSubmit:et(b,["prevent"]),class:"koumbaya-card-body space-y-4"},[t("div",jt,[i[2]||(i[2]=t("label",{class:"koumbaya-label"},"Nouvelle date de tirage",-1)),R(t("input",{"onUpdate:modelValue":i[0]||(i[0]=D=>m.newDrawDate=D),type:"datetime-local",required:"",class:"koumbaya-input"},null,512),[[V,m.newDrawDate]])]),t("div",Ct,[i[3]||(i[3]=t("label",{class:"koumbaya-label"},"Raison de la prolongation",-1)),R(t("textarea",{"onUpdate:modelValue":i[1]||(i[1]=D=>m.reason=D),rows:"3",class:"koumbaya-input",placeholder:"Expliquez pourquoi vous prolongez cette tombola...",required:""},null,512),[[V,m.reason]])]),t("div",{class:"koumbaya-card-footer"},[t("div",{class:"flex gap-4"},[t("button",{type:"button",onClick:v,class:"koumbaya-btn koumbaya-btn-outline flex-1"}," Annuler "),i[4]||(i[4]=t("button",{type:"submit",class:"koumbaya-btn koumbaya-btn-primary flex-1"}," Prolonger ",-1))])])],32)])])])):p("",!0)}},Tt={class:"space-y-6"},Pt={class:"flex justify-between items-start"},Et={class:"flex items-center space-x-3 mb-2"},Ft={class:"text-3xl font-bold text-gray-900"},At={class:"flex space-x-3"},Lt={class:"grid grid-cols-1 md:grid-cols-4 gap-6"},Rt={class:"bg-white p-6 rounded-xl shadow-sm border"},Vt={class:"flex items-center"},zt={class:"p-3 bg-blue-100 rounded-lg"},St={class:"ml-4"},Nt={class:"text-2xl font-bold text-gray-900"},qt={class:"bg-white p-6 rounded-xl shadow-sm border"},Ot={class:"flex items-center"},Bt={class:"p-3 bg-blue-100 rounded-lg"},It={class:"ml-4"},Ut={class:"text-2xl font-bold text-gray-900"},Gt={class:"bg-white p-6 rounded-xl shadow-sm border"},Jt={class:"flex items-center"},Kt={class:"p-3 bg-purple-100 rounded-lg"},Ht={class:"ml-4"},Qt={class:"text-2xl font-bold text-gray-900"},Wt={class:"bg-white p-6 rounded-xl shadow-sm border"},Xt={class:"flex items-center"},Yt={class:"p-3 bg-yellow-100 rounded-lg"},Zt={class:"ml-4"},te={class:"text-2xl font-bold text-gray-900"},ee={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},se={class:"lg:col-span-2 space-y-6"},oe={class:"bg-white rounded-xl shadow-sm border overflow-hidden"},ae={class:"p-6"},ne={class:"flex space-x-6"},le={class:"flex-shrink-0"},ie=["src","alt"],re={class:"flex-1"},de={class:"text-xl font-semibold text-gray-900 mb-2"},ue={class:"text-gray-600 mb-4"},ce={class:"grid grid-cols-2 gap-4"},me={class:"text-lg font-semibold text-gray-900"},pe={class:"text-lg font-semibold text-gray-900"},ve={class:"text-lg font-semibold text-gray-900"},xe={class:"text-lg font-semibold text-gray-900"},ge={class:"bg-white rounded-xl shadow-sm border"},_e={class:"p-6"},be={class:"space-y-4"},ye={class:"flex justify-between items-center mb-2"},fe={class:"text-sm text-gray-500"},we={class:"w-full bg-gray-200 rounded-full h-2"},he={class:"flex justify-between items-center mb-2"},ke={class:"text-sm text-gray-500"},$e={class:"text-xs text-gray-600"},De={key:0},je={class:"flex justify-between items-center mb-2"},Ce={class:"text-sm text-gray-500"},Me={class:"w-full bg-gray-200 rounded-full h-2"},Te={class:"mt-6 grid grid-cols-3 gap-4 text-center"},Pe={class:"p-4 bg-blue-50 rounded-lg"},Ee={class:"text-2xl font-bold text-blue-600"},Fe={class:"p-4 bg-blue-50 rounded-lg"},Ae={class:"text-2xl font-bold text-blue-600"},Le={class:"p-4 bg-yellow-50 rounded-lg"},Re={class:"text-2xl font-bold text-yellow-600"},Ve={key:0,class:"bg-green-50 border border-green-200 rounded-xl p-4"},ze={class:"flex items-center space-x-3"},Se={class:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center"},Ne={class:"text-sm text-green-600"},qe={key:1,class:"bg-white rounded-xl shadow-sm border"},Oe={class:"px-6 py-4 border-b border-gray-200"},Be={class:"text-lg font-semibold text-gray-900 flex items-center"},Ie={class:"p-6"},Ue={class:"flex items-center space-x-4"},Ge={class:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center"},Je={class:"font-semibold text-gray-900"},Ke={class:"text-sm text-gray-600"},He={class:"space-y-6"},Qe={class:"bg-white rounded-xl shadow-sm border"},We={class:"p-6 space-y-3"},Xe={class:"bg-white rounded-xl shadow-sm border"},Ye={class:"px-6 py-4 border-b border-gray-200"},Ze={class:"flex justify-between items-center"},ts={class:"p-6"},es={class:"space-y-3"},ss={class:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center"},os={class:"text-sm font-medium text-gray-600"},as={class:"flex-1 min-w-0"},ns={class:"text-sm font-medium text-gray-900 truncate"},ls={class:"text-xs text-gray-500"},is={class:"text-sm text-gray-500"},rs={class:"bg-white rounded-xl shadow-sm border"},ds={class:"p-6"},us={class:"space-y-4"},cs={class:"flex justify-between"},ms={class:"text-sm font-medium text-gray-900"},ps={class:"flex justify-between"},vs={class:"text-sm font-medium text-gray-900"},xs={class:"flex justify-between"},gs={class:"text-sm font-medium text-gray-900"},_s={class:"flex justify-between"},bs={class:"text-sm font-medium text-blue-600"},ws={__name:"LotteryView",setup(f){const w=st(),{get:$}=ft(),s=j({id:w.params.id,title:"",description:"",status:"",product_value:0,ticket_price:0,category:"",participants_count:0,tickets_sold:0,total_revenue:0,max_participants:0,revenue_target:0,end_date:"",created_at:"",views_count:0,product_image:"",winner:null,draw_date:null,product:null,lottery_number:"",max_tickets:0,sold_tickets:0,progress_percentage:0}),m=j([]),v=j(!1),b=j(!1),y=j(!1),i=g(()=>s.value.max_tickets?Math.min(s.value.sold_tickets/s.value.max_tickets*100,100):0),D=g(()=>s.value.revenue_target?Math.min(s.value.total_revenue/s.value.revenue_target*100,100):0),F=g(()=>!s.value.views_count||s.value.views_count===0?0:(s.value.participants_count/s.value.views_count*100).toFixed(1)),q=g(()=>s.value.participants_count===0?0:s.value.total_revenue/s.value.participants_count),O=g(()=>{const a=s.value.product_value;return((s.value.total_revenue-a)/a*100).toFixed(1)}),B=g(()=>{const a=new Date,u=new Date(s.value.end_date)-a;if(u<=0)return"Terminée";const n=Math.floor(u/(1e3*60*60*24)),M=Math.floor(u%(1e3*60*60*24)/(1e3*60*60));return n>0?`${n}j ${M}h`:`${M}h`}),A=g(()=>{const a=new Date,u=new Date(s.value.end_date)-a;return u<=0?0:Math.ceil(u/(1e3*60*60*24))}),I=g(()=>s.value.status==="active"&&!s.value.winning_ticket_number&&(s.value.sold_tickets>=s.value.max_tickets||s.value.draw_date&&new Date(s.value.draw_date)<=new Date)),L=g(()=>{const a=s.value.sold_tickets>=s.value.max_tickets,e=s.value.draw_date&&new Date(s.value.draw_date)>new Date;return s.value.status==="active"&&!s.value.winning_ticket_number&&a&&e}),U=a=>({active:"Active",completed:"Terminée",pending:"En attente",paused:"En pause",cancelled:"Annulée"})[a]||a,h=a=>new Intl.NumberFormat("fr-FR",{minimumFractionDigits:0,maximumFractionDigits:0}).format(a||0)+" FCFA",C=a=>new Intl.DateTimeFormat("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(a)),G=()=>{const a=`${window.location.origin}/lottery/${s.value.id}`;navigator.clipboard.writeText(a),window.$toast&&window.$toast.success("Lien de partage copié dans le presse-papiers!","✅ Partage")},J=()=>{window.$toast&&window.$toast.info("Fonctionnalité de téléchargement en cours de développement","🚀 En développement")},K=()=>{window.$toast&&window.$toast.info("Mise en pause de la tombola...","⏸️ Pause")},H=()=>{const a=A.value,e=`Tous les tickets sont vendus ! Voulez-vous effectuer le tirage maintenant ?

⏰ Date prévue : ${C(s.value.draw_date)}
📅 Tirage anticipé de ${a} jour${a>1?"s":""}

Cette action est irréversible.`;confirm(e)&&(v.value=!0)},Q=()=>{v.value=!1,P()},W=()=>{b.value=!1,P()},P=async()=>{try{const a=await $(`/lotteries/${w.params.id}`);if(a?.lottery){const e=a.lottery;console.log("LotteryData:",e),console.log("Available keys:",Object.keys(e));const u=new Set,n=e.paid_tickets||e.paidTickets||e.tickets||[];console.log("PaidTickets:",n),console.log("PaidTickets length:",n.length),n.forEach(x=>{x.user?.id&&u.add(x.user.id)});const M=u.size,X=(e.sold_tickets||0)*(e.ticket_price||0),T=new Map;n.forEach(x=>{if(x.user?.id){const k=x.user.id,Z=`${x.user.first_name||""} ${x.user.last_name||""}`.trim();T.has(k)?T.get(k).tickets_count++:T.set(k,{id:k,name:Z||"Utilisateur anonyme",participated_at:x.created_at||new Date().toISOString(),tickets_count:1})}});const Y=Array.from(T.values()).sort((x,k)=>new Date(k.participated_at)-new Date(x.participated_at)).slice(0,5);s.value={...s.value,id:e.id,title:e.title,description:e.description||"",status:e.status,lottery_number:e.lottery_number,ticket_price:e.ticket_price||0,max_tickets:e.max_tickets||0,sold_tickets:e.sold_tickets||0,progress_percentage:e.progress_percentage||0,draw_date:e.draw_date,created_at:e.created_at,tickets_sold:e.sold_tickets||0,participants_count:M,total_revenue:X,max_participants:e.max_tickets||0,end_date:e.draw_date,revenue_target:e.revenue_target||null,views_count:e.views_count||0,product:e.product,product_value:e.product?.price||0,category:e.product?.category?.name||"",product_image:e.product?.image_url||e.product?.image||"",winner:e.winner||null,winning_ticket_number:e.winning_ticket_number||null},m.value=Y}}catch(a){console.error("Erreur lors du chargement de la tombola:",a),window.$toast&&window.$toast.error("Erreur lors du chargement des données de la tombola")}};return ot(()=>{P()}),(a,e)=>{const u=at("router-link");return d(),c("div",Tt,[t("div",Pt,[t("div",null,[t("div",Et,[l(u,{to:"/merchant/lotteries",class:"text-gray-500 hover:text-gray-700"},{default:S(()=>[l(r(yt),{class:"w-5 h-5"})]),_:1}),t("h1",Ft,o(s.value.title),1),t("span",{class:nt(["px-3 py-1 rounded-full text-sm font-medium",s.value.status==="active"||s.value.status==="completed"?"bg-blue-100 text-blue-800":s.value.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"])},o(U(s.value.status)),3)]),e[5]||(e[5]=t("p",{class:"text-gray-600"},"Gérez votre tombola et suivez les participations",-1))]),t("div",At,[s.value.status==="active"?(d(),c("button",{key:0,onClick:e[0]||(e[0]=n=>b.value=!0),class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center whitespace-nowrap"},[l(r(lt),{class:"w-4 h-4 mr-2 flex-shrink-0"}),e[6]||(e[6]=_(" Prolonger ",-1))])):p("",!0),s.value.status==="active"&&I.value?(d(),c("button",{key:1,onClick:e[1]||(e[1]=n=>v.value=!0),class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center whitespace-nowrap"},[l(r(E),{class:"w-4 h-4 mr-2 flex-shrink-0"}),e[7]||(e[7]=_(" Effectuer le tirage ",-1))])):p("",!0),t("button",{onClick:e[2]||(e[2]=n=>y.value=!0),class:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 flex items-center whitespace-nowrap"},[l(r(it),{class:"w-4 h-4 mr-2 flex-shrink-0"}),e[8]||(e[8]=_(" Modifier ",-1))])])]),t("div",Lt,[t("div",Rt,[t("div",Vt,[t("div",zt,[l(r(rt),{class:"w-6 h-6 text-blue-600"})]),t("div",St,[e[9]||(e[9]=t("p",{class:"text-sm font-medium text-gray-600"},"Participants",-1)),t("p",Nt,o(s.value.participants_count),1)])])]),t("div",qt,[t("div",Ot,[t("div",Bt,[l(r(dt),{class:"w-6 h-6 text-blue-600"})]),t("div",It,[e[10]||(e[10]=t("p",{class:"text-sm font-medium text-gray-600"},"Revenus générés",-1)),t("p",Ut,o(h(s.value.total_revenue)),1)])])]),t("div",Gt,[t("div",Jt,[t("div",Kt,[l(r(ut),{class:"w-6 h-6 text-purple-600"})]),t("div",Ht,[e[11]||(e[11]=t("p",{class:"text-sm font-medium text-gray-600"},"Tickets vendus",-1)),t("p",Qt,o(s.value.tickets_sold),1)])])]),t("div",Wt,[t("div",Xt,[t("div",Yt,[l(r(ct),{class:"w-6 h-6 text-yellow-600"})]),t("div",Zt,[e[12]||(e[12]=t("p",{class:"text-sm font-medium text-gray-600"},"Temps restant",-1)),t("p",te,o(B.value),1)])])])]),t("div",ee,[t("div",se,[t("div",oe,[e[17]||(e[17]=t("div",{class:"px-6 py-4 border-b border-gray-200"},[t("h3",{class:"text-lg font-semibold text-gray-900"},"Informations du produit")],-1)),t("div",ae,[t("div",ne,[t("div",le,[t("img",{src:s.value.product_image||"/images/products/placeholder.jpg",alt:s.value.title,class:"w-32 h-32 object-cover rounded-lg"},null,8,ie)]),t("div",re,[t("h4",de,o(s.value.title),1),t("p",ue,o(s.value.description),1),t("div",ce,[t("div",null,[e[13]||(e[13]=t("p",{class:"text-sm font-medium text-gray-500"},"Valeur du produit",-1)),t("p",me,o(h(s.value.product_value)),1)]),t("div",null,[e[14]||(e[14]=t("p",{class:"text-sm font-medium text-gray-500"},"Prix du ticket",-1)),t("p",pe,o(h(s.value.ticket_price)),1)]),t("div",null,[e[15]||(e[15]=t("p",{class:"text-sm font-medium text-gray-500"},"Catégorie",-1)),t("p",ve,o(s.value.category?.name||s.value.category||"Sans catégorie"),1)]),t("div",null,[e[16]||(e[16]=t("p",{class:"text-sm font-medium text-gray-500"},"Date de fin",-1)),t("p",xe,o(C(s.value.end_date)),1)])])])])])]),t("div",ge,[e[24]||(e[24]=t("div",{class:"px-6 py-4 border-b border-gray-200"},[t("h3",{class:"text-lg font-semibold text-gray-900"},"Progression")],-1)),t("div",_e,[t("div",be,[t("div",null,[t("div",ye,[e[18]||(e[18]=t("span",{class:"text-sm font-medium text-gray-700"},"Objectif de tickets",-1)),t("span",fe,o(s.value.sold_tickets)+" / "+o(s.value.max_tickets),1)]),t("div",we,[t("div",{class:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:N({width:i.value+"%"})},null,4)])]),t("div",null,[t("div",he,[e[19]||(e[19]=t("span",{class:"text-sm font-medium text-gray-700"},"Participants uniques",-1)),t("span",ke,o(s.value.participants_count)+" personnes",1)]),t("div",$e," Moyenne: "+o(s.value.participants_count>0?(s.value.sold_tickets/s.value.participants_count).toFixed(1):0)+" tickets/personne ",1)]),s.value.revenue_target?(d(),c("div",De,[t("div",je,[e[20]||(e[20]=t("span",{class:"text-sm font-medium text-gray-700"},"Objectif de revenus",-1)),t("span",Ce,o(h(s.value.total_revenue))+" / "+o(h(s.value.revenue_target)),1)]),t("div",Me,[t("div",{class:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:N({width:D.value+"%"})},null,4)])])):p("",!0)]),t("div",Te,[t("div",Pe,[t("p",Ee,o(i.value)+"%",1),e[21]||(e[21]=t("p",{class:"text-sm text-blue-600"},"Tickets vendus",-1))]),t("div",Fe,[t("p",Ae,o(F.value)+"%",1),e[22]||(e[22]=t("p",{class:"text-sm text-blue-600"},"Conversion",-1))]),t("div",Le,[t("p",Re,o(A.value),1),e[23]||(e[23]=t("p",{class:"text-sm text-yellow-600"},"Jours restants",-1))])])])]),L.value?(d(),c("div",Ve,[t("div",ze,[t("div",Se,[l(r(E),{class:"w-5 h-5 text-green-600"})]),t("div",null,[e[25]||(e[25]=t("h4",{class:"text-md font-semibold text-green-800"},"Tirage possible !",-1)),t("p",Ne," Tous les tickets sont vendus ("+o(s.value.sold_tickets)+"/"+o(s.value.max_tickets)+'). Vous pouvez effectuer le tirage maintenant dans "Actions rapides". ',1)])])])):p("",!0),s.value.winner?(d(),c("div",qe,[t("div",Oe,[t("h3",Be,[l(r(mt),{class:"w-5 h-5 text-yellow-500 mr-2"}),e[26]||(e[26]=_(" Gagnant ",-1))])]),t("div",Ie,[t("div",Ue,[t("div",Ge,[l(r(pt),{class:"w-6 h-6 text-yellow-600"})]),t("div",null,[t("p",Je,o(s.value.winner.name),1),t("p",Ke,"Tirage effectué le "+o(C(s.value.draw_date)),1)])]),e[27]||(e[27]=t("div",{class:"mt-4 p-4 bg-yellow-50 rounded-lg"},[t("p",{class:"text-sm text-yellow-800"}," Félicitations ! Le gagnant a été contacté automatiquement par email. ")],-1))])])):p("",!0)]),t("div",He,[t("div",Qe,[e[32]||(e[32]=t("div",{class:"px-6 py-4 border-b border-gray-200"},[t("h3",{class:"text-lg font-semibold text-gray-900"},"Actions rapides")],-1)),t("div",We,[t("button",{onClick:G,class:"w-full flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700"},[l(r(vt),{class:"w-4 h-4 mr-2"}),e[28]||(e[28]=_(" Partager la tombola ",-1))]),t("button",{onClick:J,class:"w-full flex items-center justify-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700"},[l(r(xt),{class:"w-4 h-4 mr-2"}),e[29]||(e[29]=_(" Télécharger le rapport ",-1))]),L.value?(d(),c("button",{key:0,onClick:H,class:"w-full flex items-center justify-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700"},[l(r(E),{class:"w-4 h-4 mr-2"}),e[30]||(e[30]=_(" Effectuer le tirage maintenant ",-1))])):p("",!0),s.value.status==="active"?(d(),c("button",{key:1,onClick:K,class:"w-full flex items-center justify-center px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700"},[l(r(gt),{class:"w-4 h-4 mr-2"}),e[31]||(e[31]=_(" Mettre en pause ",-1))])):p("",!0)])]),t("div",Xe,[t("div",Ye,[t("div",Ze,[e[34]||(e[34]=t("h3",{class:"text-lg font-semibold text-gray-900"},"Participants récents",-1)),l(u,{to:`/merchant/lotteries/${s.value.id}/participants`,class:"text-sm text-blue-600 hover:text-blue-700"},{default:S(()=>e[33]||(e[33]=[_(" Voir tout ",-1)])),_:1,__:[33]},8,["to"])])]),t("div",ts,[t("div",es,[(d(!0),c(_t,null,bt(m.value,n=>(d(),c("div",{key:n.id,class:"flex items-center space-x-3"},[t("div",ss,[t("span",os,o(n.name.charAt(0)),1)]),t("div",as,[t("p",ns,o(n.name),1),t("p",ls,o(C(n.participated_at)),1)]),t("div",is,o(n.tickets_count)+" ticket"+o(n.tickets_count>1?"s":""),1)]))),128))])])]),t("div",rs,[e[39]||(e[39]=t("div",{class:"px-6 py-4 border-b border-gray-200"},[t("h3",{class:"text-lg font-semibold text-gray-900"},"Statistiques")],-1)),t("div",ds,[t("div",us,[t("div",cs,[e[35]||(e[35]=t("span",{class:"text-sm text-gray-600"},"Vues de la tombola",-1)),t("span",ms,o(s.value.views_count||"N/A"),1)]),t("div",ps,[e[36]||(e[36]=t("span",{class:"text-sm text-gray-600"},"Taux de conversion",-1)),t("span",vs,o(F.value)+"%",1)]),t("div",xs,[e[37]||(e[37]=t("span",{class:"text-sm text-gray-600"},"Panier moyen",-1)),t("span",gs,o(h(q.value)),1)]),t("div",_s,[e[38]||(e[38]=t("span",{class:"text-sm text-gray-600"},"Retour sur investissement",-1)),t("span",bs,"+"+o(O.value)+"%",1)])])])])])]),v.value?(d(),z(ht,{key:0,lottery:s.value,onClose:e[3]||(e[3]=n=>v.value=!1),onDrawn:Q},null,8,["lottery"])):p("",!0),b.value?(d(),z(Mt,{key:1,lottery:s.value,onClose:e[4]||(e[4]=n=>b.value=!1),onExtended:W},null,8,["lottery"])):p("",!0)])}}};export{ws as default};
