import{r as U,c as D,ao as J,aJ as Ie,ay as Ce,b8 as K,Y as W,Z as M,j as Ee,b as i,e as o,g as w,t as r,i as m,w as Ue,h as Ae,F as X,z as Y,x as y,A as Q,W as Z,n as Te,l as p,f as L,V as g,a1 as x,a7 as ee,u as _,ba as te,a6 as De,aI as oe,ah as Se,y as Pe,s as Fe,o as a}from"./vendor-HurWl8Tx.js";import{a as Ve,u as Me}from"./app-SOrfQP04.js";import{I as Le}from"./ImageUpload-BFoW6O9f.js";const Ne={class:"max-w-4xl mx-auto space-y-6"},Re={class:"flex items-center justify-between"},je={class:"mt-2 text-gray-600"},ze={class:"bg-white rounded-xl shadow-lg border border-gray-100 p-6"},Oe={class:"hidden md:flex items-center justify-between mb-8"},qe={class:"flex items-center"},Be={key:1},$e={class:"ml-3"},Ge={class:"text-xs text-gray-700"},He={class:"md:hidden"},Je={class:"flex items-center justify-center mb-4"},Ke={class:y(["flex items-center justify-center w-12 h-12 rounded-full border-2 font-medium text-sm transition-all","border-[#0099cc] bg-[#0099cc] text-white"])},We={class:"text-center"},Xe={class:"text-base font-medium text-[#0099cc]"},Ye={class:"text-sm text-gray-700"},Qe={class:"text-xs text-gray-500 mt-2"},Ze={class:"mt-4 w-full bg-gray-200 rounded-full h-2"},et={key:0,class:"bg-white rounded-xl shadow-lg border border-gray-100 p-6"},tt={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},ot={class:"lg:col-span-2"},st={key:0,class:"mt-1 text-sm text-red-600"},lt={key:1,class:"mt-1 text-sm text-orange-600"},at={class:"lg:col-span-2"},rt={key:0,class:"mt-1 text-sm text-red-600"},it={key:1,class:"mt-1 text-sm text-orange-600"},nt=["disabled"],dt={key:0,disabled:""},ct={key:1,disabled:""},ut=["value"],mt={class:"text-xs text-gray-500 mt-1"},pt={key:0,class:"mt-1 text-sm text-red-600"},gt={class:"lg:col-span-2"},vt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},_t={class:"flex items-center space-x-3"},ft={key:0,class:"w-2.5 h-2.5 bg-[#0099cc] rounded-full"},xt={class:"flex items-center space-x-3"},yt={key:0,class:"w-2.5 h-2.5 bg-purple-500 rounded-full"},bt={key:0,class:"mt-1 text-sm text-red-600"},kt={key:1,class:"mt-1 text-sm text-orange-600"},ht={key:2,class:"mt-2 bg-blue-50 border border-blue-200 rounded-lg p-2"},wt={key:1,class:"bg-white rounded-xl shadow-lg border border-gray-100 p-6"},It={class:"space-y-6"},Ct={class:"bg-blue-50 border border-blue-200 rounded-xl p-4"},Et={class:"flex items-start space-x-3"},Ut={key:2,class:"bg-white rounded-xl shadow-lg border border-gray-100 p-6"},At={key:0},Tt={class:"bg-blue-50 border border-blue-200 rounded-xl p-6 text-center"},Dt={class:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm"},St={class:"bg-white rounded-lg p-3"},Pt={class:"font-semibold text-[#0099cc]"},Ft={class:"bg-white rounded-lg p-3"},Vt={class:"font-semibold text-gray-800"},Mt={key:1},Lt={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},Nt={class:"block text-sm font-medium text-gray-700 mb-2"},Rt={key:0},jt={class:"relative"},zt=["min","max"],Ot={key:0,class:"mt-1 text-sm text-red-600"},qt={key:1,class:"text-sm text-gray-700 mt-1"},Bt={key:1},$t={class:"relative"},Gt=["value"],Ht={class:"mt-2 bg-yellow-50 border border-yellow-200 rounded-lg p-3"},Jt={class:"flex items-start"},Kt={class:"ml-3"},Wt={class:"text-sm text-yellow-800"},Xt={key:2},Yt=["min"],Qt={key:0,class:"mt-1 text-sm text-red-600"},Zt={key:1,class:"mt-1 text-sm text-orange-600"},eo=["max"],to={key:0,class:"mt-1 text-sm text-red-600"},oo={key:1,class:"mt-1 text-sm text-orange-600"},so={key:2,class:"text-sm text-gray-700 mt-1"},lo={class:"lg:col-span-2"},ao={class:"bg-gradient-to-br from-[#0099cc]/10 to-cyan-100 rounded-xl p-6"},ro={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},io={class:"text-center"},no={class:"text-2xl font-bold text-[#0099cc]"},co={class:"text-center"},uo={class:"text-2xl font-bold text-blue-600"},mo={class:"text-center"},po={class:"text-2xl font-bold text-purple-600"},go={key:3,class:"bg-white rounded-xl shadow-lg border border-gray-100 p-6"},vo={class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},_o={class:"space-y-3"},fo={class:"flex justify-between"},xo={class:"font-medium"},yo={class:"flex justify-between"},bo={class:"font-medium"},ko={class:"flex justify-between"},ho={class:"font-medium"},wo={class:"flex justify-between"},Io={class:"font-medium"},Co={class:"flex justify-between"},Eo={class:"font-medium"},Uo={class:"font-semibold text-gray-900 mb-4"},Ao={key:0,class:"space-y-3"},To={class:"flex justify-between"},Do={class:"font-medium"},So={class:"flex justify-between"},Po={class:"font-medium"},Fo={class:"flex justify-between border-t pt-3"},Vo={class:"font-bold text-[#0099cc]"},Mo={key:1,class:"space-y-3"},Lo={class:"flex justify-between"},No={class:"font-medium"},Ro={class:"flex justify-between"},jo={class:"font-medium"},zo={class:"flex justify-between"},Oo={class:"font-medium"},qo={class:"flex justify-between"},Bo={class:"font-medium"},$o={class:"flex justify-between border-t pt-3"},Go={class:"font-bold text-[#0099cc]"},Ho={class:"mt-8 p-4 bg-gray-100 rounded-xl"},Jo={class:"flex items-start space-x-3"},Ko={class:"text-sm text-gray-900"},Wo={class:"flex justify-between items-center bg-white rounded-xl shadow-lg border border-gray-100 p-6"},Xo={key:1},Yo={class:"text-sm text-gray-700"},Qo=["disabled"],Zo=["disabled"],es={key:0,class:"flex items-center"},ts={key:1,class:"flex items-center"},R="koumbaya_create_product_draft",rs={__name:"CreateProduct",setup(os){const se=Fe(),{get:j,post:le,loading:I}=Ve(),{user:N,isIndividualSeller:C,isBusinessSeller:z}=Me(),c=U(1),A=U(!1);U(null);const v=D(()=>[{id:1,title:"Informations",description:"Détails du produit",icon:J},{id:2,title:"Photos",description:"Images du produit",icon:Ie},{id:3,title:e.sale_mode==="lottery"?"Tombola":"Configuration",description:e.sale_mode==="lottery"?"Paramètres tombola":"Vente directe",icon:Ce},{id:4,title:"Publication",description:"Vérification",icon:K}]),k=U([]),n=U(null),e=W({name:"",description:"",category_id:"",condition:"",sale_mode:"direct",price:"",location:"",images:[],imageUrls:[],ticket_price:"",total_tickets:500,min_tickets:"",end_date:"",lottery_duration:"",terms_accepted:!1,duration_days:7});M(()=>e.sale_mode,(s,t)=>{console.log("=== CHANGEMENT MODE DE VENTE ==="),console.log("Old mode:",t),console.log("New mode:",s),console.log("Is individual seller:",C.value),s==="lottery"&&(console.log("Forcing 500 tickets for lottery mode"),e.total_tickets=500,e.min_tickets=500),s==="direct"&&(console.log("Switching to direct sale - clearing lottery fields"),e.ticket_price="",e.total_tickets=500,e.min_tickets="",e.end_date=""),console.log("Updated form state:",{sale_mode:e.sale_mode,ticket_price:e.ticket_price,total_tickets:e.total_tickets}),console.log("================================")});const d=W({name:"",description:"",category_id:"",condition:"",price:"",location:"",images:"",ticket_price:"",total_tickets:"",min_tickets:"",end_date:"",lottery_duration:""}),ae=D(()=>{const s=new Date;return s.setDate(s.getDate()+1),s.toISOString().slice(0,16)}),E=D(()=>{if(e.sale_mode!=="lottery"||!e.price||!e.total_tickets)return 0;const s=parseFloat(e.price),t=parseInt(e.total_tickets);if(s<=0||t<=0)return 0;const u=.1,l=.15,h=s*u,V=s*l,G=s+h+V,H=G/t;return console.log("=== CALCUL AUTOMATIQUE PRIX TICKET ==="),console.log("Product price:",s),console.log("Ticket count:",t),console.log("Commission (10%):",h),console.log("Margin (15%):",V),console.log("Total amount:",G),console.log("Calculated ticket price:",H),console.log("====================================="),Math.round(H)}),S=D(()=>{const s=(E.value||0)*(e.total_tickets||0),t=s*.05,u=s-t,l=e.price?Math.round((u-e.price)/e.price*100):0;return{totalRevenue:s,platformFee:t,netRevenue:u,profitMargin:l}});M(E,s=>{e.sale_mode==="lottery"&&s!==parseFloat(e.ticket_price)&&(e.ticket_price=s.toString(),console.log("Updated form.ticket_price to calculated value:",s))},{flush:"post"});const b=U(!1),P=D(()=>{switch(c.value){case 1:return O();case 2:const s=e.imageUrls&&e.imageUrls.length>0||e.images&&e.images.length>0,t=b.value;return console.log("=== VALIDATION ÉTAPE 2 ==="),console.log("Total images (new system):",e.imageUrls?.length||0),console.log("Total images (old system):",e.images?.length||0),console.log("Has images:",s),console.log("Upload in progress:",t),console.log("Can proceed:",s&&!t),console.log("========================="),s&&!t;case 3:return q();case 4:return e.terms_accepted;default:return!1}}),O=()=>{const s=e.name&&e.description&&e.category_id&&e.condition&&e.sale_mode&&e.price&&e.location&&parseFloat(e.price)>=1e3;return s&&(d.name="",d.description="",d.category_id="",d.condition="",d.price="",d.location=""),s},q=()=>{if(console.log("=== VALIDATION ÉTAPE 3 ==="),console.log("Sale mode:",e.sale_mode),e.sale_mode==="direct")return console.log("Direct sale mode - always valid"),console.log("=========================="),!0;if(e.sale_mode==="lottery"){console.log("Lottery mode - validating fields..."),console.log("Form values:",{ticket_price:e.ticket_price,total_tickets:e.total_tickets,min_tickets:e.min_tickets,end_date:e.end_date,lottery_duration:e.lottery_duration,has_duration_constraints:!!n.value});const s={hasTicketPrice:!!e.ticket_price,hasTotalTickets:!!e.total_tickets,hasMinTickets:!!e.min_tickets,ticketPriceValid:parseFloat(e.ticket_price)>=100,totalTicketsValid:parseInt(e.total_tickets)>=10,minTicketsValid:parseInt(e.min_tickets)>=10,minTicketsNotExceedTotal:parseInt(e.min_tickets)<=parseInt(e.total_tickets)};let t=!1;n.value&&!n.value.can_customize?(console.log("Individual seller - duration is fixed, no validation needed"),t=!0):n.value?.can_customize&&e.lottery_duration?(console.log("Business seller - validating lottery_duration"),t=parseInt(e.lottery_duration)>=1):e.end_date&&(console.log("Using end_date fallback"),t=new Date(e.end_date)>new Date);const u={...s,durationCheck:t};console.log("Validation checks:",u);const l=e.ticket_price&&e.total_tickets&&e.min_tickets&&parseFloat(e.ticket_price)>=100&&parseInt(e.total_tickets)>=10&&parseInt(e.min_tickets)>=10&&parseInt(e.min_tickets)<=parseInt(e.total_tickets)&&t;return console.log("Overall validation result:",l),l?(d.ticket_price="",d.total_tickets="",d.min_tickets="",d.end_date="",d.lottery_duration="",console.log("Cleared all step 3 errors")):(console.log("Validation failed - checking individual fields..."),(!e.ticket_price||parseFloat(e.ticket_price)<100)&&console.log("Ticket price invalid"),(!e.total_tickets||parseInt(e.total_tickets)<10)&&console.log("Total tickets invalid"),(!e.min_tickets||parseInt(e.min_tickets)<10)&&console.log("Min tickets invalid"),parseInt(e.min_tickets)>parseInt(e.total_tickets)&&console.log("Min tickets exceeds total tickets"),t||console.log("Duration validation failed")),console.log("=========================="),l}return console.log("Unknown sale mode - returning false"),console.log("=========================="),!1},re=()=>{console.log("=== NAVIGATION: NEXT STEP ==="),console.log("Current step:",c.value),console.log("Can proceed:",P.value),console.log("Form state:",{name:e.name,description:e.description?.substring(0,50)+"...",category_id:e.category_id,condition:e.condition,sale_mode:e.sale_mode,price:e.price,location:e.location,images:e.images.length,imageUrls:e.imageUrls.length,ticket_price:e.ticket_price,total_tickets:e.total_tickets,min_tickets:e.min_tickets,end_date:e.end_date,lottery_duration:e.lottery_duration}),P.value&&c.value<v.value.length?(console.log(`Moving from step ${c.value} to step ${c.value+1}`),c.value++,c.value===3&&(console.log("=== ARRIVÉE À L'ÉTAPE 3: CONFIGURATION TOMBOLA ==="),console.log("Sale mode:",e.sale_mode),console.log("Lottery duration constraints:",n.value),console.log("Is individual seller:",C.value),console.log("Form lottery values:",{ticket_price:e.ticket_price,total_tickets:e.total_tickets,min_tickets:e.min_tickets,lottery_duration:e.lottery_duration}))):(console.log("Cannot proceed - validation failed"),console.log("Validation details:",{step1Valid:c.value===1?O():"N/A",step2Valid:c.value===2?!0:"N/A",step3Valid:c.value===3?q():"N/A"})),console.log("=============================")},ie=()=>{console.log("=== NAVIGATION: PREVIOUS STEP ==="),console.log(`Moving from step ${c.value} to step ${c.value-1}`),c.value>1&&c.value--,console.log("=================================")},ne=({index:s})=>{console.log("=== ÉTAPE 2: IMAGE UPLOAD START ==="),console.log("Starting upload for image index:",s),b.value=!0,console.log("Upload state set to:",b.value),console.log("====================================")},de=({index:s,url:t,response:u})=>{console.log("=== ÉTAPE 2: IMAGE UPLOAD SUCCESS ==="),console.log("Index:",s),console.log("URL:",t),console.log("Response:",u),console.log("Total images après upload:",e.imageUrls?.length||0),b.value=!1,F(`Image ${s+1} uploadée avec succès`),console.log("=====================================")},ce=({index:s,error:t})=>{console.log("=== ÉTAPE 2: IMAGE UPLOAD ERROR ==="),console.log("Index:",s),console.log("Error:",t),console.log("Error message:",t.message),console.log("Error stack:",t.stack),b.value=!1,console.error("Erreur upload image:",{index:s,error:t}),T(`Erreur lors de l'upload de l'image ${s+1}: ${t.message}`),console.log("===================================")},ue=({index:s,progress:t})=>{console.log(`=== ÉTAPE 2: Upload image ${s+1}: ${t}% ===`),t>0&&t<100?b.value=!0:t===100&&setTimeout(()=>{b.value&&(b.value=!1)},1e3)},me=s=>{const u=s.target.value.replace(/[^0-9]/g,"");e.price=u,s.target.value=u},pe=s=>{s.preventDefault();const u=s.clipboardData.getData("text").replace(/[^0-9]/g,"");e.price=u,s.target.value=u,s.target.dispatchEvent(new Event("input"))},f=s=>new Intl.NumberFormat("fr-FR").format(s||0),ge=s=>({new:"Neuf",used:"Occasion",refurbished:"Reconditionné"})[s]||s,ve=async()=>{console.log("=== SOUMISSION FINALE DU FORMULAIRE ==="),console.log("Form state before submission:",{name:e.name,description:e.description?.substring(0,50)+"...",category_id:e.category_id,condition:e.condition,sale_mode:e.sale_mode,price:e.price,location:e.location,images:e.images.length,imageUrls:e.imageUrls,ticket_price:e.ticket_price,total_tickets:e.total_tickets,min_tickets:e.min_tickets,end_date:e.end_date,lottery_duration:e.lottery_duration,terms_accepted:e.terms_accepted}),A.value=!0,_e();try{const s={name:e.name,description:e.description,category_id:parseInt(e.category_id),price:parseFloat(e.price),sale_mode:e.sale_mode,images:e.imageUrls.length>0?e.imageUrls:e.images.map(u=>u.preview)};console.log("Product data to submit:",s),e.sale_mode==="lottery"&&(s.ticket_price=E.value,s.total_tickets=500,s.min_participants=500,console.log("Adding lottery fields:",{ticket_price:s.ticket_price,total_tickets:s.total_tickets,min_participants:s.min_participants}),n.value?.can_customize&&(s.lottery_duration=parseInt(e.lottery_duration),console.log("Added custom lottery duration:",s.lottery_duration))),console.log("Final product data:",s),console.log("Creating product...");const t=await le("/products",s);console.log("Product creation response:",t),t.product&&(console.log("Product created successfully, ID:",t.product.id),$(),e.sale_mode==="lottery"?(console.log("Lottery was automatically created with the product"),F("Produit et tombola créés avec succès !")):F("Produit créé avec succès !"),console.log("Redirecting to products list..."),setTimeout(()=>{se.push("/merchant/products")},1500))}catch(s){console.error("Error creating product:",s),console.error("Error response:",s.response?.data),fe(s)}finally{A.value=!1,console.log("========================================")}},_e=()=>{Object.keys(d).forEach(s=>{d[s]=""})},fe=s=>{if(s.response?.data?.errors){const t=s.response.data.errors;Object.keys(t).forEach(u=>{d[u]!==void 0&&(d[u]=t[u][0])}),T("Veuillez corriger les erreurs dans le formulaire")}else s.response?.data?.message?T(s.response.data.message):T("Une erreur est survenue. Veuillez réessayer.")},xe=()=>{if(n.value?.can_customize&&e.lottery_duration)return parseInt(e.lottery_duration);if(n.value&&!n.value.can_customize)return n.value.fixed_duration;if(e.end_date){const s=new Date(e.end_date),u=Math.abs(s-new Date),l=Math.ceil(u/(1e3*60*60*24));if(n.value){const h=n.value.min_days||1,V=n.value.max_days||60;return Math.min(Math.max(l,h),V)}return Math.min(Math.max(l,1),30)}return n.value?.default_duration||30},F=s=>{window.$toast&&window.$toast.success(s,"✅ Succès")},T=s=>{window.$toast&&window.$toast.error(s,"❌ Erreur")},ye=()=>{if(e.end_date){const s=new Date(e.end_date),t=new Date,u=new Date;u.setDate(u.getDate()+30),s<=t?d.end_date="La date de fin doit être dans le futur":s>u?d.end_date="La date de fin ne peut pas dépasser 30 jours":d.end_date=""}},be=()=>{if(!n.value||!n.value.can_customize){d.lottery_duration="";return}if(e.lottery_duration){const s=parseInt(e.lottery_duration),t=n.value.min_days,u=n.value.max_days;isNaN(s)?d.lottery_duration="Veuillez entrer un nombre valide":s<t?d.lottery_duration=`Minimum ${t} jour${t>1?"s":""} requis`:s>u?d.lottery_duration=`Maximum ${u} jours autorisés`:d.lottery_duration=""}},B=()=>{try{const s={form:{name:e.name,description:e.description,category_id:e.category_id,condition:e.condition,sale_mode:e.sale_mode,price:e.price,location:e.location,imageUrls:e.imageUrls,ticket_price:e.ticket_price,total_tickets:e.total_tickets,min_tickets:e.min_tickets,end_date:e.end_date,lottery_duration:e.lottery_duration},currentStep:c.value,timestamp:new Date().toISOString()};localStorage.setItem(R,JSON.stringify(s)),console.log("✓ Brouillon sauvegardé automatiquement")}catch(s){console.error("Erreur lors de la sauvegarde du brouillon:",s)}},ke=()=>{try{const s=localStorage.getItem(R);if(s){const t=JSON.parse(s);console.log("=== RESTAURATION DU BROUILLON ==="),console.log("Date de sauvegarde:",t.timestamp),confirm("Un brouillon de produit a été trouvé. Voulez-vous le restaurer ?")?(Object.assign(e,t.form),c.value=t.currentStep||1,F("Brouillon restauré avec succès"),console.log("Brouillon restauré")):($(),console.log("Brouillon refusé et effacé")),console.log("=================================")}}catch(s){console.error("Erreur lors de la restauration du brouillon:",s)}},$=()=>{try{localStorage.removeItem(R),console.log("✓ Brouillon effacé")}catch(s){console.error("Erreur lors de l'effacement du brouillon:",s)}};M(()=>({...e}),()=>{B()},{deep:!0,debounce:500}),M(c,()=>{B()});const he=async()=>{try{console.log("Loading categories...");const s=await j("/categories");console.log("Categories response:",s),console.log("Response keys:",Object.keys(s)),s&&s.categories?(k.value=s.categories,console.log("Categories loaded:",k.value.length,"items")):s&&s.data?(k.value=s.data,console.log("Categories loaded from data:",k.value.length,"items")):console.log("No categories in response or response is null")}catch(s){console.error("Error loading categories:",s),T("Erreur lors du chargement des catégories")}},we=async()=>{console.log("=== CHARGEMENT CONTRAINTES DURÉE TOMBOLA ==="),console.log("User type:",N.value?.seller_type),console.log("Is individual seller:",C.value),console.log("Is business seller:",z.value);try{const s=await j("/products/lottery-duration-constraints");console.log("API Response:",s),s&&s.data&&(n.value=s.data.constraints,console.log("Lottery duration constraints loaded:",n.value),console.log("Can customize:",n.value?.can_customize),console.log("Fixed duration:",n.value?.fixed_duration),console.log("Min days:",n.value?.min_days),console.log("Max days:",n.value?.max_days),console.log("Default duration:",n.value?.default_duration),n.value&&!n.value.can_customize?(e.lottery_duration=n.value.fixed_duration,console.log("Set fixed duration for individual seller:",e.lottery_duration)):(e.lottery_duration=n.value?.default_duration||30,console.log("Set default duration for business seller:",e.lottery_duration)))}catch(s){console.error("Error loading lottery duration constraints:",s),console.error("Error details:",s.response?.data),e.lottery_duration=30,console.log("Using fallback duration:",e.lottery_duration)}console.log("============================================")};return Ee(()=>{if(console.log("=== INITIALISATION CREATE PRODUCT PAGE ==="),console.log("User:",N.value),console.log("User seller type:",N.value?.seller_type),console.log("Is individual seller:",C.value),console.log("Is business seller:",z.value),he(),we(),ke(),C.value&&!e.total_tickets&&(console.log("Setting default 500 tickets for individual seller"),e.total_tickets="500"),!e.end_date){const s=new Date;s.setDate(s.getDate()+1),s.setHours(12,0,0,0),e.end_date=s.toISOString().slice(0,16),console.log("Set default end date:",e.end_date)}console.log("Initial form state:",{sale_mode:e.sale_mode,total_tickets:e.total_tickets,end_date:e.end_date,lottery_duration:e.lottery_duration}),console.log("=========================================")}),(s,t)=>{const u=Ae("router-link");return a(),i("div",Ne,[o("div",Re,[o("div",null,[t[15]||(t[15]=o("h1",{class:"text-3xl font-bold text-gray-900"},"Publier un Nouveau Produit",-1)),o("p",je,r(e.sale_mode==="lottery"?"Créez votre tombola et mettez votre produit en jeu":"Mettez votre produit en vente directe"),1),t[16]||(t[16]=o("p",{class:"mt-1 text-sm text-blue-600 flex items-center"},[o("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})]),m(" Sauvegarde automatique activée ")],-1))]),w(u,{to:"/merchant/products",class:"inline-flex items-center px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors"},{default:Ue(()=>[w(_(oe),{class:"w-4 h-4 mr-2"}),t[17]||(t[17]=m(" Retour aux produits ",-1))]),_:1,__:[17]})]),o("div",ze,[o("div",Oe,[(a(!0),i(X,null,Y(v.value,(l,h)=>(a(),i("div",{key:l.id,class:y(["flex items-center",{"flex-1":h<v.value.length-1}])},[o("div",qe,[o("div",{class:y(["flex items-center justify-center w-10 h-10 rounded-full border-2 font-medium text-sm transition-all",c.value>=l.id?"border-[#0099cc] bg-[#0099cc] text-white":"border-gray-300 bg-white text-gray-600"])},[c.value>=l.id?(a(),Q(Z(l.icon),{key:0,class:"w-5 h-5"})):(a(),i("span",Be,r(l.id),1))],2),o("div",$e,[o("p",{class:y(["text-sm font-medium",c.value>=l.id?"text-[#0099cc]":"text-gray-600"])},r(l.title),3),o("p",Ge,r(l.description),1)])]),h<v.value.length-1?(a(),i("div",{key:0,class:y(["flex-1 h-0.5 mx-4 transition-all",c.value>l.id?"bg-[#0099cc]":"bg-gray-200"])},null,2)):p("",!0)],2))),128))]),o("div",He,[o("div",Je,[o("div",Ke,[(a(),Q(Z(v.value[c.value-1].icon),{class:"w-6 h-6"}))])]),o("div",We,[o("p",Xe,r(v.value[c.value-1].title),1),o("p",Ye,r(v.value[c.value-1].description),1),o("p",Qe,"Étape "+r(c.value)+" sur "+r(v.value.length),1)]),o("div",Ze,[o("div",{class:"bg-[#0099cc] h-2 rounded-full transition-all duration-300",style:Te({width:`${c.value/v.value.length*100}%`})},null,4)])])]),o("form",{onSubmit:Pe(ve,["prevent"]),class:"space-y-6"},[c.value===1?(a(),i("div",et,[t[30]||(t[30]=L('<h2 class="text-xl font-semibold text-gray-900 mb-4">Informations de base</h2><div class="mb-6 bg-blue-50 border border-blue-200 rounded-lg p-3"><p class="text-sm text-blue-800 flex items-center"><svg class="w-4 h-4 mr-2 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path></svg> Les champs marqués d&#39;un astérisque <span class="text-red-600 font-bold mx-1">*</span> sont obligatoires pour passer à l&#39;étape suivante </p></div>',2)),o("div",tt,[o("div",ot,[t[18]||(t[18]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[m(" Nom du produit "),o("span",{class:"text-red-600"},"*")],-1)),g(o("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>e.name=l),type:"text",required:"",class:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#0099cc] focus:border-transparent transition-all",style:{color:"#5f5f5f"},placeholder:"Ex: iPhone 15 Pro Max 256GB"},null,512),[[x,e.name]]),d.name?(a(),i("p",st,r(d.name),1)):e.name&&e.name.length<3?(a(),i("p",lt,"Le nom doit contenir au moins 3 caractères")):p("",!0)]),o("div",at,[t[19]||(t[19]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[m(" Description "),o("span",{class:"text-red-600"},"*")],-1)),g(o("textarea",{"onUpdate:modelValue":t[1]||(t[1]=l=>e.description=l),rows:"4",required:"",class:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#0099cc] focus:border-transparent transition-all",style:{color:"#5f5f5f"},placeholder:"Décrivez votre produit en détail..."},null,512),[[x,e.description]]),d.description?(a(),i("p",rt,r(d.description),1)):e.description&&e.description.length<10?(a(),i("p",it,"La description doit contenir au moins 10 caractères")):p("",!0)]),o("div",null,[t[21]||(t[21]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[m(" Catégorie "),o("span",{class:"text-red-600"},"*")],-1)),g(o("select",{"onUpdate:modelValue":t[2]||(t[2]=l=>e.category_id=l),required:"",disabled:_(I),class:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#0099cc] focus:border-transparent transition-all disabled:opacity-50",style:{color:"#5f5f5f"}},[t[20]||(t[20]=o("option",{value:""},"Sélectionner une catégorie",-1)),_(I)?(a(),i("option",dt,"Chargement des catégories...")):p("",!0),k.value.length===0&&!_(I)?(a(),i("option",ct,"Aucune catégorie disponible")):p("",!0),(a(!0),i(X,null,Y(k.value,l=>(a(),i("option",{key:l.id,value:l.id},r(l.name),9,ut))),128))],8,nt),[[ee,e.category_id]]),o("p",mt," Debug: "+r(k.value.length)+" catégories chargées ",1),d.category_id?(a(),i("p",pt,r(d.category_id),1)):p("",!0)]),o("div",null,[t[23]||(t[23]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[m(" Condition "),o("span",{class:"text-red-600"},"*")],-1)),g(o("select",{"onUpdate:modelValue":t[3]||(t[3]=l=>e.condition=l),required:"",class:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#0099cc] focus:border-transparent transition-all",style:{color:"#5f5f5f"}},t[22]||(t[22]=[o("option",{value:""},"État du produit",-1),o("option",{value:"new"},"Neuf",-1),o("option",{value:"used"},"Occasion",-1),o("option",{value:"refurbished"},"Reconditionné",-1)]),512),[[ee,e.condition]])]),o("div",gt,[t[26]||(t[26]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[m(" Mode de vente "),o("span",{class:"text-red-600"},"*")],-1)),o("div",vt,[o("label",{class:y(["flex items-center p-4 border border-gray-200 rounded-xl cursor-pointer hover:bg-gray-50 transition-colors",{"border-[#0099cc] bg-blue-50":e.sale_mode==="direct"}])},[g(o("input",{type:"radio","onUpdate:modelValue":t[4]||(t[4]=l=>e.sale_mode=l),value:"direct",class:"sr-only"},null,512),[[te,e.sale_mode]]),o("div",_t,[o("div",{class:y(["w-5 h-5 rounded-full border-2 flex items-center justify-center",e.sale_mode==="direct"?"border-[#0099cc]":"border-gray-300"])},[e.sale_mode==="direct"?(a(),i("div",ft)):p("",!0)],2),t[24]||(t[24]=o("div",null,[o("p",{class:"font-medium text-gray-900"},"Vente directe"),o("p",{class:"text-sm text-gray-700"},"Les clients achètent directement")],-1))])],2),o("label",{class:y(["flex items-center p-4 border border-gray-200 rounded-xl cursor-pointer hover:bg-gray-50 transition-colors",{"border-purple-500 bg-purple-50":e.sale_mode==="lottery"}])},[g(o("input",{type:"radio","onUpdate:modelValue":t[5]||(t[5]=l=>e.sale_mode=l),value:"lottery",class:"sr-only"},null,512),[[te,e.sale_mode]]),o("div",xt,[o("div",{class:y(["w-5 h-5 rounded-full border-2 flex items-center justify-center",e.sale_mode==="lottery"?"border-purple-500":"border-gray-300"])},[e.sale_mode==="lottery"?(a(),i("div",yt)):p("",!0)],2),t[25]||(t[25]=o("div",null,[o("p",{class:"font-medium text-gray-900"},"Tombola"),o("p",{class:"text-sm text-gray-700"},"Les clients achètent des tickets")],-1))])],2)])]),o("div",null,[t[28]||(t[28]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[m(" Valeur du produit (FCFA) "),o("span",{class:"text-red-600"},"*")],-1)),g(o("input",{"onUpdate:modelValue":t[6]||(t[6]=l=>e.price=l),type:"text",inputmode:"numeric",required:"",class:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#0099cc] focus:border-transparent transition-all",style:{color:"#5f5f5f"},placeholder:"Ex: 800000",onInput:me,onPaste:pe},null,544),[[x,e.price]]),d.price?(a(),i("p",bt,r(d.price),1)):e.price&&parseFloat(e.price)<1e3?(a(),i("p",kt,"La valeur minimum est de 1000 FCFA")):p("",!0),_(C)&&e.sale_mode==="lottery"&&e.price&&parseFloat(e.price)<1e5?(a(),i("div",ht,t[27]||(t[27]=[o("p",{class:"text-xs text-blue-800"},[o("strong",null,"Recommandation:"),m(" Pour un vendeur individuel avec 500 tickets fixes, un prix produit minimum de 100,000 FCFA est recommandé pour garantir un prix de ticket d'au moins 200 FCFA. ")],-1)]))):p("",!0)]),o("div",null,[t[29]||(t[29]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[m(" Localisation "),o("span",{class:"text-red-600"},"*")],-1)),g(o("input",{"onUpdate:modelValue":t[7]||(t[7]=l=>e.location=l),type:"text",required:"",class:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#0099cc] focus:border-transparent transition-all",style:{color:"#5f5f5f"},placeholder:"Ex: Libreville, Gabon"},null,512),[[x,e.location]])])])])):p("",!0),c.value===2?(a(),i("div",wt,[t[32]||(t[32]=o("h2",{class:"text-xl font-semibold text-gray-900 mb-6"},"Photos du produit",-1)),o("div",It,[w(Le,{modelValue:e.imageUrls,"onUpdate:modelValue":t[8]||(t[8]=l=>e.imageUrls=l),"upload-endpoint":"/products/images","max-files":10,"max-size-m-b":5,"help-text":"JPG, PNG, WebP - Max 5MB chacune - La première image sera la photo principale",onSuccess:de,onError:ce,onProgress:ue,onStart:ne},null,8,["modelValue"]),o("div",Ct,[o("div",Et,[w(_(J),{class:"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5"}),t[31]||(t[31]=o("div",{class:"text-sm text-blue-700"},[o("p",{class:"font-medium mb-1"},"Conseils pour de bonnes photos :"),o("ul",{class:"space-y-1 text-sm"},[o("li",null,"• Utilisez un bon éclairage naturel"),o("li",null,"• Prenez plusieurs angles du produit"),o("li",null,"• La première image sera la photo principale"),o("li",null,"• Maximum 10 images par produit"),o("li",null,"• Formats acceptés : JPG, PNG, WebP"),o("li",null,"• Taille maximum : 5MB par image")])],-1))])])])])):p("",!0),c.value===3?(a(),i("div",Ut,[e.sale_mode==="direct"?(a(),i("div",At,[t[37]||(t[37]=o("h2",{class:"text-xl font-semibold text-gray-900 mb-6"},"Configuration de vente directe",-1)),o("div",Tt,[t[35]||(t[35]=L('<div class="flex items-center justify-center space-x-3 mb-4"><div class="w-12 h-12 bg-[#0099cc] rounded-full flex items-center justify-center"><svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg></div><div><h3 class="text-lg font-semibold text-gray-900">Vente directe configurée</h3><p class="text-gray-600">Votre produit sera disponible à l&#39;achat immédiat</p></div></div>',1)),o("div",Dt,[o("div",St,[t[33]||(t[33]=o("p",{class:"text-gray-600"},"Prix de vente",-1)),o("p",Pt,r(f(e.price))+" FCFA",1)]),o("div",Ft,[t[34]||(t[34]=o("p",{class:"text-gray-600"},"Commission plateforme",-1)),o("p",Vt,r(f(e.price*.05))+" FCFA (5%)",1)])]),t[36]||(t[36]=o("p",{class:"text-sm text-gray-700 mt-4"}," Les clients pourront acheter votre produit directement au prix affiché. ",-1))])])):e.sale_mode==="lottery"?(a(),i("div",Mt,[t[51]||(t[51]=o("h2",{class:"text-xl font-semibold text-gray-900 mb-6"},"Configuration de la tombola",-1)),o("div",Lt,[o("div",null,[t[39]||(t[39]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[m(" Nombre de tickets "),o("span",{class:"text-red-600"},"*")],-1)),o("div",null,[g(o("input",{"onUpdate:modelValue":t[9]||(t[9]=l=>e.total_tickets=l),type:"number",required:"",readonly:"",disabled:"",class:"w-full px-4 py-3 border border-gray-300 rounded-xl bg-gray-100 cursor-not-allowed text-gray-600"},null,512),[[x,e.total_tickets]]),t[38]||(t[38]=L('<div class="mt-2 bg-blue-50 border border-blue-200 rounded-lg p-3"><div class="flex items-start"><div class="flex-shrink-0"><svg class="h-5 w-5 text-blue-400" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1 a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path></svg></div><div class="ml-3"><p class="text-sm text-blue-800"><strong>Nombre fixe :</strong> Le nombre de tickets est automatiquement fixé à 500 pour garantir l&#39;équité et maintenir des prix accessibles. </p></div></div></div>',1))])]),o("div",null,[t[40]||(t[40]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[m(" Prix par ticket (FCFA) "),o("span",{class:"text-red-600"},"*")],-1)),g(o("input",{"onUpdate:modelValue":t[10]||(t[10]=l=>E.value=l),type:"number",required:"",readonly:"",disabled:"",class:"w-full px-4 py-3 border border-gray-300 rounded-xl bg-gray-100 cursor-not-allowed text-gray-600"},null,512),[[x,E.value]]),t[41]||(t[41]=L('<div class="mt-2 bg-green-50 border border-green-200 rounded-lg p-3"><div class="flex items-start"><div class="flex-shrink-0"><svg class="h-5 w-5 text-green-400" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg></div><div class="ml-3"><p class="text-sm text-green-800"><strong>Calcul automatique :</strong> Le prix du ticket est calculé automatiquement pour couvrir le prix du produit et les frais. </p></div></div></div>',1))]),o("div",null,[o("label",Nt,[m(r(n.value?.can_customize?"Durée de la tombola":"Date de fin de vente")+" ",1),t[42]||(t[42]=o("span",{class:"text-red-600"},"*",-1))]),n.value?.can_customize?(a(),i("div",Rt,[o("div",jt,[g(o("input",{"onUpdate:modelValue":t[11]||(t[11]=l=>e.lottery_duration=l),type:"number",required:"",min:n.value.min_days,max:n.value.max_days,class:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#0099cc] focus:border-transparent transition-all",style:{color:"#5f5f5f"},placeholder:"30",onInput:be},null,40,zt),[[x,e.lottery_duration]]),t[43]||(t[43]=o("span",{class:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-600 pointer-events-none"},"jours",-1))]),d.lottery_duration?(a(),i("p",Ot,r(d.lottery_duration),1)):(a(),i("p",qt," Entre "+r(n.value.min_days)+" et "+r(n.value.max_days)+" jours ",1))])):n.value&&!n.value.can_customize?(a(),i("div",Bt,[o("div",$t,[o("input",{value:n.value.fixed_duration+" jours",type:"text",readonly:"",class:"w-full px-4 py-3 border border-gray-200 rounded-xl bg-gray-100 cursor-not-allowed",style:{color:"#5f5f5f"}},null,8,Gt)]),o("div",Ht,[o("div",Jt,[t[45]||(t[45]=o("div",{class:"flex-shrink-0"},[o("svg",{class:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor"},[o("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})])],-1)),o("div",Kt,[o("p",Wt,[t[44]||(t[44]=o("strong",null,"Profil Vendeur Individuel:",-1)),m(" La durée est fixée à "+r(n.value.fixed_duration)+" jours. ",1)])])])])])):(a(),i("div",Xt,[g(o("input",{"onUpdate:modelValue":t[12]||(t[12]=l=>e.end_date=l),type:"datetime-local",required:"",min:ae.value,onChange:ye,class:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#0099cc] focus:border-transparent transition-all",style:{color:"#5f5f5f"}},null,40,Yt),[[x,e.end_date]]),d.end_date?(a(),i("p",Qt,r(d.end_date),1)):e.end_date&&new Date(e.end_date)<=new Date?(a(),i("p",Zt,"La date de fin doit être dans le futur")):p("",!0)]))]),o("div",null,[t[46]||(t[46]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[m(" Tickets minimum pour valider "),o("span",{class:"text-red-600"},"*")],-1)),g(o("input",{"onUpdate:modelValue":t[13]||(t[13]=l=>e.min_tickets=l),type:"number",required:"",max:e.total_tickets,class:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#0099cc] focus:border-transparent transition-all",style:{color:"#5f5f5f"},placeholder:"Ex: 200"},null,8,eo),[[x,e.min_tickets]]),d.min_tickets?(a(),i("p",to,r(d.min_tickets),1)):e.min_tickets&&e.total_tickets&&parseInt(e.min_tickets)>parseInt(e.total_tickets)?(a(),i("p",oo,"Ne peut pas dépasser le nombre total de tickets")):(a(),i("p",so,"Si pas atteint, remboursement automatique"))]),o("div",lo,[o("div",ao,[t[50]||(t[50]=o("h3",{class:"font-semibold text-gray-900 mb-4"},"Aperçu de la tombola",-1)),o("div",ro,[o("div",io,[o("p",no,r(f(S.value.totalRevenue)),1),t[47]||(t[47]=o("p",{class:"text-sm text-gray-600"},"Revenus potentiels",-1))]),o("div",co,[o("p",uo,r(S.value.profitMargin)+"%",1),t[48]||(t[48]=o("p",{class:"text-sm text-gray-600"},"Marge bénéficiaire",-1))]),o("div",mo,[o("p",po,r(f(S.value.platformFee)),1),t[49]||(t[49]=o("p",{class:"text-sm text-gray-600"},"Frais plateforme (5%)",-1))])])])])])])):p("",!0)])):p("",!0),c.value===4?(a(),i("div",go,[t[70]||(t[70]=o("h2",{class:"text-xl font-semibold text-gray-900 mb-6"},"Vérification et publication",-1)),o("div",vo,[o("div",null,[t[57]||(t[57]=o("h3",{class:"font-semibold text-gray-900 mb-4"},"Résumé du produit",-1)),o("div",_o,[o("div",fo,[t[52]||(t[52]=o("span",{class:"text-gray-800"},"Nom :",-1)),o("span",xo,r(e.name),1)]),o("div",yo,[t[53]||(t[53]=o("span",{class:"text-gray-800"},"Valeur :",-1)),o("span",bo,r(f(e.price))+" FCFA",1)]),o("div",ko,[t[54]||(t[54]=o("span",{class:"text-gray-800"},"Condition :",-1)),o("span",ho,r(ge(e.condition)),1)]),o("div",wo,[t[55]||(t[55]=o("span",{class:"text-gray-800"},"Localisation :",-1)),o("span",Io,r(e.location),1)]),o("div",Co,[t[56]||(t[56]=o("span",{class:"text-gray-800"},"Photos :",-1)),o("span",Eo,r(e.imageUrls?.length||e.images?.length||0)+" image(s)",1)])])]),o("div",null,[o("h3",Uo,r(e.sale_mode==="lottery"?"Configuration tombola":"Configuration vente"),1),e.sale_mode==="direct"?(a(),i("div",Ao,[t[61]||(t[61]=o("div",{class:"flex justify-between"},[o("span",{class:"text-gray-800"},"Mode de vente :"),o("span",{class:"font-medium text-[#0099cc]"},"Vente directe")],-1)),o("div",To,[t[58]||(t[58]=o("span",{class:"text-gray-800"},"Prix de vente :",-1)),o("span",Do,r(f(e.price))+" FCFA",1)]),o("div",So,[t[59]||(t[59]=o("span",{class:"text-gray-800"},"Commission (5%) :",-1)),o("span",Po,r(f(e.price*.05))+" FCFA",1)]),o("div",Fo,[t[60]||(t[60]=o("span",{class:"text-gray-800"},"Vous recevrez :",-1)),o("span",Vo,r(f(e.price*.95))+" FCFA",1)])])):e.sale_mode==="lottery"?(a(),i("div",Mo,[t[67]||(t[67]=o("div",{class:"flex justify-between"},[o("span",{class:"text-gray-800"},"Mode de vente :"),o("span",{class:"font-medium text-purple-600"},"Tombola")],-1)),o("div",Lo,[t[62]||(t[62]=o("span",{class:"text-gray-800"},"Total tickets :",-1)),o("span",No,r(e.total_tickets),1)]),o("div",Ro,[t[63]||(t[63]=o("span",{class:"text-gray-800"},"Prix/ticket :",-1)),o("span",jo,r(f(E.value))+" FCFA",1)]),o("div",zo,[t[64]||(t[64]=o("span",{class:"text-gray-800"},"Minimum requis :",-1)),o("span",Oo,r(e.min_tickets),1)]),o("div",qo,[t[65]||(t[65]=o("span",{class:"text-gray-800"},"Durée :",-1)),o("span",Bo,r(n.value&&!n.value.can_customize?n.value.fixed_duration:e.lottery_duration||xe())+" jours ",1)]),o("div",$o,[t[66]||(t[66]=o("span",{class:"text-gray-800"},"Revenus max :",-1)),o("span",Go,r(f(S.value.totalRevenue))+" FCFA",1)])])):p("",!0)])]),o("div",Ho,[o("label",Jo,[g(o("input",{"onUpdate:modelValue":t[14]||(t[14]=l=>e.terms_accepted=l),type:"checkbox",required:"",class:"mt-1 h-4 w-4 text-[#0099cc] focus:ring-[#0099cc] border-gray-300 rounded"},null,512),[[De,e.terms_accepted]]),o("span",Ko,[t[68]||(t[68]=m(" J'accepte les ",-1)),t[69]||(t[69]=o("a",{href:"#",class:"text-[#0099cc] hover:underline"},"conditions de vente",-1)),m(" et confirme que toutes les informations sont exactes. Je comprends que Koumbaya prélèvera des frais de 5% sur les revenus "+r(e.sale_mode==="lottery"?"de la tombola":"de la vente")+". ",1)])])])])):p("",!0),o("div",Wo,[c.value>1?(a(),i("button",{key:0,onClick:ie,type:"button",class:"inline-flex items-center px-6 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors"},[w(_(oe),{class:"w-4 h-4 mr-2"}),t[71]||(t[71]=m(" Précédent ",-1))])):(a(),i("div",Xo)),o("div",Yo," Étape "+r(c.value)+" sur "+r(v.value.length),1),c.value<v.value.length?(a(),i("button",{key:2,onClick:re,type:"button",class:"inline-flex items-center px-6 py-3 bg-[#0099cc] hover:bg-[#0088bb] text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:!P.value||_(I)},[t[72]||(t[72]=m(" Suivant ",-1)),w(_(Se),{class:"w-4 h-4 ml-2"})],8,Qo)):p("",!0),c.value===v.value.length?(a(),i("button",{key:3,type:"submit",disabled:A.value||!P.value||_(I),class:"inline-flex items-center px-6 py-3 bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-lg transition-colors"},[A.value||_(I)?(a(),i("span",es,[t[73]||(t[73]=o("div",{class:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-2"},null,-1)),m(" "+r(A.value?"Publication...":"Chargement..."),1)])):(a(),i("span",ts,[w(_(K),{class:"w-4 h-4 mr-2"}),t[74]||(t[74]=m(" Publier le produit ",-1))]))],8,Zo)):p("",!0)])],32)])}}};export{rs as default};
