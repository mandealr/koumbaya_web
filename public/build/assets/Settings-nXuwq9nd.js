import{r as h,O as c,j as V,b as f,e,F as $,y as S,l as m,x as b,U as a,V as l,g as j,_ as w,o as i,v as U,z as E,i as C,N,t as P,s as M,a3 as z,ao as A}from"./vendor-jx2CZFIM.js";import{u as B,a as D,P as F}from"./app-CEzqAYNN.js";const I={class:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8"},T={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},L={class:"lg:col-span-1"},R={class:"space-y-2"},q=["onClick"],G={class:"flex items-center"},O={class:"lg:col-span-2"},H={class:"bg-white rounded-xl shadow-sm border border-gray-200"},J={key:0,class:"p-6"},K={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Q={key:1,class:"p-6"},W={class:"space-y-6"},X={class:"bg-gray-50 rounded-lg p-4"},Y={key:2,class:"p-6"},Z={class:"space-y-6"},ee={class:"flex items-center justify-between"},se={class:"relative inline-flex items-center cursor-pointer"},re={class:"flex items-center justify-between"},te={class:"relative inline-flex items-center cursor-pointer"},ie={__name:"Settings",setup(oe){const g=B(),{put:p}=D(),d=h("account"),y=[{id:"account",name:"Compte",icon:M},{id:"security",name:"Sécurité",icon:z},{id:"preferences",name:"Préférences",icon:A}],t=c({first_name:"",last_name:"",email:"",phone:""}),o=c({current_password:"",new_password:"",confirm_password:""}),u=c({email_notifications:!0,push_notifications:!1}),x=()=>{const n=g.user;n&&(t.first_name=n.first_name||"",t.last_name=n.last_name||"",t.email=n.email||"",t.phone=n.phone||"")},v=async()=>{try{await p("/user/profile",t),await g.refreshUser(),window.$toast&&window.$toast.success("Informations mises à jour avec succès","✅ Mise à jour")}catch(n){console.error("Erreur lors de la mise à jour:",n),window.$toast&&window.$toast.error("Erreur lors de la mise à jour","❌ Erreur")}},k=async()=>{if(o.new_password!==o.confirm_password){window.$toast&&window.$toast.error("Les mots de passe ne correspondent pas","❌ Validation");return}try{await p("/user/password",{current_password:o.current_password,new_password:o.new_password}),o.current_password="",o.new_password="",o.confirm_password="",window.$toast&&window.$toast.success("Mot de passe mis à jour avec succès","✅ Sécurité")}catch(n){console.error("Erreur lors du changement de mot de passe:",n),window.$toast&&window.$toast.error("Erreur lors du changement de mot de passe","❌ Erreur")}},_=async()=>{try{await p("/user/preferences",u),window.$toast&&window.$toast.success("Préférences sauvegardées avec succès","✅ Préférences")}catch(n){console.error("Erreur lors de la sauvegarde:",n),window.$toast&&window.$toast.error("Erreur lors de la sauvegarde des préférences","❌ Erreur")}};return V(()=>{x()}),(n,s)=>(i(),f("div",I,[s[27]||(s[27]=e("div",{class:"mb-8"},[e("h1",{class:"text-3xl font-bold text-gray-900"},"Paramètres"),e("p",{class:"mt-2 text-gray-600"},"Gérez les paramètres de votre compte marchand")],-1)),e("div",T,[e("div",L,[e("nav",R,[(i(),f($,null,S(y,r=>e("button",{key:r.id,onClick:ne=>d.value=r.id,class:U(["w-full text-left px-4 py-3 rounded-lg text-sm font-medium transition-colors",d.value===r.id?"bg-blue-100 text-blue-800 border border-blue-200":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"])},[e("div",G,[(i(),E(N(r.icon),{class:"w-5 h-5 mr-3"})),C(" "+P(r.name),1)])],10,q)),64))])]),e("div",O,[e("div",H,[d.value==="account"?(i(),f("div",J,[s[14]||(s[14]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-6"},"Informations du compte",-1)),e("form",{onSubmit:b(v,["prevent"]),class:"space-y-6"},[e("div",K,[e("div",null,[s[9]||(s[9]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Prénom",-1)),a(e("input",{"onUpdate:modelValue":s[0]||(s[0]=r=>t.first_name=r),type:"text",class:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",style:{color:"#5f5f5f"}},null,512),[[l,t.first_name]])]),e("div",null,[s[10]||(s[10]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Nom",-1)),a(e("input",{"onUpdate:modelValue":s[1]||(s[1]=r=>t.last_name=r),type:"text",class:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",style:{color:"#5f5f5f"}},null,512),[[l,t.last_name]])])]),e("div",null,[s[11]||(s[11]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Email",-1)),a(e("input",{"onUpdate:modelValue":s[2]||(s[2]=r=>t.email=r),type:"email",class:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",style:{color:"#5f5f5f"}},null,512),[[l,t.email]])]),e("div",null,[s[12]||(s[12]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Téléphone",-1)),j(F,{modelValue:t.phone,"onUpdate:modelValue":s[3]||(s[3]=r=>t.phone=r),placeholder:"Numéro de téléphone","initial-country":"ga"},null,8,["modelValue"])]),s[13]||(s[13]=e("div",{class:"flex justify-end"},[e("button",{type:"submit",class:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors"}," Sauvegarder ")],-1))],32)])):m("",!0),d.value==="security"?(i(),f("div",Q,[s[21]||(s[21]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-6"},"Sécurité",-1)),e("div",W,[e("div",X,[s[19]||(s[19]=e("h4",{class:"font-medium text-gray-900 mb-2"},"Changer le mot de passe",-1)),s[20]||(s[20]=e("p",{class:"text-sm text-gray-600 mb-4"},"Assurez-vous d'utiliser un mot de passe fort et unique.",-1)),e("form",{onSubmit:b(k,["prevent"]),class:"space-y-4"},[e("div",null,[s[15]||(s[15]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Mot de passe actuel",-1)),a(e("input",{"onUpdate:modelValue":s[4]||(s[4]=r=>o.current_password=r),type:"password",class:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",style:{color:"#5f5f5f"}},null,512),[[l,o.current_password]])]),e("div",null,[s[16]||(s[16]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Nouveau mot de passe",-1)),a(e("input",{"onUpdate:modelValue":s[5]||(s[5]=r=>o.new_password=r),type:"password",class:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",style:{color:"#5f5f5f"}},null,512),[[l,o.new_password]])]),e("div",null,[s[17]||(s[17]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Confirmer le nouveau mot de passe",-1)),a(e("input",{"onUpdate:modelValue":s[6]||(s[6]=r=>o.confirm_password=r),type:"password",class:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",style:{color:"#5f5f5f"}},null,512),[[l,o.confirm_password]])]),s[18]||(s[18]=e("div",{class:"flex justify-end"},[e("button",{type:"submit",class:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"}," Mettre à jour le mot de passe ")],-1))],32)])])])):m("",!0),d.value==="preferences"?(i(),f("div",Y,[s[26]||(s[26]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-6"},"Préférences",-1)),e("div",Z,[e("div",ee,[s[23]||(s[23]=e("div",null,[e("h4",{class:"font-medium text-gray-900"},"Notifications par email"),e("p",{class:"text-sm text-gray-600"},"Recevoir des notifications pour les nouvelles commandes")],-1)),e("label",se,[a(e("input",{"onUpdate:modelValue":s[7]||(s[7]=r=>u.email_notifications=r),type:"checkbox",class:"sr-only peer"},null,512),[[w,u.email_notifications]]),s[22]||(s[22]=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"},null,-1))])]),e("div",re,[s[25]||(s[25]=e("div",null,[e("h4",{class:"font-medium text-gray-900"},"Notifications push"),e("p",{class:"text-sm text-gray-600"},"Recevoir des notifications en temps réel")],-1)),e("label",te,[a(e("input",{"onUpdate:modelValue":s[8]||(s[8]=r=>u.push_notifications=r),type:"checkbox",class:"sr-only peer"},null,512),[[w,u.push_notifications]]),s[24]||(s[24]=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"},null,-1))])])]),e("div",{class:"mt-8 flex justify-end"},[e("button",{onClick:_,class:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors"}," Sauvegarder les préférences ")])])):m("",!0)])])])]))}};export{ie as default};
