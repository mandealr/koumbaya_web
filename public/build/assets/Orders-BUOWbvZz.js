import{r as x,c as w,O as ce,j as de,P as ue,b as d,e,l as _,g as y,i as b,v as $,u as m,aD as me,t as n,aF as ge,F as j,y as B,U as A,M as pe,V as U,$ as X,f as xe,E as z,aj as ye,o as i,z as Z,N as ee,aJ as ve,aK as be,s as fe,Y as he,a1 as _e,ag as we,al as ke,a7 as Ce,I as De}from"./vendor-jx2CZFIM.js";import{u as Fe,a as Se,f as Ee}from"./app-DUxm6TDX.js";function Oe(){const{get:D,put:I,loading:P,error:V}=Fe(),F=x([]),k=x([]),p=x([{label:"Total commandes",value:"0",change:0,color:"bg-blue-500",icon:"ShoppingBagIcon"},{label:"Revenus total",value:"0 FCFA",change:0,color:"bg-green-500",icon:"CurrencyDollarIcon"},{label:"En attente",value:"0",change:0,color:"bg-yellow-500",icon:"ClockIcon"},{label:"Terminées",value:"0",change:0,color:"bg-green-500",icon:"CheckIcon"}]),S=x([]),L=x([]),T=async()=>{try{const o=await D("/stats/merchant/orders");if(o&&o.success){const r=o.data.stats;p.value=[{label:"Total commandes",value:r.total_orders.toString(),change:r.total_orders_change||0,color:"bg-blue-500",icon:"ShoppingBagIcon"},{label:"Revenus total",value:v(r.total_revenue),change:r.revenue_change||0,color:"bg-green-500",icon:"CurrencyDollarIcon"},{label:"En attente",value:r.pending_orders.toString(),change:r.pending_change||0,color:"bg-yellow-500",icon:"ClockIcon"},{label:"Terminées",value:r.paid_orders.toString(),change:r.paid_change||0,color:"bg-green-500",icon:"CheckIcon"}],S.value=o.data.recent_orders||[],L.value=o.data.monthly_revenue||[]}}catch(o){console.error("Erreur lors du chargement des statistiques de commandes:",o)}},N=async(o={})=>{try{const r={page:1,per_page:50,...o},C=await D("/merchant/orders",{params:r});C&&C.success&&(F.value=C.data||[])}catch(r){console.error("Erreur lors du chargement des commandes:",r),F.value=[]}},u=async()=>{try{const o=await D("/merchant/products",{params:{per_page:100}});o&&o.success&&(k.value=o.data.data||o.data||[])}catch(o){console.error("Erreur lors du chargement des produits:",o),k.value=[]}},E=async o=>{try{return await I(`/orders/${o.order_number}/confirm`)}catch(r){throw console.error("Erreur lors de la confirmation:",r),r}},c=async o=>{try{return await I(`/orders/${o.order_number}/cancel`)}catch(r){throw console.error("Erreur lors de l'annulation:",r),r}},g=async(o="csv")=>{try{return await D(`/merchant/orders/export?format=${o}`)}catch(r){throw console.error("Erreur lors de l'export:",r),r}},f=w(()=>[{label:"Total commandes",value:p.value[0]?.value||"0",color:"bg-blue-500",icon:"ShoppingBagIcon"},{label:"Revenus total",value:p.value[1]?.value||"0 FCFA",color:"bg-green-500",icon:"CurrencyDollarIcon"},{label:"En attente",value:p.value[2]?.value||"0",color:"bg-yellow-500",icon:"ClockIcon"},{label:"Terminées",value:p.value[3]?.value||"0",color:"bg-green-500",icon:"CheckIcon"}]),h=w(()=>[{name:"Payées",value:parseInt(p.value[3]?.value||"0"),color:"#10B981"},{name:"En attente",value:parseInt(p.value[2]?.value||"0"),color:"#F59E0B"},{name:"Annulées",value:0,color:"#EF4444"}]),l=T,v=o=>{const r=parseFloat(o)||0;return r>=1e6?(r/1e6).toFixed(1)+"M FCFA":r>=1e3?(r/1e3).toFixed(0)+"k FCFA":r.toLocaleString("fr-FR")+" FCFA"};return{orders:F,products:k,orderStats:p,stats:f,recentOrders:S,monthlyRevenue:L,statusDistribution:h,loading:P,error:V,loadStats:T,loadOrders:N,loadProducts:u,loadOrderStats:l,confirmOrder:E,cancelOrder:c,exportOrders:g,formatCurrency:v,formatDate:o=>new Intl.DateTimeFormat("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(o)),getStatusLabel:o=>({paid:"Payée",pending:"En attente",cancelled:"Annulée",failed:"Échouée",refunded:"Remboursée"})[o]||o,getStatusColor:o=>({paid:"bg-green-100 text-green-800",pending:"bg-yellow-100 text-yellow-800",cancelled:"bg-red-100 text-red-800",failed:"bg-red-100 text-red-800",refunded:"bg-gray-100 text-gray-800"})[o]||"bg-gray-100 text-gray-800",formatMonthYear:(o,r)=>`${["Jan","Fév","Mar","Avr","Mai","Jun","Jul","Aoû","Sep","Oct","Nov","Déc"][o-1]} ${r}`}}const $e={class:"space-y-6"},Ae={class:"flex items-center justify-between"},Ie={class:"flex space-x-3"},Pe=["disabled"],Le={class:"grid grid-cols-1 md:grid-cols-4 gap-6"},Te={class:"flex items-center justify-between"},Me={class:"text-sm font-medium text-gray-600"},Ve={class:"text-2xl font-bold text-gray-900 mt-1"},Ne={class:"mt-4 pt-4 border-t border-gray-100"},Re={class:"flex items-center text-xs"},je={class:"bg-white rounded-xl shadow-lg border border-gray-100 p-6"},Be={class:"grid grid-cols-1 md:grid-cols-5 gap-4"},Ue={class:"relative"},ze=["value"],Je={class:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden"},qe={key:0,class:"flex justify-center py-12"},Ye={key:1,class:"text-center py-12"},Ge={key:2,class:"overflow-x-auto"},Ke={class:"min-w-full"},He={class:"bg-white divide-y divide-gray-200"},Qe={class:"px-6 py-4 whitespace-nowrap"},We={class:"text-sm font-medium text-gray-900"},Xe={class:"text-sm text-gray-500"},Ze={class:"px-6 py-4 whitespace-nowrap"},et={class:"flex items-center"},tt={class:"w-10 h-10 bg-gray-300 rounded-full flex items-center justify-center"},st={class:"ml-3"},at={class:"text-sm font-medium text-gray-900"},ot={class:"text-sm text-gray-500"},rt={class:"px-6 py-4 whitespace-nowrap"},nt={class:"flex items-center"},lt=["src","alt"],it={class:"ml-3"},ct={class:"text-sm font-medium text-gray-900"},dt={class:"text-sm text-gray-500"},ut={class:"px-6 py-4 whitespace-nowrap"},mt={class:"flex items-center space-x-2"},gt={class:"text-sm text-gray-900"},pt={class:"text-sm text-gray-500"},xt={key:0,class:"ml-2"},yt={key:0,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800"},vt={key:1,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-600"},bt={class:"px-6 py-4 whitespace-nowrap"},ft={class:"text-sm font-semibold text-gray-900"},ht={class:"text-sm text-gray-500"},_t={class:"px-6 py-4 whitespace-nowrap"},wt={class:"px-6 py-4 whitespace-nowrap"},kt={class:"text-sm text-gray-900"},Ct={class:"text-sm text-gray-500"},Dt={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},Ft={class:"flex items-center space-x-2"},St=["onClick"],Et={key:0,class:"relative"},Ot=["onChange","value"],$t=["onClick"],At=["onClick"],It={class:"bg-white px-6 py-3 border-t border-gray-200 flex items-center justify-between"},Pt={class:"text-sm text-gray-700"},Lt={class:"font-medium"},Tt={class:"font-medium"},Mt={class:"font-medium"},Vt={class:"flex space-x-2"},Nt=["disabled"],Rt=["disabled"],jt={key:0,class:"fixed inset-0 bg-black/40 overflow-y-auto h-full w-full z-50"},Bt={class:"relative top-20 mx-auto p-5 border w-11/12 md:w-2/3 lg:w-1/2 shadow-lg rounded-xl bg-white"},Ut={class:"flex items-center justify-between mb-6"},zt={key:0,class:"space-y-6"},Jt={class:"grid grid-cols-2 gap-4"},qt={class:"text-sm text-gray-900"},Yt={class:"text-sm text-gray-900"},Gt={class:"text-sm text-gray-900 font-semibold"},Kt={class:"bg-gray-50 p-4 rounded-lg"},Ht={class:"grid grid-cols-2 gap-4"},Qt={class:"text-sm text-gray-900"},Wt={class:"text-sm text-gray-900"},Xt={class:"bg-gray-50 p-4 rounded-lg"},Zt={class:"text-sm text-gray-700"},es={class:"text-xs text-gray-500 mt-1"},ts={class:"mt-6 flex justify-end space-x-3"},os={__name:"Orders",setup(D){const{orders:I,products:P,orderStats:V,loading:F,loadStats:k,loadOrders:p,loadProducts:S,confirmOrder:L,cancelOrder:T,exportOrders:N}=Oe(),u=Se(),E=x(!1),c=x(null),g=x(1),f=x(10),h=x(!1),l=ce({search:"",status:"",product:"",startDate:"",endDate:""}),v=w(()=>{let a=I.value;if(l.search){const t=l.search.toLowerCase();a=a.filter(s=>s.order_number.toLowerCase().includes(t)||s.customer_name.toLowerCase().includes(t)||s.product_name.toLowerCase().includes(t))}return l.status&&(a=a.filter(t=>t.status===l.status)),l.product&&(a=a.filter(t=>t.product_name.includes(P.value.find(s=>s.id==l.product)?.name||""))),l.startDate&&(a=a.filter(t=>new Date(t.created_at)>=new Date(l.startDate))),l.endDate&&(a=a.filter(t=>new Date(t.created_at)<=new Date(l.endDate))),a}),R=w(()=>Math.ceil(v.value.length/f.value)),J=w(()=>{const a=(g.value-1)*f.value,t=a+f.value;return v.value.slice(a,t)}),q=w(()=>(g.value-1)*f.value+1),Y=w(()=>{const a=g.value*f.value;return Math.min(a,v.value.length)}),o=async()=>{g.value=1,await r()},r=async()=>{try{await p(l)}catch{u.error("Erreur lors du chargement des commandes")}},C=()=>{g.value>1&&g.value--},te=()=>{g.value<R.value&&g.value++},G=a=>({pending:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800",awaiting_payment:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",paid:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",shipping:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",fulfilled:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",cancelled:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-red-100 text-red-800",confirmed:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",completed:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800"})[a]||"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-gray-100 text-gray-800",K=a=>({pending:"En attente",awaiting_payment:"En attente de paiement",paid:"Payé",shipping:"En cours de livraison",fulfilled:"Livré",cancelled:"Annulé",confirmed:"Confirmé",completed:"Terminé"})[a]||a,H=a=>new Date(a).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"}),se=a=>new Date(a).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"}),ae=a=>{c.value=a,E.value=!0},M=()=>{E.value=!1,c.value=null},Q=async a=>{if(confirm(`Confirmer la commande ${a.order_number} ?`))try{await L(a),u.success("Commande confirmée avec succès !"),M(),await r()}catch{u.error("Erreur lors de la confirmation")}},oe=async a=>{if(confirm(`Annuler la commande ${a.order_number} ? Cette action est irréversible.`))try{await T(a),u.success("Commande annulée"),M(),await r()}catch{u.error("Erreur lors de l'annulation")}},re=async(a,t)=>{if(t===a.status)return;const s={paid:"payé",shipping:"en cours de livraison"};if(confirm(`Marquer la commande ${a.order_number} comme ${s[t]} ?`))try{await Ee(a.order_number,t,`Statut changé vers ${s[t]} par le marchand`),u.success(`Commande marquée comme ${s[t]}`),await r()}catch{u.error("Erreur lors du changement de statut")}},ne=async()=>{h.value=!0;try{await Promise.all([k(),r(),S()]),u.success("Commandes actualisées")}catch{u.error("Erreur lors de l'actualisation")}finally{h.value=!1}},le=async()=>{try{await N("csv"),u.success("Export des commandes démarré")}catch{u.error("Erreur lors de l'export des commandes")}};de(async()=>{try{await Promise.all([k(),p(),S()])}catch(a){console.error("Erreur lors du chargement initial:",a),u.error("Erreur lors du chargement des données")}});let W=null;ue(()=>l.search,a=>{clearTimeout(W),W=setTimeout(()=>{o()},500)});const ie=a=>({ShoppingBagIcon:z,CurrencyDollarIcon:De,ClockIcon:Ce,CheckIcon:ke})[a]||z;return(a,t)=>(i(),d("div",$e,[e("div",Ae,[t[7]||(t[7]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900"},"Mes Commandes"),e("p",{class:"mt-2 text-gray-600"},"Suivez et gérez toutes vos ventes de tickets de tombola")],-1)),e("div",Ie,[e("button",{onClick:ne,disabled:h.value,class:"inline-flex items-center px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors disabled:opacity-50"},[y(m(me),{class:$(["w-4 h-4 mr-2",{"animate-spin":h.value}])},null,8,["class"]),b(" "+n(h.value?"Actualisation...":"Actualiser"),1)],8,Pe),e("button",{onClick:le,class:"inline-flex items-center px-4 py-2 bg-[#0099cc] hover:bg-[#0088bb] text-white rounded-lg transition-colors"},[y(m(ge),{class:"w-4 h-4 mr-2"}),t[6]||(t[6]=b(" Exporter ",-1))])])]),e("div",Le,[(i(!0),d(j,null,B(m(V),s=>(i(),d("div",{key:s.label,class:"bg-white p-6 rounded-xl shadow-lg border border-gray-100"},[e("div",Te,[e("div",null,[e("p",Me,n(s.label),1),e("p",Ve,n(s.value),1)]),e("div",{class:$(["p-3 rounded-xl",s.color])},[(i(),Z(ee(ie(s.icon)),{class:"w-6 h-6 text-white"}))],2)]),e("div",Ne,[e("div",Re,[e("span",{class:$(["inline-flex items-center px-2 py-1 rounded-full font-medium",s.change>=0?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"])},[(i(),Z(ee(s.change>=0?m(ve):m(be)),{class:"w-3 h-3 mr-1"})),b(" "+n(Math.abs(s.change))+"% ",1)],2),t[8]||(t[8]=e("span",{class:"ml-2 text-gray-500"},"vs semaine dernière",-1))])])]))),128))]),e("div",je,[e("div",Be,[e("div",null,[t[9]||(t[9]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Rechercher",-1)),e("div",Ue,[y(m(pe),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),A(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>l.search=s),type:"text",placeholder:"ID, client, produit...",class:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#0099cc] focus:border-transparent text-black",onInput:o},null,544),[[U,l.search]])])]),e("div",null,[t[11]||(t[11]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Statut",-1)),A(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>l.status=s),onChange:o,class:"w-full py-2 px-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#0099cc] focus:border-transparent text-black"},t[10]||(t[10]=[xe('<option value="">Tous les statuts</option><option value="pending">En attente</option><option value="awaiting_payment">En attente de paiement</option><option value="paid">Payé</option><option value="shipping">En cours de livraison</option><option value="fulfilled">Livré</option><option value="cancelled">Annulé</option>',7)]),544),[[X,l.status]])]),e("div",null,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Produit",-1)),A(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>l.product=s),onChange:o,class:"w-full py-2 px-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#0099cc] focus:border-transparent text-black"},[t[12]||(t[12]=e("option",{value:""},"Tous les produits",-1)),(i(!0),d(j,null,B(m(P),s=>(i(),d("option",{key:s.id,value:s.id},n(s.name),9,ze))),128))],544),[[X,l.product]])]),e("div",null,[t[14]||(t[14]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Date début",-1)),A(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>l.startDate=s),type:"date",onChange:o,class:"w-full py-2 px-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#0099cc] focus:border-transparent text-black"},null,544),[[U,l.startDate]])]),e("div",null,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Date fin",-1)),A(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>l.endDate=s),type:"date",onChange:o,class:"w-full py-2 px-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#0099cc] focus:border-transparent text-black"},null,544),[[U,l.endDate]])])])]),e("div",Je,[t[25]||(t[25]=e("div",{class:"px-6 py-4 border-b border-gray-200 bg-gray-50"},[e("h3",{class:"text-lg font-semibold text-gray-900"},"Commandes récentes")],-1)),m(F)?(i(),d("div",qe,t[16]||(t[16]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#0099cc]"},null,-1)]))):v.value.length===0?(i(),d("div",Ye,[y(m(z),{class:"w-16 h-16 text-gray-400 mx-auto mb-4"}),t[17]||(t[17]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"Aucune commande",-1)),t[18]||(t[18]=e("p",{class:"text-gray-600"},"Aucune commande ne correspond à vos critères.",-1))])):(i(),d("div",Ge,[e("table",Ke,[t[20]||(t[20]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Commande "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Client "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Produit "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Tickets "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Montant "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Statut "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Date "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",He,[(i(!0),d(j,null,B(J.value,s=>(i(),d("tr",{key:s.id,class:"hover:bg-gray-50 transition-colors"},[e("td",Qe,[e("div",null,[e("div",We,"#"+n(s.order_number),1),e("div",Xe,n(s.payment_method),1)])]),e("td",Ze,[e("div",et,[e("div",tt,[y(m(fe),{class:"w-5 h-5 text-gray-600"})]),e("div",st,[e("div",at,n(s.customer_name),1),e("div",ot,n(s.customer_email),1)])])]),e("td",rt,[e("div",nt,[e("img",{class:"h-12 w-12 rounded-lg object-cover",src:s.product_image,alt:s.product_name},null,8,lt),e("div",it,[e("div",ct,n(s.product_name),1),e("div",dt,n((s.ticket_price||0).toLocaleString())+" FCFA/ticket",1)])])]),e("td",ut,[e("div",mt,[e("div",null,[e("div",gt,n(s.tickets_count||0)+" tickets",1),e("div",pt,n(s.tickets_count||0)+" ticket"+n((s.tickets_count||0)>1?"s":"")+" acheté"+n((s.tickets_count||0)>1?"s":""),1)]),s.type==="lottery"?(i(),d("div",xt,[s.has_winning_ticket?(i(),d("span",yt," 🏆 Gagnant ")):(i(),d("span",vt," Non gagnant "))])):_("",!0)])]),e("td",bt,[e("div",ft,n((s.total_amount||0).toLocaleString())+" FCFA",1),e("div",ht,n(s.currency),1)]),e("td",_t,[e("span",{class:$(G(s.status))},n(K(s.status)),3)]),e("td",wt,[e("div",kt,n(H(s.created_at)),1),e("div",Ct,n(se(s.created_at)),1)]),e("td",Dt,[e("div",Ft,[e("button",{onClick:O=>ae(s),class:"text-[#0099cc] hover:text-[#0088bb] transition-colors",title:"Voir détails"},[y(m(he),{class:"w-4 h-4"})],8,St),s.status==="paid"||s.status==="shipping"?(i(),d("div",Et,[e("select",{onChange:O=>re(s,O.target.value),class:"text-sm border border-gray-300 rounded px-2 py-1 bg-white",value:s.status},t[19]||(t[19]=[e("option",{value:"paid"},"Payé",-1),e("option",{value:"shipping"},"En cours de livraison",-1)]),40,Ot)])):_("",!0),s.status==="pending"?(i(),d("button",{key:1,onClick:O=>Q(s),class:"text-blue-600 hover:text-blue-800 transition-colors",title:"Confirmer"},[y(m(_e),{class:"w-4 h-4"})],8,$t)):_("",!0),["pending","confirmed"].includes(s.status)?(i(),d("button",{key:2,onClick:O=>oe(s),class:"text-red-600 hover:text-red-800 transition-colors",title:"Annuler"},[y(m(we),{class:"w-4 h-4"})],8,At)):_("",!0)])])]))),128))])])])),e("div",It,[e("div",Pt,[t[21]||(t[21]=b(" Affichage de ",-1)),e("span",Lt,n(q.value),1),t[22]||(t[22]=b(" à ",-1)),e("span",Tt,n(Y.value),1),t[23]||(t[23]=b(" sur ",-1)),e("span",Mt,n(v.value.length),1),t[24]||(t[24]=b(" résultats ",-1))]),e("div",Vt,[e("button",{onClick:C,disabled:g.value===1,class:"px-3 py-1 bg-gray-100 text-gray-600 rounded-md hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed"}," Précédent ",8,Nt),e("button",{onClick:te,disabled:g.value===R.value,class:"px-3 py-1 bg-gray-100 text-gray-600 rounded-md hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed"}," Suivant ",8,Rt)])])]),E.value?(i(),d("div",jt,[e("div",Bt,[e("div",Ut,[t[26]||(t[26]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Détails de la commande",-1)),e("button",{onClick:M,class:"text-gray-400 hover:text-gray-600"},[y(m(ye),{class:"w-6 h-6"})])]),c.value?(i(),d("div",zt,[e("div",Jt,[e("div",null,[t[27]||(t[27]=e("label",{class:"block text-sm font-medium text-gray-700"},"N° de commande",-1)),e("p",qt,n(c.value.order_number),1)]),e("div",null,[t[28]||(t[28]=e("label",{class:"block text-sm font-medium text-gray-700"},"Date",-1)),e("p",Yt,n(H(c.value.created_at)),1)]),e("div",null,[t[29]||(t[29]=e("label",{class:"block text-sm font-medium text-gray-700"},"Statut",-1)),e("span",{class:$(G(c.value.status))},n(K(c.value.status)),3)]),e("div",null,[t[30]||(t[30]=e("label",{class:"block text-sm font-medium text-gray-700"},"Montant",-1)),e("p",Gt,n((c.value.total_amount||0).toLocaleString())+" FCFA",1)])]),e("div",null,[t[33]||(t[33]=e("h4",{class:"text-md font-semibold text-gray-900 mb-3"},"Informations client",-1)),e("div",Kt,[e("div",Ht,[e("div",null,[t[31]||(t[31]=e("label",{class:"block text-sm font-medium text-gray-700"},"Nom",-1)),e("p",Qt,n(c.value.customer_name),1)]),e("div",null,[t[32]||(t[32]=e("label",{class:"block text-sm font-medium text-gray-700"},"Email",-1)),e("p",Wt,n(c.value.customer_email),1)])])])]),e("div",null,[t[34]||(t[34]=e("h4",{class:"text-md font-semibold text-gray-900 mb-3"},"Tickets achetés",-1)),e("div",Xt,[e("p",Zt,[e("strong",null,n(c.value.tickets_count||0)+" ticket"+n((c.value.tickets_count||0)>1?"s":""),1),b(" acheté"+n((c.value.tickets_count||0)>1?"s":"")+" pour "+n(c.value.product_name||"Produit inconnu"),1)]),e("p",es," Prix unitaire : "+n((c.value.ticket_price||0).toLocaleString())+" FCFA/ticket ",1)])])])):_("",!0),e("div",ts,[e("button",{onClick:M,class:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300"}," Fermer "),c.value?.status==="pending"?(i(),d("button",{key:0,onClick:t[5]||(t[5]=s=>Q(c.value)),class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700"}," Confirmer la commande ")):_("",!0)])])])):_("",!0)]))}};export{os as default};
