import{r as y,c as w,O as ue,j as me,P as ge,b as c,e,l as _,g as x,i as b,v as $,u,aD as pe,t as r,aF as xe,F as j,y as B,U as A,M as ye,V as U,$ as Z,f as ve,E as z,aj as be,o as i,z as ee,N as te,aJ as fe,aK as he,s as _e,Y as we,a1 as se,ag as ke,al as Ce,a7 as De,I as Fe}from"./vendor-jx2CZFIM.js";import{u as Se,a as Ee,f as Oe}from"./app-Bddx-SSr.js";function $e(){const{get:F,put:I,loading:L,error:V}=Se(),S=y([]),k=y([]),p=y([{label:"Total commandes",value:"0",change:0,color:"bg-blue-500",icon:"ShoppingBagIcon"},{label:"Revenus total",value:"0 FCFA",change:0,color:"bg-green-500",icon:"CurrencyDollarIcon"},{label:"En attente",value:"0",change:0,color:"bg-yellow-500",icon:"ClockIcon"},{label:"Terminées",value:"0",change:0,color:"bg-green-500",icon:"CheckIcon"}]),E=y([]),P=y([]),M=async()=>{try{const o=await F("/stats/merchant/orders");if(o&&o.success){const n=o.data.stats;p.value=[{label:"Total commandes",value:n.total_orders.toString(),change:n.total_orders_change||0,color:"bg-blue-500",icon:"ShoppingBagIcon"},{label:"Revenus total",value:v(n.total_revenue),change:n.revenue_change||0,color:"bg-green-500",icon:"CurrencyDollarIcon"},{label:"En attente",value:n.pending_orders.toString(),change:n.pending_change||0,color:"bg-yellow-500",icon:"ClockIcon"},{label:"Terminées",value:n.paid_orders.toString(),change:n.paid_change||0,color:"bg-green-500",icon:"CheckIcon"}],E.value=o.data.recent_orders||[],P.value=o.data.monthly_revenue||[]}}catch(o){console.error("Erreur lors du chargement des statistiques de commandes:",o)}},N=async(o={})=>{try{const n={page:1,per_page:50,...o},C=await F("/merchant/orders",{params:n});C&&C.success&&(S.value=C.data||[])}catch(n){console.error("Erreur lors du chargement des commandes:",n),S.value=[]}},m=async()=>{try{const o=await F("/merchant/products",{params:{per_page:100}});o&&o.success&&(k.value=o.data.data||o.data||[])}catch(o){console.error("Erreur lors du chargement des produits:",o),k.value=[]}},O=async o=>{try{return await I(`/orders/${o.order_number}/confirm`)}catch(n){throw console.error("Erreur lors de la confirmation:",n),n}},d=async o=>{try{return await I(`/orders/${o.order_number}/cancel`)}catch(n){throw console.error("Erreur lors de l'annulation:",n),n}},g=async(o="csv")=>{try{return await F(`/merchant/orders/export?format=${o}`)}catch(n){throw console.error("Erreur lors de l'export:",n),n}},f=w(()=>[{label:"Total commandes",value:p.value[0]?.value||"0",color:"bg-blue-500",icon:"ShoppingBagIcon"},{label:"Revenus total",value:p.value[1]?.value||"0 FCFA",color:"bg-green-500",icon:"CurrencyDollarIcon"},{label:"En attente",value:p.value[2]?.value||"0",color:"bg-yellow-500",icon:"ClockIcon"},{label:"Terminées",value:p.value[3]?.value||"0",color:"bg-green-500",icon:"CheckIcon"}]),h=w(()=>[{name:"Payées",value:parseInt(p.value[3]?.value||"0"),color:"#10B981"},{name:"En attente",value:parseInt(p.value[2]?.value||"0"),color:"#F59E0B"},{name:"Annulées",value:0,color:"#EF4444"}]),l=M,v=o=>{const n=parseFloat(o)||0;return n>=1e6?(n/1e6).toFixed(1)+"M FCFA":n>=1e3?(n/1e3).toFixed(0)+"k FCFA":n.toLocaleString("fr-FR")+" FCFA"};return{orders:S,products:k,orderStats:p,stats:f,recentOrders:E,monthlyRevenue:P,statusDistribution:h,loading:L,error:V,loadStats:M,loadOrders:N,loadProducts:m,loadOrderStats:l,confirmOrder:O,cancelOrder:d,exportOrders:g,formatCurrency:v,formatDate:o=>new Intl.DateTimeFormat("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(o)),getStatusLabel:o=>({paid:"Payée",pending:"En attente",cancelled:"Annulée",failed:"Échouée",refunded:"Remboursée"})[o]||o,getStatusColor:o=>({paid:"bg-green-100 text-green-800",pending:"bg-yellow-100 text-yellow-800",cancelled:"bg-red-100 text-red-800",failed:"bg-red-100 text-red-800",refunded:"bg-gray-100 text-gray-800"})[o]||"bg-gray-100 text-gray-800",formatMonthYear:(o,n)=>`${["Jan","Fév","Mar","Avr","Mai","Jun","Jul","Aoû","Sep","Oct","Nov","Déc"][o-1]} ${n}`}}const Ae={class:"space-y-6"},Ie={class:"flex items-center justify-between"},Le={class:"flex space-x-3"},Pe=["disabled"],Me={class:"grid grid-cols-1 md:grid-cols-4 gap-6"},Te={class:"flex items-center justify-between"},Ve={class:"text-sm font-medium text-gray-600"},Ne={class:"text-2xl font-bold text-gray-900 mt-1"},Re={class:"mt-4 pt-4 border-t border-gray-100"},je={class:"flex items-center text-xs"},Be={class:"bg-white rounded-xl shadow-lg border border-gray-100 p-6"},Ue={class:"grid grid-cols-1 md:grid-cols-5 gap-4"},ze={class:"relative"},qe=["value"],Je={class:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden"},Ye={key:0,class:"flex justify-center py-12"},Ge={key:1,class:"text-center py-12"},Ke={key:2,class:"overflow-x-auto"},He={class:"min-w-full"},Qe={class:"bg-white divide-y divide-gray-200"},We={class:"px-6 py-4 whitespace-nowrap"},Xe={class:"text-sm font-medium text-gray-900"},Ze={class:"text-sm text-gray-500"},et={class:"px-6 py-4 whitespace-nowrap"},tt={class:"flex items-center"},st={class:"w-10 h-10 bg-gray-300 rounded-full flex items-center justify-center"},at={class:"ml-3"},ot={class:"text-sm font-medium text-gray-900"},nt={class:"text-sm text-gray-500"},rt={class:"px-6 py-4 whitespace-nowrap"},lt={class:"flex items-center"},it=["src","alt"],ct={class:"ml-3"},dt={class:"text-sm font-medium text-gray-900"},ut={class:"text-sm text-gray-500"},mt={class:"px-6 py-4 whitespace-nowrap"},gt={class:"flex items-center space-x-2"},pt={class:"text-sm text-gray-900"},xt={class:"text-sm text-gray-500"},yt={key:0,class:"ml-2"},vt={key:0,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800"},bt={key:1,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-600"},ft={class:"px-6 py-4 whitespace-nowrap"},ht={class:"text-sm font-semibold text-gray-900"},_t={class:"text-sm text-gray-500"},wt={class:"px-6 py-4 whitespace-nowrap"},kt={class:"px-6 py-4 whitespace-nowrap"},Ct={class:"text-sm text-gray-900"},Dt={class:"text-sm text-gray-500"},Ft={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},St={class:"flex items-center space-x-2"},Et=["onClick"],Ot={key:0,class:"relative"},$t=["onChange","value"],At=["onClick"],It=["onClick"],Lt=["onClick"],Pt={class:"bg-white px-6 py-3 border-t border-gray-200 flex items-center justify-between"},Mt={class:"text-sm text-gray-700"},Tt={class:"font-medium"},Vt={class:"font-medium"},Nt={class:"font-medium"},Rt={class:"flex space-x-2"},jt=["disabled"],Bt=["disabled"],Ut={key:0,class:"fixed inset-0 bg-black/40 overflow-y-auto h-full w-full z-50"},zt={class:"relative top-20 mx-auto p-5 border w-11/12 md:w-2/3 lg:w-1/2 shadow-lg rounded-xl bg-white"},qt={class:"flex items-center justify-between mb-6"},Jt={key:0,class:"space-y-6"},Yt={class:"grid grid-cols-2 gap-4"},Gt={class:"text-sm text-gray-900"},Kt={class:"text-sm text-gray-900"},Ht={class:"text-sm text-gray-900 font-semibold"},Qt={class:"bg-gray-50 p-4 rounded-lg"},Wt={class:"grid grid-cols-2 gap-4"},Xt={class:"text-sm text-gray-900"},Zt={class:"text-sm text-gray-900"},es={class:"bg-gray-50 p-4 rounded-lg"},ts={class:"text-sm text-gray-700"},ss={class:"text-xs text-gray-500 mt-1"},as={class:"mt-6 flex justify-end space-x-3"},rs={__name:"Orders",setup(F){const{orders:I,products:L,orderStats:V,loading:S,loadStats:k,loadOrders:p,loadProducts:E,confirmOrder:P,cancelOrder:M,exportOrders:N}=$e(),m=Ee(),O=y(!1),d=y(null),g=y(1),f=y(10),h=y(!1),l=ue({search:"",status:"",product:"",startDate:"",endDate:""}),v=w(()=>{let a=I.value;if(l.search){const t=l.search.toLowerCase();a=a.filter(s=>s.order_number.toLowerCase().includes(t)||s.customer_name.toLowerCase().includes(t)||s.product_name.toLowerCase().includes(t))}return l.status&&(a=a.filter(t=>t.status===l.status)),l.product&&(a=a.filter(t=>t.product_name.includes(L.value.find(s=>s.id==l.product)?.name||""))),l.startDate&&(a=a.filter(t=>new Date(t.created_at)>=new Date(l.startDate))),l.endDate&&(a=a.filter(t=>new Date(t.created_at)<=new Date(l.endDate))),a}),R=w(()=>Math.ceil(v.value.length/f.value)),q=w(()=>{const a=(g.value-1)*f.value,t=a+f.value;return v.value.slice(a,t)}),J=w(()=>(g.value-1)*f.value+1),Y=w(()=>{const a=g.value*f.value;return Math.min(a,v.value.length)}),o=async()=>{g.value=1,await n()},n=async()=>{try{await p(l)}catch{m.error("Erreur lors du chargement des commandes")}},C=()=>{g.value>1&&g.value--},ae=()=>{g.value<R.value&&g.value++},G=a=>({pending:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800",awaiting_payment:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",paid:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",shipping:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",fulfilled:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",cancelled:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-red-100 text-red-800",confirmed:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",completed:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800"})[a]||"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-gray-100 text-gray-800",K=a=>({pending:"En attente",awaiting_payment:"En attente de paiement",paid:"Payé",shipping:"En cours de livraison",fulfilled:"Livré",cancelled:"Annulé",confirmed:"Confirmé",completed:"Terminé"})[a]||a,H=a=>new Date(a).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"}),oe=a=>new Date(a).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"}),ne=a=>{d.value=a,O.value=!0},T=()=>{O.value=!1,d.value=null},Q=async a=>{if(confirm(`Confirmer la commande ${a.order_number} ?`))try{await P(a),m.success("Commande confirmée avec succès !"),T(),await n()}catch{m.error("Erreur lors de la confirmation")}},re=async a=>{if(confirm(`Annuler la commande ${a.order_number} ? Cette action est irréversible.`))try{await M(a),m.success("Commande annulée"),T(),await n()}catch{m.error("Erreur lors de l'annulation")}},W=async(a,t)=>{if(t===a.status)return;const s={paid:"payé",shipping:"en cours de livraison",fulfilled:"livré"};if(confirm(`Marquer la commande ${a.order_number} comme ${s[t]} ?`))try{await Oe(a.order_number,t,`Statut changé vers ${s[t]} par le marchand`),m.success(`Commande marquée comme ${s[t]}`),await n()}catch{m.error("Erreur lors du changement de statut")}},le=async a=>{await W(a,"fulfilled")},ie=async()=>{h.value=!0;try{await Promise.all([k(),n(),E()]),m.success("Commandes actualisées")}catch{m.error("Erreur lors de l'actualisation")}finally{h.value=!1}},ce=async()=>{try{await N("csv"),m.success("Export des commandes démarré")}catch{m.error("Erreur lors de l'export des commandes")}};me(async()=>{try{await Promise.all([k(),p(),E()])}catch(a){console.error("Erreur lors du chargement initial:",a),m.error("Erreur lors du chargement des données")}});let X=null;ge(()=>l.search,a=>{clearTimeout(X),X=setTimeout(()=>{o()},500)});const de=a=>({ShoppingBagIcon:z,CurrencyDollarIcon:Fe,ClockIcon:De,CheckIcon:Ce})[a]||z;return(a,t)=>(i(),c("div",Ae,[e("div",Ie,[t[7]||(t[7]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900"},"Mes Commandes"),e("p",{class:"mt-2 text-gray-600"},"Suivez et gérez toutes vos ventes de tickets de tombola")],-1)),e("div",Le,[e("button",{onClick:ie,disabled:h.value,class:"inline-flex items-center px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors disabled:opacity-50"},[x(u(pe),{class:$(["w-4 h-4 mr-2",{"animate-spin":h.value}])},null,8,["class"]),b(" "+r(h.value?"Actualisation...":"Actualiser"),1)],8,Pe),e("button",{onClick:ce,class:"inline-flex items-center px-4 py-2 bg-[#0099cc] hover:bg-[#0088bb] text-white rounded-lg transition-colors"},[x(u(xe),{class:"w-4 h-4 mr-2"}),t[6]||(t[6]=b(" Exporter ",-1))])])]),e("div",Me,[(i(!0),c(j,null,B(u(V),s=>(i(),c("div",{key:s.label,class:"bg-white p-6 rounded-xl shadow-lg border border-gray-100"},[e("div",Te,[e("div",null,[e("p",Ve,r(s.label),1),e("p",Ne,r(s.value),1)]),e("div",{class:$(["p-3 rounded-xl",s.color])},[(i(),ee(te(de(s.icon)),{class:"w-6 h-6 text-white"}))],2)]),e("div",Re,[e("div",je,[e("span",{class:$(["inline-flex items-center px-2 py-1 rounded-full font-medium",s.change>=0?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"])},[(i(),ee(te(s.change>=0?u(fe):u(he)),{class:"w-3 h-3 mr-1"})),b(" "+r(Math.abs(s.change))+"% ",1)],2),t[8]||(t[8]=e("span",{class:"ml-2 text-gray-500"},"vs semaine dernière",-1))])])]))),128))]),e("div",Be,[e("div",Ue,[e("div",null,[t[9]||(t[9]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Rechercher",-1)),e("div",ze,[x(u(ye),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),A(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>l.search=s),type:"text",placeholder:"ID, client, produit...",class:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#0099cc] focus:border-transparent text-black",onInput:o},null,544),[[U,l.search]])])]),e("div",null,[t[11]||(t[11]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Statut",-1)),A(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>l.status=s),onChange:o,class:"w-full py-2 px-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#0099cc] focus:border-transparent text-black"},t[10]||(t[10]=[ve('<option value="">Tous les statuts</option><option value="pending">En attente</option><option value="awaiting_payment">En attente de paiement</option><option value="paid">Payé</option><option value="shipping">En cours de livraison</option><option value="fulfilled">Livré</option><option value="cancelled">Annulé</option>',7)]),544),[[Z,l.status]])]),e("div",null,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Produit",-1)),A(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>l.product=s),onChange:o,class:"w-full py-2 px-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#0099cc] focus:border-transparent text-black"},[t[12]||(t[12]=e("option",{value:""},"Tous les produits",-1)),(i(!0),c(j,null,B(u(L),s=>(i(),c("option",{key:s.id,value:s.id},r(s.name),9,qe))),128))],544),[[Z,l.product]])]),e("div",null,[t[14]||(t[14]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Date début",-1)),A(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>l.startDate=s),type:"date",onChange:o,class:"w-full py-2 px-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#0099cc] focus:border-transparent text-black"},null,544),[[U,l.startDate]])]),e("div",null,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Date fin",-1)),A(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>l.endDate=s),type:"date",onChange:o,class:"w-full py-2 px-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#0099cc] focus:border-transparent text-black"},null,544),[[U,l.endDate]])])])]),e("div",Je,[t[25]||(t[25]=e("div",{class:"px-6 py-4 border-b border-gray-200 bg-gray-50"},[e("h3",{class:"text-lg font-semibold text-gray-900"},"Commandes récentes")],-1)),u(S)?(i(),c("div",Ye,t[16]||(t[16]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#0099cc]"},null,-1)]))):v.value.length===0?(i(),c("div",Ge,[x(u(z),{class:"w-16 h-16 text-gray-400 mx-auto mb-4"}),t[17]||(t[17]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"Aucune commande",-1)),t[18]||(t[18]=e("p",{class:"text-gray-600"},"Aucune commande ne correspond à vos critères.",-1))])):(i(),c("div",Ke,[e("table",He,[t[20]||(t[20]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Commande "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Client "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Produit "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Tickets "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Montant "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Statut "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Date "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",Qe,[(i(!0),c(j,null,B(q.value,s=>(i(),c("tr",{key:s.id,class:"hover:bg-gray-50 transition-colors"},[e("td",We,[e("div",null,[e("div",Xe,"#"+r(s.order_number),1),e("div",Ze,r(s.payment_method),1)])]),e("td",et,[e("div",tt,[e("div",st,[x(u(_e),{class:"w-5 h-5 text-gray-600"})]),e("div",at,[e("div",ot,r(s.customer_name),1),e("div",nt,r(s.customer_email),1)])])]),e("td",rt,[e("div",lt,[e("img",{class:"h-12 w-12 rounded-lg object-cover",src:s.product_image,alt:s.product_name},null,8,it),e("div",ct,[e("div",dt,r(s.product_name),1),e("div",ut,r((s.ticket_price||0).toLocaleString())+" FCFA/ticket",1)])])]),e("td",mt,[e("div",gt,[e("div",null,[e("div",pt,r(s.tickets_count||0)+" tickets",1),e("div",xt,r(s.tickets_count||0)+" ticket"+r((s.tickets_count||0)>1?"s":"")+" acheté"+r((s.tickets_count||0)>1?"s":""),1)]),s.type==="lottery"?(i(),c("div",yt,[s.has_winning_ticket?(i(),c("span",vt," 🏆 Gagnant ")):(i(),c("span",bt," Non gagnant "))])):_("",!0)])]),e("td",ft,[e("div",ht,r((s.total_amount||0).toLocaleString())+" FCFA",1),e("div",_t,r(s.currency),1)]),e("td",wt,[e("span",{class:$(G(s.status))},r(K(s.status)),3)]),e("td",kt,[e("div",Ct,r(H(s.created_at)),1),e("div",Dt,r(oe(s.created_at)),1)]),e("td",Ft,[e("div",St,[e("button",{onClick:D=>ne(s),class:"text-[#0099cc] hover:text-[#0088bb] transition-colors",title:"Voir détails"},[x(u(we),{class:"w-4 h-4"})],8,Et),s.status==="paid"?(i(),c("div",Ot,[e("select",{onChange:D=>W(s,D.target.value),class:"text-sm border border-gray-300 rounded px-2 py-1 bg-white",value:s.status},t[19]||(t[19]=[e("option",{value:"paid"},"Payé",-1),e("option",{value:"shipping"},"En cours de livraison",-1),e("option",{value:"fulfilled"},"Livré",-1)]),40,$t)])):s.status==="shipping"?(i(),c("button",{key:1,onClick:D=>le(s),class:"text-green-600 hover:text-green-800 transition-colors",title:"Marquer comme livré"},[x(u(se),{class:"w-4 h-4"})],8,At)):_("",!0),s.status==="pending"?(i(),c("button",{key:2,onClick:D=>Q(s),class:"text-blue-600 hover:text-blue-800 transition-colors",title:"Confirmer"},[x(u(se),{class:"w-4 h-4"})],8,It)):_("",!0),["pending","confirmed"].includes(s.status)?(i(),c("button",{key:3,onClick:D=>re(s),class:"text-red-600 hover:text-red-800 transition-colors",title:"Annuler"},[x(u(ke),{class:"w-4 h-4"})],8,Lt)):_("",!0)])])]))),128))])])])),e("div",Pt,[e("div",Mt,[t[21]||(t[21]=b(" Affichage de ",-1)),e("span",Tt,r(J.value),1),t[22]||(t[22]=b(" à ",-1)),e("span",Vt,r(Y.value),1),t[23]||(t[23]=b(" sur ",-1)),e("span",Nt,r(v.value.length),1),t[24]||(t[24]=b(" résultats ",-1))]),e("div",Rt,[e("button",{onClick:C,disabled:g.value===1,class:"px-3 py-1 bg-gray-100 text-gray-600 rounded-md hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed"}," Précédent ",8,jt),e("button",{onClick:ae,disabled:g.value===R.value,class:"px-3 py-1 bg-gray-100 text-gray-600 rounded-md hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed"}," Suivant ",8,Bt)])])]),O.value?(i(),c("div",Ut,[e("div",zt,[e("div",qt,[t[26]||(t[26]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Détails de la commande",-1)),e("button",{onClick:T,class:"text-gray-400 hover:text-gray-600"},[x(u(be),{class:"w-6 h-6"})])]),d.value?(i(),c("div",Jt,[e("div",Yt,[e("div",null,[t[27]||(t[27]=e("label",{class:"block text-sm font-medium text-gray-700"},"N° de commande",-1)),e("p",Gt,r(d.value.order_number),1)]),e("div",null,[t[28]||(t[28]=e("label",{class:"block text-sm font-medium text-gray-700"},"Date",-1)),e("p",Kt,r(H(d.value.created_at)),1)]),e("div",null,[t[29]||(t[29]=e("label",{class:"block text-sm font-medium text-gray-700"},"Statut",-1)),e("span",{class:$(G(d.value.status))},r(K(d.value.status)),3)]),e("div",null,[t[30]||(t[30]=e("label",{class:"block text-sm font-medium text-gray-700"},"Montant",-1)),e("p",Ht,r((d.value.total_amount||0).toLocaleString())+" FCFA",1)])]),e("div",null,[t[33]||(t[33]=e("h4",{class:"text-md font-semibold text-gray-900 mb-3"},"Informations client",-1)),e("div",Qt,[e("div",Wt,[e("div",null,[t[31]||(t[31]=e("label",{class:"block text-sm font-medium text-gray-700"},"Nom",-1)),e("p",Xt,r(d.value.customer_name),1)]),e("div",null,[t[32]||(t[32]=e("label",{class:"block text-sm font-medium text-gray-700"},"Email",-1)),e("p",Zt,r(d.value.customer_email),1)])])])]),e("div",null,[t[34]||(t[34]=e("h4",{class:"text-md font-semibold text-gray-900 mb-3"},"Tickets achetés",-1)),e("div",es,[e("p",ts,[e("strong",null,r(d.value.tickets_count||0)+" ticket"+r((d.value.tickets_count||0)>1?"s":""),1),b(" acheté"+r((d.value.tickets_count||0)>1?"s":"")+" pour "+r(d.value.product_name||"Produit inconnu"),1)]),e("p",ss," Prix unitaire : "+r((d.value.ticket_price||0).toLocaleString())+" FCFA/ticket ",1)])])])):_("",!0),e("div",as,[e("button",{onClick:T,class:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300"}," Fermer "),d.value?.status==="pending"?(i(),c("button",{key:0,onClick:t[5]||(t[5]=s=>Q(d.value)),class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700"}," Confirmer la commande ")):_("",!0)])])])):_("",!0)]))}};export{rs as default};
