import{a as A,f as k,j as D,d as p,e as E,k as B,l as L,m as N,n as q}from"./app-DxSFvWpu.js";import{r as i,g as z,b as n,e,i as l,w as u,k as T,F as x,n as h,u as d,t as a,o as r,q as m,p as C,v as P,l as v}from"./vendor-zwIjsTu0.js";const R={class:"space-y-6"},G={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8"},M={class:"flex items-center"},I={class:"flex items-center"},H={class:"flex items-center"},J={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},K={class:"flex items-center justify-between"},Q={class:"text-sm font-medium text-gray-600"},U={class:"text-3xl font-bold text-gray-900 mt-2"},W={class:"mt-4 pt-4 border-t border-gray-100"},X={class:"flex items-center text-sm"},Y={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},Z={class:"lg:col-span-2 bg-white p-6 rounded-xl shadow-lg border border-gray-100"},ee={class:"flex items-center justify-between mb-6"},te={class:"flex space-x-2"},se=["onClick"],oe={class:"h-64 bg-gradient-to-br from-[#0099cc]/10 to-cyan-100 rounded-lg flex items-center justify-center"},ae={class:"text-center"},le={class:"text-gray-400 text-sm"},re={class:"mt-6 grid grid-cols-3 gap-4"},ne={class:"text-center"},de={class:"text-2xl font-bold text-[#0099cc]"},ce={class:"text-center"},ie={class:"text-2xl font-bold text-blue-600"},ue={class:"text-center"},me={class:"text-2xl font-bold text-purple-600"},ge={class:"space-y-6"},xe={class:"bg-white p-6 rounded-xl shadow-lg border border-gray-100"},he={class:"flex items-center justify-between mb-4"},_e={class:"space-y-3"},be={class:"flex items-center space-x-3"},pe={class:"w-10 h-10 bg-[#0099cc]/10 rounded-full flex items-center justify-center"},ve={class:"font-medium text-gray-900"},fe={class:"text-sm text-gray-500"},ye={class:"text-right"},we={class:"font-semibold text-gray-900"},je={class:"bg-white p-6 rounded-xl shadow-lg border border-gray-100"},ke={class:"flex items-center justify-between mb-4"},Ce={class:"space-y-3"},Pe={class:"flex-shrink-0 w-6 h-6 bg-[#0099cc] text-white text-xs font-bold rounded-full flex items-center justify-center"},Se=["src","alt"],Fe={class:"flex-1 min-w-0"},Ve={class:"font-medium text-gray-900 truncate"},$e={class:"flex items-center space-x-2 text-sm text-gray-500"},Ee={__name:"Dashboard",setup(Oe){const{get:_}=A(),b=i("30j"),f=i([]),g=i({}),y=i([]),w=i([]),S=async()=>{try{const o=await _("/merchant/dashboard/stats");if(o&&o.data){const t=o.data;f.value=[{label:"Revenus du mois",value:$(t.monthly_revenue||0),change:t.revenue_change||0,icon:D,color:"bg-[#0099cc]"},{label:"Commandes",value:t.total_orders||0,change:t.orders_change||0,icon:p,color:"bg-blue-500"},{label:"Produits actifs",value:t.active_products||0,change:t.products_change||0,icon:E,color:"bg-yellow-500"},{label:"Clients",value:t.total_customers||0,change:t.customers_change||0,icon:B,color:"bg-purple-500"}],g.value={totalSales:t.total_sales||0,totalOrders:t.total_orders||0,avgOrder:t.average_order||0}}}catch(o){console.error("Erreur lors du chargement des statistiques:",o)}},F=async()=>{try{const o=await _("/merchant/dashboard/recent-transactions");o&&o.data&&(y.value=o.data.map(t=>({id:t.id,product_name:t.product?.name||"Produit inconnu",customer_name:t.user?.first_name+" "+t.user?.last_name||"Client inconnu",amount:t.amount||0,status:t.status||"pending",created_at:new Date(t.created_at)})))}catch(o){console.error("Erreur lors du chargement des commandes récentes:",o)}},V=async()=>{try{const o=await _("/merchant/dashboard/top-products");o&&o.data&&(w.value=o.data.map(t=>({id:t.id,name:t.name,sales:t.sales_count||0,growth:t.growth_percentage||0,image:t.image||"/images/products/placeholder.jpg"})))}catch(o){console.error("Erreur lors du chargement des produits populaires:",o)}},$=o=>new Intl.NumberFormat("fr-FR").format(o),O=o=>({completed:"Terminé",pending:"En attente",processing:"En cours",cancelled:"Annulé"})[o]||o;return z(async()=>{await Promise.all([S(),F(),V()])}),(o,t)=>{const c=T("router-link");return r(),n("div",R,[t[13]||(t[13]=e("div",{class:"mb-8"},[e("h1",{class:"text-3xl font-bold text-gray-900"},"Tableau de Bord Vendeur"),e("p",{class:"mt-2 text-gray-600"},"Suivez vos ventes, gérez vos produits et analysez vos performances")],-1)),e("div",G,[l(c,{to:"/merchant/products/create",class:"bg-gradient-to-r from-[#0099cc] to-[#0088bb] text-white p-6 rounded-xl hover:scale-105 transition-all duration-200 shadow-lg hover:shadow-xl"},{default:u(()=>[e("div",M,[l(d(L),{class:"w-8 h-8 mr-4"}),t[0]||(t[0]=e("div",null,[e("h3",{class:"text-lg font-semibold"},"Nouveau Produit"),e("p",{class:"text-blue-100 text-sm"},"Publier un produit")],-1))])]),_:1}),l(c,{to:"/merchant/orders",class:"bg-gradient-to-r from-blue-500 to-blue-600 text-white p-6 rounded-xl hover:scale-105 transition-all duration-200 shadow-lg hover:shadow-xl"},{default:u(()=>[e("div",I,[l(d(p),{class:"w-8 h-8 mr-4"}),t[1]||(t[1]=e("div",null,[e("h3",{class:"text-lg font-semibold"},"Commandes"),e("p",{class:"text-blue-100 text-sm"},"Suivre les ventes")],-1))])]),_:1}),l(c,{to:"/merchant/analytics",class:"bg-gradient-to-r from-purple-500 to-purple-600 text-white p-6 rounded-xl hover:scale-105 transition-all duration-200 shadow-lg hover:shadow-xl"},{default:u(()=>[e("div",H,[l(d(k),{class:"w-8 h-8 mr-4"}),t[2]||(t[2]=e("div",null,[e("h3",{class:"text-lg font-semibold"},"Analytiques"),e("p",{class:"text-purple-100 text-sm"},"Voir les stats")],-1))])]),_:1})]),e("div",J,[(r(!0),n(x,null,h(f.value,s=>(r(),n("div",{key:s.label,class:"bg-white p-6 rounded-xl shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-200"},[e("div",K,[e("div",null,[e("p",Q,a(s.label),1),e("p",U,a(s.value),1)]),e("div",{class:m(["p-4 rounded-xl",s.color])},[(r(),C(P(s.icon),{class:"w-8 h-8 text-white"}))],2)]),e("div",W,[e("div",X,[e("span",{class:m(["font-medium flex items-center px-2 py-1 rounded-full text-xs",s.change>=0?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"])},[(r(),C(P(s.change>=0?d(N):d(q)),{class:"w-3 h-3 mr-1"})),v(" "+a(Math.abs(s.change))+"% ",1)],2),t[3]||(t[3]=e("span",{class:"ml-2 text-gray-500"},"vs mois dernier",-1))])])]))),128))]),e("div",Y,[e("div",Z,[e("div",ee,[t[4]||(t[4]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Évolution des Ventes",-1)),e("div",te,[(r(),n(x,null,h(["7j","30j","90j"],s=>e("button",{key:s,onClick:j=>b.value=s,class:m(["px-3 py-1 rounded-lg text-sm font-medium transition-all",b.value===s?"bg-[#0099cc] text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"])},a(s),11,se)),64))])]),e("div",oe,[e("div",ae,[l(d(k),{class:"w-16 h-16 text-[#0099cc] mx-auto mb-4"}),t[5]||(t[5]=e("p",{class:"text-gray-600 font-medium"},"Graphique des ventes",-1)),e("p",le,"Données des derniers "+a(b.value),1)])]),e("div",re,[e("div",ne,[e("p",de,a(g.value.totalSales.toLocaleString()),1),t[6]||(t[6]=e("p",{class:"text-sm text-gray-600"},"Ventes totales (FCFA)",-1))]),e("div",ce,[e("p",ie,a(g.value.totalOrders),1),t[7]||(t[7]=e("p",{class:"text-sm text-gray-600"},"Commandes",-1))]),e("div",ue,[e("p",me,a(g.value.avgOrder.toLocaleString()),1),t[8]||(t[8]=e("p",{class:"text-sm text-gray-600"},"Panier moyen (FCFA)",-1))])])]),e("div",ge,[e("div",xe,[e("div",he,[t[10]||(t[10]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Commandes récentes",-1)),l(c,{to:"/merchant/orders",class:"text-[#0099cc] hover:text-[#0088bb] text-sm font-medium"},{default:u(()=>t[9]||(t[9]=[v(" Voir tout → ",-1)])),_:1,__:[9]})]),e("div",_e,[(r(!0),n(x,null,h(y.value,s=>(r(),n("div",{key:s.id,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors"},[e("div",be,[e("div",pe,[l(d(p),{class:"w-5 h-5 text-[#0099cc]"})]),e("div",null,[e("p",ve,a(s.product_name),1),e("p",fe,a(s.customer_name),1)])]),e("div",ye,[e("p",we,a(s.amount.toLocaleString())+" FCFA",1),e("span",{class:m(["inline-block px-2 py-1 text-xs font-medium rounded-full",s.status==="completed"?"bg-blue-100 text-blue-800":s.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"])},a(O(s.status)),3)])]))),128))])]),e("div",je,[e("div",ke,[t[12]||(t[12]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Produits populaires",-1)),l(c,{to:"/merchant/products",class:"text-[#0099cc] hover:text-[#0088bb] text-sm font-medium"},{default:u(()=>t[11]||(t[11]=[v(" Gérer → ",-1)])),_:1,__:[11]})]),e("div",Ce,[(r(!0),n(x,null,h(w.value,(s,j)=>(r(),n("div",{key:s.id,class:"flex items-center space-x-3"},[e("div",Pe,a(j+1),1),e("img",{src:s.image,alt:s.name,class:"w-12 h-12 rounded-lg object-cover"},null,8,Se),e("div",Fe,[e("p",Ve,a(s.name),1),e("div",$e,[e("span",null,a(s.sales)+" ventes",1),e("span",{class:m(["font-medium",s.growth>=0?"text-blue-600":"text-red-600"])},a(s.growth>=0?"+":"")+a(s.growth)+"% ",3)])])]))),128))])])])])])}}};export{Ee as default};
