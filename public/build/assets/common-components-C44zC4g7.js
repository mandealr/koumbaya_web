import{i as n,j as e,m as X,u as m,x as t,r as A,c as P,o as O,ac as K,n as o,k as j,ad as S,ae as N,t as d,af as q,q as I,ag as L,ah as Y,w as W,aa as T,a9 as ue,S as me,F as V,l as D,a1 as Z,z as B,y as E,ai as xe,V as ge,aj as J,h as pe,g as ee,f as ve,e as oe,ak as re,al as be,am as he,a7 as ye,A as U,an as _e,E as we,N as te,a4 as $e,ao as ke,ap as Ce,a as ne,a8 as Se,T as Ie,aq as Me,ar as je,H as le,as as Ae,at as ie,au as Pe,p as Ee,Y as ce,av as de,B as Fe,C as ze}from"./vue-core-BXnTE0w7.js";import{_ as G,u as R}from"./admin-pages-C_NGfial.js";import{u as H,h as Be}from"./utils-CcZu3SrZ.js";const se="/build/logo.png",Te="/build/assets/logo-ZbB75Npb.png",Ve={class:"bg-white border-t border-gray-200 mt-12"},De={class:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8"},Ne={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8"},Ue={class:"col-span-1 md:col-span-2 lg:col-span-1"},Le={class:"flex items-center"},Oe=["src"],Ke={__name:"KoumbayaFooter",setup(r){return(p,i)=>(t(),n("footer",Ve,[e("div",De,[e("div",Ne,[e("div",Ue,[e("div",Le,[e("img",{src:m(Te),alt:"Koumbaya",class:"h-15 w-auto"},null,8,Oe)]),i[0]||(i[0]=X('<p class="mt-4 text-gray-600 text-sm leading-relaxed" data-v-97bf4cec> La marketplace innovante qui vous permet d&#39;acquérir des produits premium à prix imbattables grâce aux tombolas équitables. </p><div class="mt-6 flex space-x-4" data-v-97bf4cec><a href="#" class="text-gray-400 hover:text-[#0099cc] transition-colors" data-v-97bf4cec><span class="sr-only" data-v-97bf4cec>Facebook</span><svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24" data-v-97bf4cec><path fill-rule="evenodd" d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z" clip-rule="evenodd" data-v-97bf4cec></path></svg></a><a href="#" class="text-gray-400 hover:text-[#0099cc] transition-colors" data-v-97bf4cec><span class="sr-only" data-v-97bf4cec>Instagram</span><svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24" data-v-97bf4cec><path fill-rule="evenodd" d="M12.017 0C5.396 0 .029 5.367.029 11.987c0 6.618 5.367 11.986 11.988 11.986s11.987-5.368 11.987-11.986C24.004 5.367 18.635.001 12.017.001zM8.449 16.988c-1.297 0-2.448-.49-3.323-1.297C4.198 14.895 3.68 13.729 3.68 12.417s.518-2.478 1.446-3.274c.875-.807 2.026-1.297 3.323-1.297s2.448.49 3.323 1.297c.928.796 1.446 1.962 1.446 3.274s-.518 2.478-1.446 3.274c-.875.807-2.026 1.297-3.323 1.297zm7.718 0c-1.297 0-2.448-.49-3.323-1.297-.928-.796-1.446-1.962-1.446-3.274s.518-2.478 1.446-3.274c.875-.807 2.026-1.297 3.323-1.297s2.448.49 3.323 1.297c.928.796 1.446 1.962 1.446 3.274s-.518 2.478-1.446 3.274c-.875.807-2.026 1.297-3.323 1.297z" clip-rule="evenodd" data-v-97bf4cec></path></svg></a><a href="#" class="text-gray-400 hover:text-[#0099cc] transition-colors" data-v-97bf4cec><span class="sr-only" data-v-97bf4cec>Twitter</span><svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24" data-v-97bf4cec><path d="M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84" data-v-97bf4cec></path></svg></a><a href="#" class="text-gray-400 hover:text-[#0099cc] transition-colors" data-v-97bf4cec><span class="sr-only" data-v-97bf4cec>LinkedIn</span><svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24" data-v-97bf4cec><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z" data-v-97bf4cec></path></svg></a></div>',2))]),i[1]||(i[1]=X('<div data-v-97bf4cec><h3 class="text-sm font-semibold text-gray-900 tracking-wider uppercase mb-4" data-v-97bf4cec> Informations sur l&#39;entreprise </h3><ul class="space-y-3" data-v-97bf4cec><li data-v-97bf4cec><a href="#" class="text-sm text-gray-600 hover:text-[#0099cc] transition-colors" data-v-97bf4cec>À propos de Koumbaya</a></li><li data-v-97bf4cec><a href="#" class="text-sm text-gray-600 hover:text-[#0099cc] transition-colors" data-v-97bf4cec>Affiliés &amp; Influenceurs</a></li><li data-v-97bf4cec><a href="#" class="text-sm text-gray-600 hover:text-[#0099cc] transition-colors" data-v-97bf4cec>Gagnez des Gombos</a></li><li data-v-97bf4cec><a href="#" class="text-sm text-gray-600 hover:text-[#0099cc] transition-colors" data-v-97bf4cec>Nous contacter</a></li><li data-v-97bf4cec><a href="#" class="text-sm text-gray-600 hover:text-[#0099cc] transition-colors" data-v-97bf4cec>Carrières</a></li><li data-v-97bf4cec><a href="#" class="text-sm text-gray-600 hover:text-[#0099cc] transition-colors" data-v-97bf4cec>Media &amp; Presse</a></li></ul></div><div data-v-97bf4cec><h3 class="text-sm font-semibold text-gray-900 tracking-wider uppercase mb-4" data-v-97bf4cec> Service client </h3><ul class="space-y-3" data-v-97bf4cec><li data-v-97bf4cec><a href="#" class="text-sm text-gray-600 hover:text-[#0099cc] transition-colors" data-v-97bf4cec>Participation aux tombolas</a></li><li data-v-97bf4cec><a href="#" class="text-sm text-gray-600 hover:text-[#0099cc] transition-colors" data-v-97bf4cec>Politique de propriété intellectuelle</a></li><li data-v-97bf4cec><a href="#" class="text-sm text-gray-600 hover:text-[#0099cc] transition-colors" data-v-97bf4cec>Informations sur la réception des commandes</a></li><li data-v-97bf4cec><a href="#" class="text-sm text-gray-600 hover:text-[#0099cc] transition-colors" data-v-97bf4cec>Signaler une activité suspecte</a></li><li data-v-97bf4cec><a href="#" class="text-sm text-gray-600 hover:text-[#0099cc] transition-colors" data-v-97bf4cec>Centre d&#39;assistance</a></li><li data-v-97bf4cec><a href="#" class="text-sm text-gray-600 hover:text-[#0099cc] transition-colors" data-v-97bf4cec>Centre de sécurité</a></li></ul></div><div data-v-97bf4cec><h3 class="text-sm font-semibold text-gray-900 tracking-wider uppercase mb-4" data-v-97bf4cec> Centre d&#39;Assistance </h3><ul class="space-y-3" data-v-97bf4cec><li data-v-97bf4cec><a href="#" class="text-sm text-gray-600 hover:text-[#0099cc] transition-colors" data-v-97bf4cec>Centre de Sécurité</a></li><li data-v-97bf4cec><a href="#" class="text-sm text-gray-600 hover:text-[#0099cc] transition-colors" data-v-97bf4cec>Avoir la paix sur Koumbaya</a></li><li data-v-97bf4cec><a href="#" class="text-sm text-gray-600 hover:text-[#0099cc] transition-colors" data-v-97bf4cec>Plan du site</a></li><li data-v-97bf4cec><a href="#" class="text-sm text-gray-600 hover:text-[#0099cc] transition-colors font-medium" data-v-97bf4cec>Vendre sur Koumbaya</a></li></ul></div>',3))]),i[2]||(i[2]=X('<div class="mt-12 pt-8 border-t border-gray-200" data-v-97bf4cec><div class="flex flex-col md:flex-row justify-between items-center" data-v-97bf4cec><div class="flex flex-wrap items-center space-x-6 mb-4 md:mb-0" data-v-97bf4cec><a href="#" class="text-sm text-gray-500 hover:text-[#0099cc] transition-colors" data-v-97bf4cec>Conditions d&#39;utilisation</a><a href="#" class="text-sm text-gray-500 hover:text-[#0099cc] transition-colors" data-v-97bf4cec>Politique de confidentialité</a><a href="#" class="text-sm text-gray-500 hover:text-[#0099cc] transition-colors" data-v-97bf4cec>Mentions légales</a><a href="#" class="text-sm text-gray-500 hover:text-[#0099cc] transition-colors" data-v-97bf4cec>Cookies</a></div><div class="text-sm text-gray-500" data-v-97bf4cec> © 2025 Koumbaya. Tous droits réservés. </div></div></div>',1))])]))}},ae=G(Ke,[["__scopeId","data-v-97bf4cec"]]),Re={class:"min-h-screen bg-gray-50"},He={class:"bg-white shadow-sm"},qe={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},We={class:"flex justify-between items-center h-16"},Ge={key:1,class:"flex items-center space-x-1 sm:space-x-2"},Qe={class:"hidden md:flex space-x-8"},Xe={class:"flex items-center space-x-2 sm:space-x-4"},Je={key:0,class:"flex items-center space-x-2 sm:space-x-4"},Ye={class:"relative"},Ze={class:"w-8 h-8 bg-[#0099cc] rounded-full flex items-center justify-center"},et={class:"text-sm font-medium text-white"},tt={class:"px-4 py-2 text-sm text-gray-700 border-b border-gray-100"},st={class:"font-medium"},at={class:"text-xs text-gray-500"},ot={key:1,class:"flex items-center space-x-2 sm:space-x-4"},rt={key:0,class:"md:hidden border-t border-gray-200 bg-white"},nt={class:"px-4 py-3 space-y-1"},lt={class:"border-t border-gray-200 pt-4 mt-4"},it={key:0,class:"space-y-2"},ct={class:"px-3 py-2 text-sm text-gray-600"},dt={key:1,class:"space-y-2"},go={__name:"GuestLayout",setup(r){const p=W(),i=R(),b=A(!1),f=A(!1),u=A(!1),w=P(()=>{const h=i.user;return h?(h.first_name?.[0]||"")+(h.last_name?.[0]||""):"U"}),g=P(()=>{const h=i.getDefaultRedirect();return{"admin.dashboard":"/admin","merchant.dashboard":"/merchant/dashboard","customer.dashboard":"/customer"}[h]||"/customer"}),M=async()=>{f.value=!1,await i.logout(),p.push({name:"login"})},$=()=>{u.value=!0},C=h=>{h.target.closest(".relative")||(f.value=!1)};return O(()=>{document.addEventListener("click",C)}),K(()=>{document.removeEventListener("click",C)}),(h,s)=>{const y=N("router-link"),k=N("router-view");return t(),n("div",Re,[e("header",He,[e("div",qe,[e("div",We,[o(y,{to:"/",class:"flex items-center min-w-0 flex-shrink-0"},{default:S(()=>[u.value?(t(),n("div",Ge,s[11]||(s[11]=[e("div",{class:"w-6 h-6 sm:w-8 sm:h-8 bg-[#0099cc] rounded flex items-center justify-center flex-shrink-0"},[e("span",{class:"text-white font-bold text-sm sm:text-lg"},"K")],-1),e("span",{class:"text-lg sm:text-xl font-bold text-[#0099cc] whitespace-nowrap"},"Koumbaya",-1)]))):(t(),n("img",{key:0,src:se,alt:"Koumbaya",class:"h-8 sm:h-10 w-auto object-contain max-w-none",onError:$},null,32))]),_:1}),e("nav",Qe,[o(y,{to:"/",class:"text-gray-600 hover:text-[#0099cc] px-3 py-2 rounded-md text-sm font-medium transition-colors"},{default:S(()=>s[12]||(s[12]=[I(" Accueil ",-1)])),_:1,__:[12]}),o(y,{to:"/products",class:"text-gray-600 hover:text-[#0099cc] px-3 py-2 rounded-md text-sm font-medium transition-colors"},{default:S(()=>s[13]||(s[13]=[I(" Produits ",-1)])),_:1,__:[13]}),o(y,{to:"/how-it-works",class:"text-gray-600 hover:text-[#0099cc] px-3 py-2 rounded-md text-sm font-medium transition-colors"},{default:S(()=>s[14]||(s[14]=[I(" Comment ça marche ",-1)])),_:1,__:[14]}),o(y,{to:"/contact",class:"text-gray-600 hover:text-[#0099cc] px-3 py-2 rounded-md text-sm font-medium transition-colors"},{default:S(()=>s[15]||(s[15]=[I(" Contact ",-1)])),_:1,__:[15]})]),e("div",Xe,[m(i).isAuthenticated?(t(),n("div",Je,[o(y,{to:g.value,class:"bg-[#0099cc] hover:bg-[#0088bb] text-white px-2 sm:px-4 py-1.5 sm:py-2 rounded-md text-xs sm:text-sm font-medium transition-colors flex items-center whitespace-nowrap"},{default:S(()=>[o(m(T),{class:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2 flex-shrink-0"}),s[16]||(s[16]=e("span",{class:"hidden sm:inline"},"Mon Espace",-1)),s[17]||(s[17]=e("span",{class:"sm:hidden"},"Espace",-1))]),_:1,__:[16,17]},8,["to"]),e("div",Ye,[e("button",{onClick:s[0]||(s[0]=a=>f.value=!f.value),class:"flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-100"},[e("div",Ze,[e("span",et,d(w.value),1)]),o(m(q),{class:"w-4 h-4 text-gray-500"})]),f.value?(t(),n("div",{key:0,class:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50 border border-gray-200",onClick:s[2]||(s[2]=a=>f.value=!1)},[e("div",tt,[e("p",st,d(m(i).user?.first_name)+" "+d(m(i).user?.last_name),1),e("p",at,d(m(i).user?.email),1)]),o(y,{to:g.value,class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:s[1]||(s[1]=a=>f.value=!1)},{default:S(()=>[o(m(T),{class:"w-4 h-4 inline mr-2"}),s[18]||(s[18]=I(" Mon Espace ",-1))]),_:1,__:[18]},8,["to"]),e("button",{onClick:M,class:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"},[o(m(L),{class:"w-4 h-4 inline mr-2"}),s[19]||(s[19]=I(" Se déconnecter ",-1))])])):j("",!0)])])):(t(),n("div",ot,[o(y,{to:"/login",class:"text-gray-600 hover:text-[#0099cc] px-2 sm:px-3 py-1.5 sm:py-2 rounded-md text-xs sm:text-sm font-medium transition-colors whitespace-nowrap"},{default:S(()=>s[20]||(s[20]=[e("span",{class:"hidden sm:inline"},"Se connecter",-1),e("span",{class:"sm:hidden"},"Connexion",-1)])),_:1,__:[20]}),o(y,{to:"/register",class:"bg-[#0099cc] hover:bg-[#0088bb] text-white px-2 sm:px-4 py-1.5 sm:py-2 rounded-md text-xs sm:text-sm font-medium transition-colors whitespace-nowrap"},{default:S(()=>s[21]||(s[21]=[I(" S'inscrire ",-1)])),_:1,__:[21]})])),e("button",{onClick:s[3]||(s[3]=a=>b.value=!b.value),class:"md:hidden p-1 sm:p-2 rounded-md text-gray-400 hover:text-gray-600 flex-shrink-0"},[o(m(Y),{class:"w-5 h-5 sm:w-6 sm:h-6"})])])])]),b.value?(t(),n("div",rt,[e("div",nt,[o(y,{to:"/",class:"block px-3 py-2 rounded-md text-base font-medium text-gray-600 hover:text-[#0099cc] hover:bg-[#0099cc]/5",onClick:s[4]||(s[4]=a=>b.value=!1)},{default:S(()=>s[22]||(s[22]=[I(" Accueil ",-1)])),_:1,__:[22]}),o(y,{to:"/products",class:"block px-3 py-2 rounded-md text-base font-medium text-gray-600 hover:text-[#0099cc] hover:bg-[#0099cc]/5",onClick:s[5]||(s[5]=a=>b.value=!1)},{default:S(()=>s[23]||(s[23]=[I(" Produits ",-1)])),_:1,__:[23]}),o(y,{to:"/how-it-works",class:"block px-3 py-2 rounded-md text-base font-medium text-gray-600 hover:text-[#0099cc] hover:bg-[#0099cc]/5",onClick:s[6]||(s[6]=a=>b.value=!1)},{default:S(()=>s[24]||(s[24]=[I(" Comment ça marche ",-1)])),_:1,__:[24]}),o(y,{to:"/contact",class:"block px-3 py-2 rounded-md text-base font-medium text-gray-600 hover:text-[#0099cc] hover:bg-[#0099cc]/5",onClick:s[7]||(s[7]=a=>b.value=!1)},{default:S(()=>s[25]||(s[25]=[I(" Contact ",-1)])),_:1,__:[25]}),e("div",lt,[m(i).isAuthenticated?(t(),n("div",it,[o(y,{to:g.value,class:"block px-3 py-2 rounded-md text-base font-medium bg-[#0099cc] text-white hover:bg-[#0088bb] flex items-center",onClick:s[8]||(s[8]=a=>b.value=!1)},{default:S(()=>[o(m(T),{class:"w-5 h-5 mr-2"}),s[26]||(s[26]=I(" Mon Espace ",-1))]),_:1,__:[26]},8,["to"]),e("div",ct,d(m(i).user?.first_name)+" "+d(m(i).user?.last_name),1),e("button",{onClick:M,class:"block w-full text-left px-3 py-2 rounded-md text-base font-medium text-gray-600 hover:text-[#0099cc] hover:bg-[#0099cc]/5"},[o(m(L),{class:"w-5 h-5 inline mr-2"}),s[27]||(s[27]=I(" Se déconnecter ",-1))])])):(t(),n("div",dt,[o(y,{to:"/login",class:"block px-3 py-2 rounded-md text-base font-medium text-gray-600 hover:text-[#0099cc] hover:bg-[#0099cc]/5",onClick:s[9]||(s[9]=a=>b.value=!1)},{default:S(()=>s[28]||(s[28]=[I(" Se connecter ",-1)])),_:1,__:[28]}),o(y,{to:"/register",class:"block px-3 py-2 rounded-md text-base font-medium bg-[#0099cc] text-white hover:bg-[#0088bb]",onClick:s[10]||(s[10]=a=>b.value=!1)},{default:S(()=>s[29]||(s[29]=[I(" S'inscrire ",-1)])),_:1,__:[29]})]))])])])):j("",!0)]),e("main",null,[o(k)]),o(ae)])}}},ut={key:0,class:"bg-gradient-to-r from-yellow-50 to-orange-50 border border-yellow-200 rounded-xl p-4 mb-6 shadow-sm"},mt={class:"flex items-start"},vt={class:"flex-shrink-0"},ft={class:"ml-3 flex-1"},xt={class:"flex flex-col sm:flex-row gap-2"},gt=["disabled"],pt={key:0},bt={key:1,class:"flex items-center"},ht={class:"flex-shrink-0 ml-2"},yt={__name:"VerificationBanner",setup(r){const p=R(),{post:i}=H(),b=A(!1),f=A(!1),u=P(()=>p.user),w=P(()=>!f.value),g=async()=>{b.value=!0;try{const C=await i("/auth/resend-verification",{email:u.value.email});window.$toast&&window.$toast.success(`Un nouvel email de vérification a été envoyé à ${u.value.email}. Vérifiez votre boîte email.`,"✅ Email envoyé",8e3),setTimeout(()=>{f.value=!0,localStorage.setItem("verification_banner_hidden_until",Date.now()+1800*1e3)},2e3)}catch(C){console.error("Erreur lors de l'envoi de l'email de vérification:",C);let h="Une erreur est survenue lors de l'envoi de l'email.";C.response?.status===429?h="Trop de tentatives. Veuillez patienter avant de renvoyer un email.":C.response?.data?.message&&(h=C.response.data.message),window.$toast&&window.$toast.error(h,"Erreur")}finally{b.value=!1}},M=()=>{f.value=!0,localStorage.setItem("verification_banner_hidden_until",Date.now()+3600*1e3)},$=localStorage.getItem("verification_banner_hidden_until");return $&&Date.now()<parseInt($)&&(f.value=!0),(C,h)=>u.value&&!u.value.verified_at&&w.value?(t(),n("div",ut,[e("div",mt,[e("div",vt,[o(m(ue),{class:"h-6 w-6 text-yellow-600"})]),e("div",ft,[h[1]||(h[1]=e("h3",{class:"text-sm font-semibold text-yellow-800 mb-1"}," Compte non vérifié ",-1)),h[2]||(h[2]=e("p",{class:"text-sm text-yellow-700 mb-3"}," Votre compte n'est pas encore vérifié. Certaines fonctionnalités peuvent être limitées. ",-1)),e("div",xt,[e("button",{onClick:g,disabled:b.value,class:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-lg text-yellow-800 bg-yellow-100 hover:bg-yellow-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500 transition-colors disabled:opacity-50"},[b.value?(t(),n("span",bt,h[0]||(h[0]=[e("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-yellow-800",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),I(" Envoi en cours... ",-1)]))):(t(),n("span",pt,"Renvoyer l'email de vérification"))],8,gt),e("button",{onClick:M,class:"inline-flex items-center px-3 py-2 text-sm leading-4 font-medium rounded-lg text-yellow-600 hover:text-yellow-800 transition-colors"}," Masquer ")])]),e("div",ht,[e("button",{onClick:M,class:"inline-flex rounded-lg p-1.5 text-yellow-400 hover:text-yellow-600 hover:bg-yellow-100 transition-colors"},[o(m(me),{class:"h-4 w-4"})])])])])):j("",!0)}},_t={class:"min-h-screen bg-gray-50"},wt={class:"bg-white shadow-sm border-b border-gray-200"},$t={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},kt={class:"flex justify-between items-center h-16"},Ct={class:"flex items-center min-w-0 flex-shrink-0"},St={key:1,class:"flex items-center space-x-1 sm:space-x-2"},It={class:"hidden md:flex space-x-8"},Mt={class:"flex items-center space-x-2 sm:space-x-4"},jt={class:"p-1 sm:p-2 text-gray-400 hover:text-gray-600 relative"},At={key:0,class:"absolute top-0 right-0 block h-2 w-2 bg-red-400 rounded-full"},Pt={key:1,class:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-bold"},Et={class:"relative"},Ft={class:"w-7 h-7 sm:w-8 sm:h-8 bg-[#0099cc] rounded-full flex items-center justify-center flex-shrink-0"},zt={class:"text-xs sm:text-sm font-medium text-white"},Bt={class:"hidden md:block text-left min-w-0"},Tt={class:"text-sm font-medium text-gray-700 truncate"},Vt={class:"text-xs text-gray-500 truncate"},Dt={key:0,class:"md:hidden border-t border-gray-200 bg-white"},Nt={class:"px-4 py-3 space-y-1"},Ut={class:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8"},po={__name:"CustomerLayout",setup(r){const p=R(),i=W(),{get:b}=H(),f=A(!1),u=A(!1),w=A(!1),g=A(0),M=[{name:"customer.dashboard",to:{name:"customer.dashboard"},label:"Accueil"},{name:"customer.products",to:{name:"customer.products"},label:"Produits"},{name:"customer.tickets",to:{name:"customer.tickets"},label:"Mes Tickets"},{name:"customer.orders",to:{name:"customer.orders"},label:"Mes Commandes"}],$=P(()=>{const a=p.user;return a?(a.first_name?.[0]||"")+(a.last_name?.[0]||""):"U"}),C=P(()=>p.isAuthenticated&&p.user&&!p.user.verified_at),h=async()=>{await p.logout(),i.push({name:"login"})},s=()=>{w.value=!0},y=a=>{a.target.closest(".relative")||(f.value=!1)},k=async()=>{try{const a=await b("/notifications/unread-count");a&&a.data&&a.data.unread_count!==void 0&&(g.value=a.data.unread_count)}catch(a){console.error("Erreur lors du chargement des notifications:",a),g.value=0}};return O(()=>{document.addEventListener("click",y),k();const a=setInterval(k,120*1e3);K(()=>{document.removeEventListener("click",y),clearInterval(a)})}),(a,c)=>{const v=N("router-link"),l=N("router-view");return t(),n("div",_t,[e("header",wt,[e("div",$t,[e("div",kt,[e("div",Ct,[o(v,{to:"/customer",class:"flex items-center"},{default:S(()=>[w.value?(t(),n("div",St,c[7]||(c[7]=[e("div",{class:"w-6 h-6 sm:w-8 sm:h-8 bg-[#0099cc] rounded flex items-center justify-center flex-shrink-0"},[e("span",{class:"text-white font-bold text-sm sm:text-lg"},"K")],-1),e("span",{class:"text-lg sm:text-xl font-bold text-[#0099cc] whitespace-nowrap"},"Koumbaya",-1)]))):(t(),n("img",{key:0,class:"h-8 sm:h-10 w-auto object-contain max-w-none",src:se,alt:"Koumbaya Marketplace",onError:s},null,32))]),_:1})]),e("nav",It,[(t(),n(V,null,D(M,x=>o(v,{key:x.name,to:x.to,class:E(["px-3 py-2 rounded-md text-sm font-medium transition-colors",a.$route.name===x.name?"text-white bg-[#0099cc]":"text-gray-600 hover:text-[#0099cc] hover:bg-[#0099cc]/5"])},{default:S(()=>[I(d(x.label),1)]),_:2},1032,["to","class"])),64))]),e("div",Mt,[e("button",jt,[o(m(Z),{class:"w-5 h-5 sm:w-6 sm:h-6"}),g.value>0?(t(),n("span",At)):j("",!0),g.value>9?(t(),n("span",Pt,d(g.value>99?"99+":g.value),1)):j("",!0)]),e("div",Et,[e("button",{onClick:c[0]||(c[0]=x=>f.value=!f.value),class:"flex items-center space-x-1 sm:space-x-3 p-1 sm:p-2 rounded-lg hover:bg-gray-100"},[e("div",Ft,[e("span",zt,d($.value),1)]),e("div",Bt,[e("p",Tt,d(m(p).user?.first_name),1),e("p",Vt,d(m(p).user?.email),1)]),o(m(q),{class:"w-3 h-3 sm:w-4 sm:h-4 text-gray-500 flex-shrink-0"})]),f.value?(t(),n("div",{key:0,class:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50 border border-gray-200",onClick:c[4]||(c[4]=x=>f.value=!1)},[o(v,{to:"/customer/profile",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:c[1]||(c[1]=x=>f.value=!1)},{default:S(()=>[o(m(T),{class:"w-4 h-4 inline mr-2"}),c[8]||(c[8]=I(" Mon Profil ",-1))]),_:1,__:[8]}),o(v,{to:"/customer/tickets",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:c[2]||(c[2]=x=>f.value=!1)},{default:S(()=>[o(m(xe),{class:"w-4 h-4 inline mr-2"}),c[9]||(c[9]=I(" Mes Tickets ",-1))]),_:1,__:[9]}),o(v,{to:"/customer/payments",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:c[3]||(c[3]=x=>f.value=!1)},{default:S(()=>[o(m(ge),{class:"w-4 h-4 inline mr-2"}),c[10]||(c[10]=I(" Mes Paiements ",-1))]),_:1,__:[10]}),c[12]||(c[12]=e("div",{class:"border-t border-gray-100 my-1"},null,-1)),e("button",{onClick:h,class:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"},[o(m(L),{class:"w-4 h-4 inline mr-2"}),c[11]||(c[11]=I(" Se déconnecter ",-1))])])):j("",!0)]),e("button",{onClick:c[5]||(c[5]=x=>u.value=!u.value),class:"md:hidden p-1 sm:p-2 rounded-md text-gray-400 hover:text-gray-600 flex-shrink-0"},[o(m(Y),{class:"w-5 h-5 sm:w-6 sm:h-6"})])])])]),u.value?(t(),n("div",Dt,[e("div",Nt,[(t(),n(V,null,D(M,x=>o(v,{key:x.name,to:x.to,class:E(["block px-3 py-2 rounded-md text-base font-medium",a.$route.name===x.name?"text-[#0099cc] bg-blue-50":"text-gray-600 hover:text-[#0099cc] hover:bg-blue-50"]),onClick:c[6]||(c[6]=_=>u.value=!1)},{default:S(()=>[I(d(x.label),1)]),_:2},1032,["to","class"])),64))])])):j("",!0)]),e("main",Ut,[C.value?(t(),B(yt,{key:0})):j("",!0),o(l)]),o(ae)])}}},Lt="/build/icon.png",Ot={class:"min-h-screen admin-layout"},Kt={class:"flex items-center justify-between h-16 px-6 border-b border-gray-700"},Rt={class:"flex items-center space-x-3"},Ht={class:"w-8 h-8 bg-white rounded-lg flex items-center justify-center p-1"},qt=["src"],Wt={class:"mt-6 flex-1"},Gt={class:"px-3 space-y-1"},Qt={class:"font-medium"},Xt={key:0,class:"ml-auto bg-orange-500 text-white text-xs px-2 py-1 rounded-full"},Jt={class:"absolute bottom-4 left-0 right-0 px-3"},Yt={class:"bg-gray-700 rounded-lg p-4"},Zt={class:"flex items-center space-x-3"},es={class:"w-10 h-10 bg-gray-600 rounded-full flex items-center justify-center"},ts={class:"flex-1 min-w-0"},ss={class:"text-sm font-medium text-white truncate"},as={class:"lg:pl-72"},os={class:"admin-header sticky top-0 z-30"},rs={class:"flex items-center justify-between px-6 py-4"},ns={class:"flex items-center space-x-4"},ls={class:"hidden lg:flex items-center space-x-2 text-sm"},is={class:"text-gray-600"},cs={class:"flex items-center space-x-4"},ds={class:"relative p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors"},us={class:"hidden md:flex items-center"},ms={class:"relative"},vs={class:"relative"},fs={class:"w-8 h-8 bg-[#0099cc] rounded-lg flex items-center justify-center"},xs={class:"text-sm font-semibold text-white"},gs={class:"hidden md:block text-left"},ps={class:"text-sm font-semibold text-gray-800"},bs={class:"px-4 py-3 border-b border-gray-100"},hs={class:"text-sm font-medium text-gray-800"},ys={class:"text-xs text-gray-500"},_s={class:"border-t border-gray-100 mt-2 pt-2"},ws={class:"p-6"},bo={__name:"AdminLayout",setup(r){const p=R(),i=W(),b=be(),{get:f}=H(),u=A(!0),w=A(!1),g=A({users:0,lotteries:0,refunds:0}),M=P(()=>[{name:"admin.dashboard",to:{name:"admin.dashboard"},label:"Tableau de bord",icon:J},{name:"admin.users",to:{name:"admin.users"},label:"Utilisateurs",icon:pe,badge:g.value.users>0?g.value.users.toString():null},{name:"admin.products",to:{name:"admin.products"},label:"Produits",icon:ee},{name:"admin.lotteries",to:{name:"admin.lotteries"},label:"Tombolas",icon:ve,badge:g.value.lotteries>0?g.value.lotteries.toString():null},{name:"admin.refunds",to:{name:"admin.refunds"},label:"Remboursements",icon:oe,badge:g.value.refunds>0?g.value.refunds.toString():null},{name:"admin.payments",to:{name:"admin.payments"},label:"Paiements",icon:oe},{name:"admin.settings",to:{name:"admin.settings"},label:"Paramètres",icon:re}]),$=P(()=>M.value.find(a=>a.name===b.name)?.label||"Page"),C=async()=>{try{const k=await f("/admin/dashboard/stats");k?.data?.users&&(g.value.users=k.data.users.growth>0?Math.ceil(k.data.users.total*(k.data.users.growth/100)):0);const a=await f("/admin/lotteries?status=active");if(a?.data?.lotteries){const v=a.data.lotteries.filter(l=>{const z=(new Date(l.end_date)-new Date)/(1e3*60*60);return z<=24&&z>0});g.value.lotteries=v.length}const c=await f("/admin/refunds?status=pending");c?.data?.refunds&&(g.value.refunds=c.data.refunds.length)}catch(k){console.error("Erreur lors du chargement des compteurs de badges:",k)}},h=P(()=>{const k=p.user;return k?(k.first_name?.[0]||"")+(k.last_name?.[0]||""):"AD"}),s=async()=>{await p.logout(),i.push({name:"login"})},y=k=>{k.target.closest(".relative")||(w.value=!1)};return O(()=>{document.addEventListener("click",y),C();const k=setInterval(C,300*1e3);K(()=>{document.removeEventListener("click",y),clearInterval(k)})}),(k,a)=>{const c=N("router-link"),v=N("router-view");return t(),n("div",Ot,[e("aside",{class:E(["fixed inset-y-0 left-0 z-50 w-72 admin-sidebar transform transition-transform duration-300 ease-in-out lg:translate-x-0",{"-translate-x-full lg:translate-x-0":!u.value,"translate-x-0":u.value}])},[e("div",Kt,[e("div",Rt,[e("div",Ht,[e("img",{src:m(Lt),alt:"Koumbaya",class:"w-full h-full object-contain"},null,8,qt)]),a[6]||(a[6]=e("div",{class:"text-white"},[e("h1",{class:"text-lg font-bold"},"Koumbaya"),e("p",{class:"text-xs text-gray-300"},"Administration")],-1))])]),e("nav",Wt,[e("div",Gt,[(t(!0),n(V,null,D(M.value,l=>(t(),B(c,{key:l.name,to:l.to,class:E(["admin-sidebar-item",k.$route.name===l.name?"active":""])},{default:S(()=>[(t(),B(U(l.icon),{class:"w-5 h-5 mr-3"})),e("span",Qt,d(l.label),1),l.badge?(t(),n("span",Xt,d(l.badge),1)):j("",!0)]),_:2},1032,["to","class"]))),128))]),e("div",Jt,[e("div",Yt,[e("div",Zt,[e("div",es,[o(m(T),{class:"w-5 h-5 text-gray-300"})]),e("div",ts,[e("p",ss,d(m(p).user?.first_name)+" "+d(m(p).user?.last_name),1),a[7]||(a[7]=e("p",{class:"text-xs text-gray-300 truncate"},"Super Administrateur",-1))]),e("button",{onClick:s,class:"text-gray-300 hover:text-white transition-colors",title:"Se déconnecter"},[o(m(L),{class:"w-5 h-5"})])])])])])],2),u.value?(t(),n("div",{key:0,class:"fixed inset-0 z-40 bg-black/20 lg:hidden",onClick:a[0]||(a[0]=l=>u.value=!1)})):j("",!0),e("div",as,[e("header",os,[e("div",rs,[e("div",ns,[e("button",{onClick:a[1]||(a[1]=l=>u.value=!u.value),class:"lg:hidden p-2 rounded-md text-gray-500 hover:text-gray-700 hover:bg-gray-100 transition-colors"},[o(m(Y),{class:"w-6 h-6"})]),e("nav",ls,[o(m(J),{class:"w-4 h-4 text-gray-400"}),o(m(he),{class:"w-4 h-4 text-gray-400"}),e("span",is,d($.value),1)])]),e("div",cs,[e("button",ds,[o(m(Z),{class:"w-6 h-6"}),a[8]||(a[8]=e("span",{class:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"},null,-1))]),e("div",us,[e("div",ms,[o(m(ye),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),a[9]||(a[9]=e("input",{type:"text",placeholder:"Rechercher...",class:"pl-10 pr-4 py-2 w-64 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0099cc] focus:border-transparent"},null,-1))])]),e("div",vs,[e("button",{onClick:a[2]||(a[2]=l=>w.value=!w.value),class:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-100 transition-colors"},[e("div",fs,[e("span",xs,d(h.value),1)]),e("div",gs,[e("p",ps,d(m(p).user?.first_name)+" "+d(m(p).user?.last_name),1),a[10]||(a[10]=e("p",{class:"text-xs text-gray-500"},"Super Admin",-1))]),o(m(q),{class:"w-4 h-4 text-gray-400"})]),w.value?(t(),n("div",{key:0,class:"absolute right-0 mt-2 w-56 bg-white rounded-xl shadow-lg border border-gray-200 py-2 z-50",onClick:a[5]||(a[5]=l=>w.value=!1)},[e("div",bs,[e("p",hs,d(m(p).user?.first_name)+" "+d(m(p).user?.last_name),1),e("p",ys,d(m(p).user?.email),1)]),o(c,{to:{name:"admin.profile"},onClick:a[3]||(a[3]=l=>w.value=!1),class:"flex items-center px-4 py-3 text-sm text-gray-700 hover:bg-gray-100 transition-colors"},{default:S(()=>[o(m(T),{class:"w-4 h-4 mr-3 text-gray-400"}),a[11]||(a[11]=I(" Mon Profil ",-1))]),_:1,__:[11]}),o(c,{to:{name:"admin.settings"},onClick:a[4]||(a[4]=l=>w.value=!1),class:"flex items-center px-4 py-3 text-sm text-gray-700 hover:bg-gray-100 transition-colors"},{default:S(()=>[o(m(re),{class:"w-4 h-4 mr-3 text-gray-400"}),a[12]||(a[12]=I(" Paramètres ",-1))]),_:1,__:[12]}),e("div",_s,[e("button",{onClick:s,class:"flex items-center w-full px-4 py-3 text-sm text-red-600 hover:bg-red-50 transition-colors"},[o(m(L),{class:"w-4 h-4 mr-3"}),a[13]||(a[13]=I(" Se déconnecter ",-1))])])])):j("",!0)])])])]),e("main",ws,[o(v)])])])}}},$s=["src","alt"],ks={class:"text-xs font-medium"},Cs={key:2,class:"absolute inset-0 flex items-center justify-center bg-gray-100"},Ss={name:"ProductImage"},Is=Object.assign(Ss,{props:{src:{type:String,default:""},alt:{type:String,default:""},fallbackText:{type:String,default:"Image non disponible"},containerClass:{type:String,default:"w-full h-48"},imageClass:{type:String,default:"w-full h-full object-cover"},fallbackClass:{type:String,default:"w-full h-full"}},setup(r){const p=r,i=A(!1),b=A(!1),f=P(()=>p.src?p.src.startsWith("http")||p.src.startsWith("data:image/")||p.src.startsWith("/")?p.src:`/storage/products/${p.src}`:""),u=()=>{i.value=!0,b.value=!1},w=()=>{i.value=!1,b.value=!1},{src:g}=_e(p);return we(g,()=>{i.value=!1,b.value=!0}),(M,$)=>(t(),n("div",{class:E(["relative overflow-hidden bg-gray-100 flex items-center justify-center",r.containerClass])},[!i.value&&f.value?(t(),n("img",{key:0,src:f.value,alt:r.alt||"Image du produit",class:E(r.imageClass),onError:u,onLoad:w},null,42,$s)):j("",!0),i.value||!f.value?(t(),n("div",{key:1,class:E([r.fallbackClass,"flex flex-col items-center justify-center text-gray-600 bg-gray-100"])},[$[0]||($[0]=e("svg",{class:"w-8 h-8 mb-2",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z","clip-rule":"evenodd"})],-1)),e("span",ks,d(r.fallbackText),1)],2)):j("",!0),b.value&&!i.value?(t(),n("div",Cs,$[1]||($[1]=[e("svg",{class:"animate-spin h-6 w-6 text-gray-400",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):j("",!0)],2))}}),Ms={class:"relative overflow-hidden h-48"},js={class:"absolute top-3 left-3"},As={key:0,class:"flex items-center bg-purple-600 text-white px-3 py-1.5 rounded-full shadow-lg"},Ps={key:1,class:"flex items-center bg-[#0099cc] text-white px-3 py-1.5 rounded-full shadow-lg"},Es={class:"absolute top-3 right-3"},Fs={key:0,class:"bg-yellow-500 text-white px-2 py-1 rounded-md text-xs font-medium shadow-sm"},zs={class:"absolute bottom-3 left-3"},Bs={class:"bg-black/70 backdrop-blur text-white px-2 py-1 rounded-md text-xs font-medium"},Ts={class:"p-5 space-y-4"},Vs={class:"font-bold text-lg text-gray-900 group-hover:text-blue-600 transition-colors line-clamp-2"},Ds={class:"text-gray-600 text-sm line-clamp-2"},Ns={key:0,class:"space-y-3"},Us={class:"flex justify-between items-center bg-purple-50 rounded-lg p-3"},Ls={class:"text-xl font-bold text-purple-700"},Os={class:"text-right"},Ks={class:"text-lg font-semibold text-gray-900"},Rs={key:0,class:"space-y-1"},Hs={class:"flex justify-between text-sm"},qs={class:"font-medium text-purple-700"},Ws={class:"w-full bg-gray-200 rounded-full h-2.5"},Gs={class:"flex justify-between text-xs text-gray-500"},Qs={key:1,class:"flex items-center text-sm text-gray-600"},Xs={key:1,class:"space-y-3"},Js={class:"bg-blue-50 rounded-lg p-3"},Ys={class:"text-2xl font-bold text-[#0099cc]"},Zs={key:0,class:"flex items-center text-sm"},ea={__name:"ProductCardV2",props:{product:{type:Object,required:!0}},emits:["view-product"],setup(r){const p=f=>new Intl.NumberFormat("fr-FR").format(f||0),i=f=>f?new Date(f).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"}):"",b=f=>{if(!f.active_lottery)return 0;const u=f.active_lottery.sold_tickets||0,w=f.active_lottery.total_tickets||1;return Math.round(u/w*100)};return(f,u)=>(t(),n("div",{class:E(["group cursor-pointer overflow-hidden bg-white rounded-xl shadow-sm hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 border border-gray-100",{"ring-2 ring-purple-500":r.product.sale_mode==="lottery","ring-2 ring-[#0099cc]":r.product.sale_mode==="direct"}])},[e("div",Ms,[o(Is,{src:r.product.image_url||r.product.main_image||r.product.image,alt:r.product.name||r.product.title,"container-class":"w-full h-full","image-class":"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"},null,8,["src","alt"]),u[3]||(u[3]=e("div",{class:"absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"},null,-1)),e("div",js,[r.product.sale_mode==="lottery"?(t(),n("div",As,u[1]||(u[1]=[e("svg",{class:"w-4 h-4 mr-1.5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),e("path",{"fill-rule":"evenodd",d:"M4 5a2 2 0 012-2 1 1 0 000 2H4v10a2 2 0 002 2h8a2 2 0 002-2V5h-2a1 1 0 100-2 2 2 0 012 2v10a4 4 0 01-4 4H6a4 4 0 01-4-4V5z","clip-rule":"evenodd"})],-1),e("span",{class:"text-sm font-semibold"},"Tombola",-1)]))):(t(),n("div",Ps,u[2]||(u[2]=[e("svg",{class:"w-4 h-4 mr-1.5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3z"}),e("path",{d:"M16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"})],-1),e("span",{class:"text-sm font-semibold"},"Achat direct",-1)])))]),e("div",Es,[r.product.featured?(t(),n("span",Fs," ⭐ Vedette ")):j("",!0)]),e("div",zs,[e("span",Bs,d(r.product.category?.name||"Non catégorisé"),1)])]),e("div",Ts,[e("h3",Vs,d(r.product.name||r.product.title),1),e("p",Ds,d(r.product.description||"Aucune description disponible"),1),r.product.sale_mode==="lottery"?(t(),n("div",Ns,[e("div",Us,[e("div",null,[u[4]||(u[4]=e("p",{class:"text-xs text-gray-600"},"Prix du ticket",-1)),e("p",Ls,d(p(r.product.active_lottery?.ticket_price||r.product.ticket_price||1e3))+" FCFA",1)]),e("div",Os,[u[5]||(u[5]=e("p",{class:"text-xs text-gray-600"},"Valeur du lot",-1)),e("p",Ks,d(p(r.product.price))+" FCFA",1)])]),r.product.active_lottery?(t(),n("div",Rs,[e("div",Hs,[u[6]||(u[6]=e("span",{class:"text-gray-600"},"Progression",-1)),e("span",qs,d(b(r.product))+"%",1)]),e("div",Ws,[e("div",{class:"bg-gradient-to-r from-purple-500 to-purple-700 h-2.5 rounded-full transition-all duration-500",style:te({width:b(r.product)+"%"})},null,4)]),e("div",Gs,[e("span",null,d(r.product.active_lottery.sold_tickets||0)+" tickets vendus",1),e("span",null,d(r.product.active_lottery.total_tickets||1e3)+" au total",1)])])):j("",!0),r.product.active_lottery?.draw_date?(t(),n("div",Qs,[o(m($e),{class:"w-4 h-4 mr-2 text-purple-600"}),e("span",null,"Tirage le "+d(i(r.product.active_lottery.draw_date)),1)])):j("",!0)])):(t(),n("div",Xs,[e("div",Js,[u[7]||(u[7]=e("p",{class:"text-xs text-gray-600 mb-1"},"Prix",-1)),e("p",Ys,d(p(r.product.price))+" FCFA",1)]),r.product.stock!==void 0?(t(),n("div",Zs,[u[8]||(u[8]=e("span",{class:"text-gray-600"},"Stock disponible:",-1)),e("span",{class:E(["ml-2 font-medium",r.product.stock>0?"text-[#0099cc]":"text-red-600"])},d(r.product.stock>0?r.product.stock+" unités":"Épuisé"),3)])):j("",!0)])),e("button",{onClick:u[0]||(u[0]=w=>f.$emit("view-product",r.product)),class:E(["w-full py-3 px-4 rounded-lg font-medium transition-all duration-200 flex items-center justify-center group-hover:shadow-md",r.product.sale_mode==="lottery"?"bg-purple-600 hover:bg-purple-700 text-white":"bg-[#0099cc] hover:bg-[#0088bb] text-white"])},[o(m(ee),{class:"w-5 h-5 mr-2"}),I(" "+d(r.product.sale_mode==="lottery"?"Participer à la tombola":"Acheter maintenant"),1)],2)])],2))}},ho=G(ea,[["__scopeId","data-v-24bc125a"]]),ta={class:"avatar-upload-container"},sa={class:"relative group"},aa=["src","alt"],oa={key:1,class:"flex flex-col items-center justify-center text-gray-400"},ra={class:"text-white text-center"},na={key:0,class:"absolute inset-0 bg-black bg-opacity-60 rounded-full flex items-center justify-center"},la={class:"mt-4 text-center"},ia={class:"text-sm text-gray-600 mb-2"},ca={class:"text-xs text-gray-500"},da={key:0,class:"flex justify-center space-x-2 mt-3"},ua=["disabled"],ma=["disabled"],va={key:0,class:"mt-2 text-center"},fa={class:"text-sm text-red-600 bg-red-50 border border-red-200 rounded-md px-3 py-2"},xa={key:1,class:"mt-2 text-center"},ga={class:"text-sm text-green-600 bg-green-50 border border-green-200 rounded-md px-3 py-2"},pa={__name:"AvatarUpload",props:{currentAvatarUrl:{type:String,default:null},uploadEndpoint:{type:String,default:"/user/avatar"},fieldName:{type:String,default:"avatar"},altText:{type:String,default:"Photo de profil"},helpText:{type:String,default:null},maxSizeMB:{type:Number,default:5}},emits:["success","error","upload-start","upload-end"],setup(r,{emit:p}){const i=r,b=p,{post:f}=H(),u=A(null),w=A(null),g=A(null),M=A(!1),$=A(""),C=A(""),h=P(()=>i.maxSizeMB*1024*1024),s=()=>{M.value||u.value?.click()},y=v=>{const l=v.target.files?.[0];if(!l)return;if($.value="",C.value="",!l.type.startsWith("image/")){$.value="Veuillez sélectionner un fichier image valide.";return}if(l.size>h.value){$.value=`La taille du fichier ne doit pas dépasser ${i.maxSizeMB}MB.`;return}w.value=l;const x=new FileReader;x.onload=_=>{g.value=_.target.result},x.readAsDataURL(l)},k=()=>{w.value=null,g.value=null,$.value="",C.value="",u.value&&(u.value.value="")},a=async()=>{if(w.value)try{M.value=!0,$.value="",C.value="",b("upload-start");const v=new FormData;v.append(i.fieldName,w.value),console.log("Uploading avatar:",w.value),console.log("Using endpoint:",i.uploadEndpoint),console.log("Field name:",i.fieldName),console.log("FormData entries:");for(let x of v.entries())console.log(x[0]+": ",x[1]);console.log("Testing simple FormData upload...");const l=await f(i.uploadEndpoint,v);if(console.log("Upload response:",l),l&&(l.success||l.data)){const x=l.data?.avatar_url||l.avatar_url;C.value="Photo de profil mise à jour avec succès !",setTimeout(()=>{w.value=null,g.value=null,C.value=""},2e3),b("success",{avatar_url:x,response:l})}else throw new Error(l?.message||"Upload failed")}catch(v){console.error("Error uploading avatar:",v);let l="Erreur lors de l'upload de l'image.";if(v.response?.data?.message)l=v.response.data.message;else if(v.response?.data?.errors){const x=v.response.data.errors;l=Object.values(x).flat().join(", ")}else v.message&&(l=v.message);$.value=l,b("error",v)}finally{M.value=!1,b("upload-end")}},c=v=>{console.log("Avatar image failed to load, using placeholder"),Be(v,"Avatar")};return(v,l)=>(t(),n("div",ta,[e("div",sa,[e("div",{class:"w-24 h-24 rounded-full overflow-hidden border-4 border-gray-200 bg-gray-100 flex items-center justify-center cursor-pointer hover:border-blue-400 transition-colors duration-200",onClick:s},[g.value||r.currentAvatarUrl?(t(),n("img",{key:0,src:g.value||r.currentAvatarUrl,alt:r.altText,class:"w-full h-full object-cover",onError:c},null,40,aa)):(t(),n("div",oa,[o(m(T),{class:"h-8 w-8 mb-1"}),l[0]||(l[0]=e("span",{class:"text-xs"},"Photo",-1))]))]),e("div",{class:"absolute inset-0 bg-black bg-opacity-50 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-200 cursor-pointer",onClick:s},[e("div",ra,[o(m(ke),{class:"h-6 w-6 mx-auto mb-1"}),l[1]||(l[1]=e("span",{class:"text-xs"},"Modifier",-1))])]),M.value?(t(),n("div",na,l[2]||(l[2]=[e("div",{class:"text-white text-center"},[e("div",{class:"animate-spin rounded-full h-6 w-6 border-b-2 border-white mx-auto mb-1"}),e("span",{class:"text-xs"},"Upload...")],-1)]))):j("",!0)]),e("input",{ref_key:"fileInput",ref:u,type:"file",accept:"image/*",class:"hidden",onChange:y},null,544),e("div",la,[e("p",ia,d(r.helpText||"Cliquez sur la photo pour la modifier"),1),e("p",ca," Formats acceptés: JPG, PNG, GIF (max "+d(r.maxSizeMB)+"MB) ",1),g.value?(t(),n("div",da,[e("button",{onClick:a,disabled:M.value,class:"px-4 py-2 bg-blue-500 text-white text-sm rounded-md hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1"},[o(m(Ce),{class:"h-4 w-4"}),I(" "+d(M.value?"Upload...":"Sauvegarder"),1)],8,ua),e("button",{onClick:k,disabled:M.value,class:"px-4 py-2 bg-gray-300 text-gray-700 text-sm rounded-md hover:bg-gray-400 disabled:opacity-50"}," Annuler ",8,ma)])):j("",!0)]),$.value?(t(),n("div",va,[e("p",fa,d($.value),1)])):j("",!0),C.value?(t(),n("div",xa,[e("p",ga,d(C.value),1)])):j("",!0)]))}},yo=G(pa,[["__scopeId","data-v-ef07ab76"]]),ba={class:"fixed top-4 right-4 z-50 space-y-2"},ha={class:"flex-shrink-0"},ya={class:"ml-3 flex-1"},_a={key:0,class:"text-sm font-semibold mb-1"},wa={class:"text-sm"},$a=["onClick"],ka={__name:"Toast",setup(r,{expose:p}){const i=A([]);let b=0;const f={success:Ie,error:Se,warning:ue,info:ne},u=c=>f[c]||ne,w=c=>{const v="bg-white/90 border-l-4",l={success:"border-blue-500 text-blue-900",error:"border-red-500 text-red-900",warning:"border-orange-500 text-orange-900",info:"border-blue-500 text-blue-900"};return`${v} ${l[c]||l.info}`},g=c=>{const v={success:"text-blue-600",error:"text-red-600",warning:"text-orange-600",info:"text-blue-600"};return v[c]||v.info},M=c=>{const v={success:"bg-blue-500",error:"bg-red-500",warning:"bg-orange-500",info:"bg-blue-500"};return v[c]||v.info},$=({title:c,message:v,type:l="info",duration:x=5e3})=>{const _=++b,z={id:_,title:c,message:v,type:l,duration:x};return i.value.push(z),x>0&&setTimeout(()=>{C(_)},x),_},C=c=>{const v=i.value.findIndex(l=>l.id===c);v>-1&&i.value.splice(v,1)},h=()=>{i.value=[]},s=(c,v="Succès")=>$({title:v,message:c,type:"success"}),y=(c,v="Erreur")=>$({title:v,message:c,type:"error"}),k=(c,v="Attention")=>$({title:v,message:c,type:"warning"}),a=(c,v="Information")=>$({title:v,message:c,type:"info"});return p({addToast:$,removeToast:C,clearAll:h,showSuccess:s,showError:y,showWarning:k,showInfo:a}),O(()=>{window.$toast={success:s,error:y,warning:k,info:a,add:$,remove:C,clear:h}}),K(()=>{delete window.$toast}),(c,v)=>(t(),B(je,{to:"body"},[e("div",ba,[o(Me,{name:"toast",tag:"div",class:"space-y-2"},{default:S(()=>[(t(!0),n(V,null,D(i.value,l=>(t(),n("div",{key:l.id,class:E([w(l.type),"flex items-start p-4 rounded-xl shadow-lg border backdrop-blur-sm max-w-sm transition-all duration-300"])},[e("div",ha,[(t(),B(U(u(l.type)),{class:E([g(l.type),"w-5 h-5"])},null,8,["class"]))]),e("div",ya,[l.title?(t(),n("h4",_a,d(l.title),1)):j("",!0),e("p",wa,d(l.message),1)]),e("button",{onClick:x=>C(l.id),class:"flex-shrink-0 ml-2 p-1 rounded-lg hover:bg-black/5 transition-colors"},[o(m(me),{class:"w-4 h-4 text-gray-400 hover:text-gray-600"})],8,$a),l.duration?(t(),n("div",{key:0,class:E([M(l.type),"absolute bottom-0 left-0 h-1 rounded-b-xl transition-all duration-linear"]),style:te({width:"100%",animationDuration:l.duration+"ms",animationName:"toast-progress"})},null,6)):j("",!0)],2))),128))]),_:1})])]))}},_o=G(ka,[["__scopeId","data-v-583315c0"]]),Ca={class:"min-h-screen bg-gray-50"},Sa={class:"bg-white shadow-sm border-b border-gray-200"},Ia={class:"mx-auto px-4 sm:px-6 lg:px-8"},Ma={class:"flex justify-between h-16"},ja={class:"flex"},Aa={class:"flex-shrink-0 flex items-center min-w-0"},Pa={key:1,class:"flex items-center space-x-1"},Ea={class:"hidden sm:ml-6 sm:flex sm:space-x-8"},Fa={class:"flex items-center space-x-2 sm:space-x-4"},za={class:"relative p-1 sm:p-2 text-gray-400 hover:text-gray-500"},Ba={key:0,class:"absolute top-0 right-0 inline-flex items-center justify-center px-1.5 py-0.5 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-red-600 rounded-full min-w-[1rem] h-4"},Ta={class:"relative ml-1 sm:ml-3"},Va={class:"h-7 w-7 sm:h-8 sm:w-8 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0"},Da={class:"text-xs sm:text-sm font-medium text-blue-600"},Na={class:"ml-2 sm:ml-3 text-gray-700 text-xs sm:text-sm font-medium hidden lg:block min-w-0 truncate"},Ua={class:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none z-50"},La={class:"py-1"},Oa={class:"sm:hidden"},Ka={class:"pt-2 pb-3 space-y-1"},Ra={class:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8"},Ha={key:0,class:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 lg:hidden z-40"},qa={class:"flex justify-around text-center"},Wa={class:"text-lg font-semibold text-gray-900"},Ga={class:"text-lg font-semibold text-blue-600"},Qa={class:"text-lg font-semibold text-purple-600"},Xa={__name:"MerchantLayout",setup(r){const p=W(),i=R(),{get:b}=H(),f=A(!1),u=A(!1),w=A(!1),g=A(0),M=A({products:"0",lotteries:"0",revenue:"0 FCFA"}),$=[{name:"Dashboard",href:"/merchant/dashboard",icon:J},{name:"Produits",href:"/merchant/products",icon:ee},{name:"Commandes",href:"/merchant/orders",icon:Pe},{name:"Tombolas",href:"/merchant/lotteries",icon:ve},{name:"Statistiques",href:"/merchant/analytics",icon:Ee},{name:"Paramètres",href:"/merchant/settings",icon:ce}],C=[{name:"Profil",href:"/merchant/profile",icon:T},{name:"Paramètres",href:"/merchant/settings",icon:ce}],h=P(()=>i.user),s=P(()=>{if(!h.value)return"U";const x=h.value.first_name?.[0]||"",_=h.value.last_name?.[0]||"";return(x+_).toUpperCase()}),y=P(()=>window.innerWidth<1024),k=async()=>{await i.logout(),p.push({name:"login"})},a=()=>{w.value=!0},c=async()=>{try{const _=(await b("/merchant/dashboard/stats")).data;M.value={products:_.total_products?.toString()||"0",lotteries:_.active_lotteries?.toString()||"0",revenue:l(_.revenue_this_month||0)}}catch(x){console.error("Erreur lors du chargement des stats rapides:",x),M.value={products:"0",lotteries:"0",revenue:"0 FCFA"}}},v=async()=>{try{const x=await b("/notifications/unread-count");x&&x.data&&x.data.unread_count!==void 0&&(g.value=x.data.unread_count)}catch(x){console.error("Erreur lors du chargement des notifications:",x),g.value=0}},l=x=>new Intl.NumberFormat("fr-FR",{minimumFractionDigits:0,maximumFractionDigits:0}).format(x||0)+" FCFA";return O(()=>{c(),v();const x=setInterval(v,120*1e3),_=setInterval(c,300*1e3),z=Q=>{Q.target.closest(".relative")||(f.value=!1)};document.addEventListener("click",z),K(()=>{document.removeEventListener("click",z),clearInterval(x),clearInterval(_)})}),(x,_)=>{const z=N("router-link"),Q=N("router-view");return t(),n("div",Ca,[e("nav",Sa,[e("div",Ia,[e("div",Ma,[e("div",ja,[e("div",Aa,[o(z,{to:"/merchant/dashboard",class:"flex items-center"},{default:S(()=>[w.value?(t(),n("div",Pa,_[3]||(_[3]=[e("div",{class:"w-5 h-5 sm:w-6 sm:h-6 bg-[#0099cc] rounded flex items-center justify-center flex-shrink-0"},[e("span",{class:"text-white font-bold text-xs sm:text-sm"},"K")],-1),e("span",{class:"text-sm sm:text-lg font-bold text-[#0099cc] whitespace-nowrap"},"Koumbaya",-1)]))):(t(),n("img",{key:0,class:"h-6 sm:h-8 w-auto object-contain max-w-none",src:se,alt:"Koumbaya",onError:a},null,32)),_[4]||(_[4]=e("span",{class:"ml-1 sm:ml-2 text-xs sm:text-sm text-[#0099cc] font-medium whitespace-nowrap"},"Marchand",-1))]),_:1,__:[4]})]),e("div",Ea,[(t(),n(V,null,D($,F=>o(z,{key:F.name,to:F.href,class:E(["inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium",x.$route.path.startsWith(F.href)?"border-[#0099cc] text-gray-900":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"])},{default:S(()=>[(t(),B(U(F.icon),{class:"w-4 h-4 mr-2"})),I(" "+d(F.name),1)]),_:2},1032,["to","class"])),64))])]),e("div",Fa,[e("button",za,[o(m(Z),{class:"h-5 w-5 sm:h-6 sm:w-6"}),g.value>0?(t(),n("span",Ba,d(g.value),1)):j("",!0)]),e("div",Ta,[e("div",null,[e("button",{onClick:_[0]||(_[0]=F=>f.value=!f.value),class:"flex items-center max-w-xs bg-white rounded-full text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#0099cc]"},[_[5]||(_[5]=e("span",{class:"sr-only"},"Open user menu",-1)),e("div",Va,[e("span",Da,d(s.value),1)]),e("span",Na,d(h.value?.first_name)+" "+d(h.value?.last_name),1),o(m(q),{class:"ml-1 sm:ml-2 h-3 w-3 sm:h-4 sm:w-4 text-gray-500 flex-shrink-0"})])]),o(Ae,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:S(()=>[le(e("div",Ua,[e("div",La,[(t(),n(V,null,D(C,F=>o(z,{key:F.name,to:F.href,onClick:_[1]||(_[1]=fe=>f.value=!1),class:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"},{default:S(()=>[(t(),B(U(F.icon),{class:"w-4 h-4 mr-3"})),I(" "+d(F.name),1)]),_:2},1032,["to"])),64)),e("button",{onClick:k,class:"flex items-center w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"},[o(m(L),{class:"w-4 h-4 mr-3"}),_[6]||(_[6]=I(" Déconnexion ",-1))])])],512),[[ie,f.value]])]),_:1})])])])])]),le(e("div",Oa,[e("div",Ka,[(t(),n(V,null,D($,F=>o(z,{key:F.name,to:F.href,onClick:_[2]||(_[2]=fe=>u.value=!1),class:E(["block pl-3 pr-4 py-2 border-l-4 text-base font-medium",x.$route.path.startsWith(F.href)?"bg-blue-50 border-blue-500 text-blue-700":"border-transparent text-gray-500 hover:bg-gray-100 hover:border-gray-300 hover:text-gray-700"])},{default:S(()=>[(t(),B(U(F.icon),{class:"w-5 h-5 mr-3 inline"})),I(" "+d(F.name),1)]),_:2},1032,["to","class"])),64))])],512),[[ie,u.value]]),e("main",Ra,[o(Q)]),o(ae),y.value?(t(),n("div",Ha,[e("div",qa,[e("div",null,[e("div",Wa,d(M.value.products),1),_[7]||(_[7]=e("div",{class:"text-xs text-gray-600"},"Produits",-1))]),e("div",null,[e("div",Ga,d(M.value.lotteries),1),_[8]||(_[8]=e("div",{class:"text-xs text-gray-600"},"Tombolas",-1))]),e("div",null,[e("div",Qa,d(M.value.revenue),1),_[9]||(_[9]=e("div",{class:"text-xs text-gray-600"},"Revenus",-1))])])])):j("",!0)])}}},wo=Object.freeze(Object.defineProperty({__proto__:null,default:Xa},Symbol.toStringTag,{value:"Module"})),Ja={class:"koumbaya-card group hover:scale-105 transition-all duration-300 cursor-pointer"},Ya={class:"koumbaya-card-body"},Za={key:0,class:"flex items-center justify-center h-24"},eo={key:1,class:"flex items-center justify-between"},to={class:"flex-1"},so={class:"space-y-1"},ao={class:"text-sm font-medium text-gray-600 group-hover:text-gray-700 transition-colors"},oo={class:"text-3xl font-bold text-gray-900 group-hover:text-koumbaya-primary transition-colors"},ro={key:0,class:"flex items-center mt-2 space-x-1"},no={class:"text-sm text-gray-500"},lo={key:2,class:"mt-4"},io={class:"flex justify-between text-xs text-gray-500 mb-1"},co={class:"w-full bg-gray-200 rounded-full h-2"},uo={key:3,class:"flex gap-2 mt-4"},mo=["onClick"],$o={__name:"StatsCard",props:{title:{type:String,required:!0},value:{type:[Number,String],required:!0},icon:{type:[Object,Function],required:!0},change:{type:Number,default:void 0},period:{type:String,default:"mois dernier"},color:{type:String,default:"blue",validator:r=>["blue","green","orange","red","purple","indigo"].includes(r)},format:{type:String,default:"number",validator:r=>["number","currency","percentage"].includes(r)},showProgress:{type:Boolean,default:!1},progressValue:{type:Number,default:void 0},progressTarget:{type:Number,default:100},actions:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},emits:["action"],setup(r,{emit:p}){const i=r,b=p,f=P(()=>{const y=i.value;switch(i.format){case"currency":return new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XAF",minimumFractionDigits:0}).format(y).replace("XAF","FCFA");case"percentage":return`${y}%`;default:return new Intl.NumberFormat("fr-FR").format(y)}}),u=P(()=>i.change===void 0?de:i.change>0?Fe:i.change<0?ze:de),w=P(()=>i.change===void 0?"text-gray-400":i.change>0?"text-blue-600":i.change<0?"text-red-600":"text-gray-400"),g={blue:{iconBg:"bg-blue-100 group-hover:bg-blue-200",iconColor:"text-blue-600",progress:"bg-gradient-to-r from-blue-500 to-blue-600"},green:{iconBg:"bg-blue-100 group-hover:bg-blue-200",iconColor:"text-blue-600",progress:"bg-gradient-to-r from-blue-500 to-blue-600"},orange:{iconBg:"bg-orange-100 group-hover:bg-orange-200",iconColor:"text-orange-600",progress:"bg-gradient-to-r from-orange-500 to-orange-600"},red:{iconBg:"bg-red-100 group-hover:bg-red-200",iconColor:"text-red-600",progress:"bg-gradient-to-r from-red-500 to-red-600"},purple:{iconBg:"bg-purple-100 group-hover:bg-purple-200",iconColor:"text-purple-600",progress:"bg-gradient-to-r from-purple-500 to-purple-600"},indigo:{iconBg:"bg-indigo-100 group-hover:bg-indigo-200",iconColor:"text-indigo-600",progress:"bg-gradient-to-r from-indigo-500 to-indigo-600"}},M=P(()=>g[i.color]?.iconBg||g.blue.iconBg),$=P(()=>g[i.color]?.iconColor||g.blue.iconColor),C=P(()=>g[i.color]?.progress||g.blue.progress),h=P(()=>!i.showProgress||i.progressValue===void 0?0:Math.min(i.progressValue/i.progressTarget*100,100)),s=y=>{b("action",y)};return(y,k)=>(t(),n("div",Ja,[e("div",Ya,[r.loading?(t(),n("div",Za,k[0]||(k[0]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1)]))):(t(),n("div",eo,[e("div",to,[e("div",so,[e("p",ao,d(r.title),1),e("p",oo,d(f.value),1)]),r.change!==void 0?(t(),n("div",ro,[(t(),B(U(u.value),{class:E([w.value,"w-4 h-4"])},null,8,["class"])),e("span",{class:E([w.value,"text-sm font-medium"])},d(Math.abs(r.change))+"% ",3),e("span",no," vs "+d(r.period||"mois dernier"),1)])):j("",!0)]),e("div",{class:E([M.value,"p-4 rounded-xl group-hover:scale-110 transition-transform duration-300"])},[(t(),B(U(r.icon),{class:E([$.value,"w-8 h-8"])},null,8,["class"]))],2)])),r.showProgress&&r.progressValue!==void 0?(t(),n("div",lo,[e("div",io,[e("span",null,"Objectif: "+d(r.progressTarget),1),e("span",null,d(Math.round(h.value))+"%",1)]),e("div",co,[e("div",{class:E([C.value,"h-2 rounded-full transition-all duration-500"]),style:te({width:h.value+"%"})},null,6)])])):j("",!0),r.actions?.length?(t(),n("div",uo,[(t(!0),n(V,null,D(r.actions,a=>(t(),n("button",{key:a.label,onClick:c=>s(a),class:E(["flex-1 text-xs px-3 py-1.5 rounded-lg font-medium transition-all duration-200",a.primary?"bg-koumbaya-primary text-white hover:bg-koumbaya-primary-dark":"bg-gray-100 text-gray-600 hover:bg-gray-200"])},d(a.label),11,mo))),128))])):j("",!0)])]))}};export{yo as A,wo as M,ho as P,_o as T,Is as _,$o as a,go as b,po as c,bo as d,Te as l};
