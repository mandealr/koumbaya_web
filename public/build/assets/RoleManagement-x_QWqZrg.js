import{c as p}from"./app-3J-7CZPC.js";import{r as c,c as h,j as b,b as a,e as t,t as r,F as _,z as w,o,x}from"./vendor-Bi4LjMey.js";const k={class:"p-6"},A={class:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6"},M={class:"bg-white rounded-lg shadow p-4"},C={class:"text-2xl font-bold text-gray-900"},B={class:"bg-white rounded-lg shadow p-4"},z={class:"text-2xl font-bold text-green-600"},E={class:"bg-white rounded-lg shadow p-4"},S={class:"text-2xl font-bold text-red-600"},j={class:"bg-white rounded-lg shadow p-4"},H={class:"text-2xl font-bold text-blue-600"},R={class:"bg-white rounded-lg shadow overflow-hidden"},N={key:0,class:"text-center py-12"},P={key:1,class:"text-center py-12"},I={class:"text-red-600"},L={key:2,class:"text-center py-12"},U={key:3,class:"p-6"},F={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},G={class:"flex items-start justify-between mb-4"},T={class:"flex-1"},V={class:"text-lg font-semibold text-gray-900"},D={class:"text-sm text-gray-500 mt-1"},q={class:"space-y-3"},J={class:"flex items-center text-sm"},K={class:"ml-2 font-medium text-gray-900"},O={class:"flex items-center text-sm"},Q={class:"ml-2 font-medium text-gray-900"},W={class:"flex items-center text-sm"},X={class:"ml-2 font-medium text-gray-900"},Y={class:"mt-4 pt-4 border-t border-gray-200"},et={__name:"RoleManagement",setup(Z){const i=c([]),l=c({}),u=c(!1),d=c(""),v=h(()=>i.value.reduce((s,e)=>s+(e.users_count||0),0)),g=async()=>{u.value=!0,d.value="";try{const s=await p.get("/admin/roles");s.data.success?i.value=s.data.data?.roles||[]:i.value=[]}catch(s){d.value=s.response?.data?.message||"Erreur lors du chargement des rôles",console.error("Error fetching roles:",s)}finally{u.value=!1}},y=async()=>{try{const s=await p.get("/admin/roles/statistics");l.value=s.data.stats||{}}catch(s){console.error("Error fetching statistics:",s)}},m=s=>({superadmin:"Super Admin",admin:"Administrateur",agent:"Agent de Support",business_enterprise:"Marchand Entreprise",business_individual:"Marchand Particulier",particulier:"Client","Super Admin":"Super Admin",Admin:"Administrateur",Agent:"Agent de Support","Business Enterprise":"Marchand Entreprise","Business Individual":"Marchand Particulier",Particulier:"Client"})[s]||s,f=s=>{const e=s.toLowerCase();return e.includes("superadmin")||e.includes("super admin")?"bg-purple-100 text-purple-800":e.includes("admin")?"bg-blue-100 text-blue-800":e.includes("agent")?"bg-green-100 text-green-800":e.includes("business")||e.includes("marchand")?"bg-orange-100 text-orange-800":(e.includes("particulier")||e.includes("client"),"bg-gray-100 text-gray-800")};return b(()=>{g(),y()}),(s,e)=>(o(),a("div",k,[e[12]||(e[12]=t("div",{class:"mb-6"},[t("h1",{class:"text-2xl font-bold text-gray-900"},"Gestion des rôles"),t("p",{class:"text-gray-600 mt-1"},"Gérer les rôles et leurs privilèges associés")],-1)),t("div",A,[t("div",M,[e[0]||(e[0]=t("div",{class:"text-sm text-gray-500"},"Total",-1)),t("div",C,r(l.value.total||0),1)]),t("div",B,[e[1]||(e[1]=t("div",{class:"text-sm text-gray-500"},"Actifs",-1)),t("div",z,r(l.value.active||0),1)]),t("div",E,[e[2]||(e[2]=t("div",{class:"text-sm text-gray-500"},"Inactifs",-1)),t("div",S,r(l.value.inactive||0),1)]),t("div",j,[e[3]||(e[3]=t("div",{class:"text-sm text-gray-500"},"Utilisateurs",-1)),t("div",H,r(v.value||0),1)])]),t("div",R,[u.value?(o(),a("div",N,e[4]||(e[4]=[t("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"},null,-1),t("p",{class:"mt-2 text-gray-600"},"Chargement...",-1)]))):d.value?(o(),a("div",P,[t("p",I,r(d.value),1),t("button",{onClick:g,class:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"}," Réessayer ")])):i.value.length===0?(o(),a("div",L,e[5]||(e[5]=[t("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})],-1),t("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"Aucun rôle trouvé",-1),t("p",{class:"mt-1 text-sm text-gray-500"},"Aucun rôle n'est configuré dans le système.",-1)]))):(o(),a("div",U,[t("div",F,[(o(!0),a(_,null,w(i.value,n=>(o(),a("div",{key:n.id,class:"bg-gray-50 rounded-lg p-6 border-2 border-gray-200 hover:border-blue-400 transition-colors"},[t("div",G,[t("div",T,[t("h3",V,r(m(n.name)),1),t("p",D,r(n.description||"Aucune description"),1)]),t("span",{class:x([n.active?"bg-green-100 text-green-800":"bg-red-100 text-red-800","px-2 py-1 text-xs font-semibold rounded-full ml-2"])},r(n.active?"Actif":"Inactif"),3)]),t("div",q,[t("div",J,[e[6]||(e[6]=t("svg",{class:"h-5 w-5 text-gray-400 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})],-1)),e[7]||(e[7]=t("span",{class:"text-gray-600"},"Type:",-1)),t("span",K,r(n.user_type?.name||"N/A"),1)]),t("div",O,[e[8]||(e[8]=t("svg",{class:"h-5 w-5 text-gray-400 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})],-1)),e[9]||(e[9]=t("span",{class:"text-gray-600"},"Utilisateurs:",-1)),t("span",Q,r(n.users_count||0),1)]),t("div",W,[e[10]||(e[10]=t("svg",{class:"h-5 w-5 text-gray-400 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})],-1)),e[11]||(e[11]=t("span",{class:"text-gray-600"},"Privilèges:",-1)),t("span",X,r(n.privileges_count||0),1)])]),t("div",Y,[t("span",{class:x([f(n.name),"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium"])},r(m(n.name)),3)])]))),128))])]))])]))}};export{et as default};
